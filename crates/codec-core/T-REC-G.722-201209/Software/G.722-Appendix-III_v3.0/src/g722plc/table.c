/* ITU G.722 3rd Edition (2012-09) */

/* ITU-T G.722 Appendix III                                                      */
/* Version:       1.0                                                            */
/* Revision Date: Nov.02, 2006                                                   */

/*
  ITU-T G.722 Appendix III ANSI-C Source Code
  Copyright (c)  Broadcom Corporation 2006.
*/

#include "typedef.h"
#include "table.h"

/* For functions: hsbupd() and lsbupd() */
Word16 inv_frm_size[]={10923,8192,6554}; /* 1/3, 1/4, 1/5 */

/* For function: quantl_toupdatescaling_logscl() */
Word16 wlil4rilil[] =  {-60, -60, -30, 58, 172, 334, 538, 1198, 3042};
Word16 q4[] = {0, 576, 1864, 3376, 5200, 7520, 10712, 15840};

/* For functions: hsbdec(), plc_hsbdec() */
Word16 NGFAEOFFSET_P1[] = {1,81,161,241,321,401,481,561};

Word16  div_n[] = { 32767, 16384, 10923, 8192, 6554, 5461, 4681, 4096,
					      3641,  3277,  2979, 2731, 2521, 2341, 2185, 2048,
					      1928, 1820, 1725, 1638 };

Word16 gawd[] = { -52, -69, -104, -207};
Word16 olaup[] = { 3641, 7282, 10923, 14564, 18204, 21845, 25486, 29127 };
Word16 oladown[] = { 29127, 25486, 21845, 18204, 14564, 10923, 7282, 3641 };

Word16	wn[] = {		/* Q13 white Gaussian noise */
 11318,   6246,  -7133,   4851,  19502,   3238,   2117,  11768,   -123, -12182,
 -5083,   6904,  -8331,  12533,   2244,   1086,   3515,   -641,  -5284,   4288,
 11875,  14937,  -6421,   7376,  -9387,  11827,    136,   1998,  15653, -18993,
  1032,  -9927, -14238,   5824,  -3696,  -3685,    768,  -3978,  -5140,   8023,
 -7443,  -2361,   4507,  -7334,    -76,   5734,   1411,  23579, -11935,   9352,
  7106,  -7619,  -5360,    600,   -113,   -703, -14240,  15556,  -4285,    864,
  2623,   8400,   4661,   2242, -12796,   8859,  14561, -13138, -14018,   -683,
   744,  -7704,  -5159,   -258, -11363,   6698,    544,   1363,  14581,  -7101,
 14164,   9639,  -1523,   2873,  12970,   2991,   4346,   3643,   -665,  12013,
  8938,  15734,  -3767,   5163,   6760,   2011,  11995,   5748, -10123,  -4084,
 -6633,   3235,  -4630, -19221,  -6073,  13249,  -3013,  24686, -14938,  -4900,
  5000,  13637,  -4159,  -4536,  11286,    374,   6838,  11245,   2786,   9847,
  6991, -12057,  -4652,   5072, -17886,  -6948, -22329}; 

/* For coarse pitch search */
Word16  bdf[]= {
  1209,    728,   1120,   1460,   1845,   2202,   2533,   2809,   3030,   3169,
  3207,   3124,   2927,   2631,   2257,   1814,   1317,    789,    267,   -211,
  -618,   -941,  -1168,  -1289,  -1298,  -1199,   -995,   -701,   -348,    -20,
   165,    365,    607,    782,    885,    916,    881,    790,    654,    490,
   313,    143,     -6,   -126,   -211,   -259,   -273,   -254,   -210,   -152,
   -89,    -30,     21,     58,     81,     89,     84,     66,     41,     17};

Word16  x[4] = { 4096, 8192, 12288, 16384 };
Word16  x2[4] = { 512, 2048, 4608, 8192 };
Word16  invk[4] = { 16384, 10923, 8192, 6554 };
Word16  MPTH[4]={22938, 18022, 15728, 12124};

/* For spectral smoothing technique */
Word16  sstwin_h[] = {
   32750, 32702, 32621, 32509, 32365, 32189, 31984, 31748 };	/* 45 dB */

Word16	sstwin_l[] = {
   26146, 11409, 24833,  8680,  6585, 32423,  4714,  8677 };	/* 45 dB */

/* For bandwidth expansion */
Word16 bwel[] =  {
   32767, 31737,  30738,  29770,  28833,  27925,  27046,  26195,  25370 };

/* For deriving perceptual weighting filter */
Word16 	STWAL[] = {
   32767, 24576, 18432, 13824, 10368, 7776, 5832, 4374, 3281 };

Word16 win[] = {	/* Q15 */
     6,    22,    50,    88,   138,   198,   270,   352,
   445,   549,   664,   789,   924,  1071,  1227,  1393,
  1570,  1757,  1953,  2160,  2376,  2601,  2836,  3079,
  3332,  3593,  3864,  4142,  4429,  4724,  5027,  5337,
  5655,  5980,  6312,  6651,  6996,  7348,  7706,  8070,
  8439,  8813,  9193,  9578,  9967, 10361, 10758, 11160,
 11564, 11973, 12384, 12797, 13214, 13632, 14052, 14474,
 14897, 15321, 15746, 16171, 16597, 17022, 17447, 17871,
 18294, 18716, 19136, 19554, 19971, 20384, 20795, 21204,
 21608, 22010, 22407, 22801, 23190, 23575, 23955, 24329,
 24698, 25062, 25420, 25772, 26117, 26456, 26788, 27113,
 27431, 27741, 28044, 28339, 28626, 28904, 29175, 29436,
 29689, 29932, 30167, 30392, 30608, 30815, 31011, 31198,
 31375, 31541, 31697, 31844, 31979, 32104, 32219, 32323,
 32416, 32498, 32570, 32630, 32680, 32718, 32746, 32762,
 32767, 32743, 32667, 32541, 32365, 32138, 31863, 31538,
 31164, 30743, 30274, 29758, 29197, 28590, 27939, 27246,
 26510, 25733, 24917, 24062, 23170, 22243, 21281, 20286,
 19261, 18205, 17121, 16011, 14876, 13719, 12540, 11342,
 10126,  8895,  7650,  6393,  5126,  3851,  2571,  1286 
};


/*-----------------------------------------------------*
 | Table for routine Log2().                           |
 -----------------------------------------------------*/

Word16 tablog[33] = {
     0,  1455,  2866,  4236,  5568,  6863,  8124,  9352, 10549, 11716,
 12855, 13967, 15054, 16117, 17156, 18172, 19167, 20142, 21097, 22033,
 22951, 23852, 24735, 25603, 26455, 27291, 28113, 28922, 29716, 30497,
 31266, 32023, 32767 };

	 Word16	olaug[] = {
	  799,  1598,  2398,  3197,  3996,  4795,  5595,  6394,  7193,  7992, 
	 8791,  9591, 10390, 11189, 11988, 12788, 13587, 14386, 15185, 15984, 
	16784, 17583, 18382, 19181, 19980, 20780, 21579, 22378, 23177, 23977, 
	24776, 25575, 26374, 27173, 27973, 28772, 29571, 30370, 31170, 31969 
};


Word16	oladg[] = {
	31969, 31170, 30370, 29571, 28772, 27973, 27173, 26374, 25575, 24776,
	23977, 23177, 22378, 21579, 20780, 19980, 19181, 18382, 17583, 16784,
	15984, 15185, 14386, 13587, 12788, 11988, 11189, 10390,  9591,  8791,
	 7992,  7193,  6394,  5595,  4795,  3996,  3197,  2398,  1598,   799
};

Word16 nbphtab[]={32640,128,32512,256,32256,512,31744,1024};
Word16 nbpltab[]={28672,4096,24576,8192,16384,16384};

Word16 ola3[] = { 8192, 16384, 24576 };
Word16 ola4[] = { 6554, 13107, 19661, 26214};
Word16 ola5[] = { 5461, 10923, 16384, 21845, 27307};
Word16 ola6[] = { 4681,  9362, 14043, 18725, 23406, 28087};
Word16 ola7[] = { 4096,  8192, 12288, 16384, 20480, 24576, 28672};
Word16 ola8[] = { 3641,  7282, 10923, 14564, 18204, 21845, 25486, 29127};
