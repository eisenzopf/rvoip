/* ITU G.722 3rd Edition (2012-09) */

/*--------------------------------------------------------------------------
 ITU-T G.722 Annex C (ex G.722-SWB-Float) Source Code
 Software Release 1.01 (2012-07)
 (C) 2012 France Telecom, Huawei Technologies, VoiceAge Corp., NTT.
--------------------------------------------------------------------------*/

/*
*------------------------------------------------------------------------
*  File: table_lowband.c
*  Function: Tables for lower-band modules
*------------------------------------------------------------------------
*/

#include "floatutil.h"

/* table to read IL frorm SIL and MIL: misil(sil(0,1),mil(1,31)) */
const Short   misil5b[30] =
{
  0x003E, 0x001E, 0x001C, 0x001A, 0x0018, 0x0016, 0x0014, 0x0012, 
  0x0010, 0x000E, 0x000C, 0x000A, 0x0008, 0x0006, 0x0004,
  0x003C, 0x003A, 0x0038, 0x0036, 0x0034, 0x0032, 0x0030, 0x002E, 
  0x002C, 0x002A, 0x0028, 0x0026, 0x0024, 0x0022, 0x0020
};
/* 5 levels quantizer level od decision */
const Short   q5b[15] =
{
  576, 1200, 1864, 2584, 3376, 4240, 5200, 6288, 
  7520, 8968, 10712, 12896, 15840, 20456, 25600 
};


const Short   misih[2][3] =
{
  {0, 1, 0},
  {0, 3, 2}
};
const Short   q2 = 4512;

const Short   qtab6[64] = 
{
  -136, -136, -136, -136, -24808, -21904, -19008, -16704, 
  -14984, -13512, -12280, -11192, -10232, -9360, -8576, -7856, 
  -7192, -6576, -6000, -5456, -4944, -4464, -4008, -3576, 
  -3168, -2776, -2400, -2032, -1688, -1360, -1040, -728, 
  24808, 21904, 19008, 16704, 14984, 13512, 12280, 11192, 
  10232, 9360, 8576, 7856, 7192, 6576, 6000, 5456, 
  4944, 4464, 4008, 3576, 3168, 2776, 2400, 2032, 
  1688, 1360, 1040, 728, 432, 136, -432, -136
};
const Short   qtab5[32] = 
{
  -280, -280, -23352, -17560, -14120, -11664, -9752, -8184, 
  -6864, -5712, -4696, -3784, -2960, -2208, -1520, -880, 
  23352, 17560, 14120, 11664, 9752, 8184, 6864, 5712, 
  4696, 3784, 2960, 2208, 1520, 880, 280, -280
};
const Short   qtab4[16] = 
{
  0, -20456, -12896, -8968, -6288, -4240, -2584, -1200, 
  20456, 12896, 8968, 6288, 4240, 2584, 1200, 0
};

const Short   qtab2[4] = 
{
  -7408, -1616, 7408, 1616
};

const Short   whi[4] =  
{
  798, -214, 798, -214
};

const Short   wli[16] =  
{
  -60, 3042, 1198, 538 ,334 ,172 ,58 ,-30, 3042, 1198, 538 ,334 ,172 ,58 ,-30, -60
};

const Short   ila2[353] =
{
  8, 8, 8, 8, 8, 8, 8, 8, 
  8, 8, 8, 8, 8, 8, 8, 8, 
  8, 8, 8, 12, 12, 12, 12, 12, 
  12, 12, 12, 12, 12, 12, 12, 12, 
  16, 16, 16, 16, 16, 16, 16, 16, 
  16, 16, 16, 20, 20, 20, 20, 20, 
  20, 20, 20, 24, 24, 24, 24, 24, 
  24, 24, 28, 28, 28, 28, 28, 28, 
  32, 32, 32, 32, 32, 32, 36, 36, 
  36, 36, 36, 40, 40, 40, 40, 44, 
  44, 44, 44, 48, 48, 48, 48, 52, 
  52, 52, 56, 56, 56, 56, 60, 60, 
  64, 64, 64, 68, 68, 68, 72, 72, 
  76, 76, 76, 80, 80, 84, 84, 88, 
  88, 92, 92, 96, 96, 100, 100, 104, 
  104, 108, 112, 112, 116, 116, 120, 124, 
  128, 128, 132, 136, 136, 140, 144, 148, 
  152, 152, 156, 160, 164, 168, 172, 176, 
  180, 184, 188, 192, 196, 200, 204, 208, 
  212, 220, 224, 228, 232, 236, 244, 248, 
  256, 260, 264, 272, 276, 284, 288, 296, 
  304, 308, 316, 324, 332, 336, 344, 352, 
  360, 368, 376, 384, 392, 400, 412, 420, 
  428, 440, 448, 456, 468, 476, 488, 500, 
  512, 520, 532, 544, 556, 568, 580, 592, 
  608, 620, 632, 648, 664, 676, 692, 708, 
  724, 740, 756, 772, 788, 804, 824, 840, 
  860, 880, 896, 916, 936, 956, 980, 1000, 
  1024, 1044, 1068, 1092, 1116, 1140, 1164, 1188, 
  1216, 1244, 1268, 1296, 1328, 1356, 1384, 1416, 
  1448, 1480, 1512, 1544, 1576, 1612, 1648, 1684, 
  1720, 1760, 1796, 1836, 1876, 1916, 1960, 2004, 
  2048, 2092, 2136, 2184, 2232, 2280, 2332, 2380, 
  2432, 2488, 2540, 2596, 2656, 2712, 2772, 2832, 
  2896, 2960, 3024, 3088, 3156, 3228, 3296, 3368, 
  3444, 3520, 3596, 3676, 3756, 3836, 3920, 4008, 
  4096, 4184, 4276, 4372, 4464, 4564, 4664, 4764, 
  4868, 4976, 5084, 5196, 5312, 5428, 5548, 5668, 
  5792, 5920, 6048, 6180, 6316, 6456, 6596, 6740, 
  6888, 7040, 7192, 7352, 7512, 7676, 7844, 8016, 
  8192, 8372, 8556, 8744, 8932, 9128, 9328, 9532, 
  9740, 9956, 10172, 10396, 10624, 10856, 11096, 11336, 
  11584, 11840, 12100, 12364, 12632, 12912, 13192, 13484, 
  13776, 14080, 14388, 14704, 15024, 15352, 15688, 16032, 
  16384
};

const Short   coef_qmf[24] =
{
  3 * 2, -11 * 2, -11 * 2, 53 * 2, 12 * 2, -156 * 2,
  32 * 2, 362 * 2, -210 * 2, -805 * 2, 951 * 2, 3876 * 2,
  3876 * 2, 951 * 2, -805 * 2, -210 * 2, 362 * 2, 32 * 2,
  -156 * 2, 12 * 2, 53 * 2, -11 * 2, -11 * 2, 3 * 2
};
const Float   fl_coef_qmf[24] =
  {
    1.8310546875e-4f, -6.7138671875e-4f, -6.7138671875e-4f, 3.2348632813e-3f, 
	7.3242187500e-4f, -9.5214843750e-3f, 1.9531250000e-3f, 2.2094726563e-2f, 
	-1.2817382813e-2f, -4.9133300781e-2f, 5.8044433594e-2f, 2.3657226563e-1f, 
	2.3657226563e-1f, 5.8044433594e-2f, -4.9133300781e-2f, -1.2817382813e-2f, 
	2.2094726563e-2f, 1.9531250000e-3f, -9.5214843750e-3f, 7.3242187500e-4f, 
	3.2348632813e-3f, -6.7138671875e-4f, -6.7138671875e-4f, 1.8310546875e-4f
  };

/* Inverse quantize 2 and 4 bit tables for the decoder */
const Short   oq4new[16] = {-14552,-8768,-6832,-5256,-3776,-2512,-1416,-440,5256,6832,8768,14552,440,1416,2512,3776};
const Short   oq3new[8]  = {-9624,-5976,-3056,-872,5976,9624,872,3056}; 
const Short   tresh_enh[4] = {-392, -348, 392, 348}; 
const Short   oq4_3new[24] = {-14552,-8768,-6832,-5256,-3776,-2512,-1416,-440,5256,6832,8768,14552,440,1416,2512,3776,-9624,-5976,-3056,-872,5976,9624,872,3056}; 

const Short code_mask[4]={0x00FF, 0x00FF, 0x00FE, 0x00FC}; 

const Short * invqbl_tab[4]={0, qtab6, qtab5, qtab4};
const Short   invqbl_shift[4]={0, 0, 1, 2};
const Short * invqbh_tab[4]={0, oq4new, oq3new, qtab2};


