/* ITU G.722 3rd Edition (2012-09) */

/*--------------------------------------------------------------------------
 ITU-T Annex B (ex G.722-SWB) Source Code
 Software Release 1.00 (2010-09)
 (C) 2010 France Telecom, Huawei Technologies, NTT, VoiceAge Corp.
--------------------------------------------------------------------------*/

/*
 *------------------------------------------------------------------------
 *  File: table_lowband.c
 *  Function: Tables for lower-band modules
 *------------------------------------------------------------------------
 */

#include "pcmswb_common.h"
#include "ns.h"

/***********************************
   Tables used in autocorr_ns.c
 ***********************************/

/* Window for LPC analysis in noise shaping, Q15 */
/* Average of cos/ham (60+20) */
Word16 NS_window[L_WINDOW] = {
      0,    668,   1142,   1636,   2152,   2688,   3245,   3820,   4414,   5026,
   5654,   6299,   6959,   7634,   8321,   9020,   9731,  10451,  11181,  11917,
  12660,  13408,  14160,  14913,  15668,  16423,  17176,  17925,  18671,  19410,
  20142,  20866,  21579,  22282,  22971,  23646,  24306,  24950,  25575,  26181,
  26767,  27332,  27873,  28391,  28884,  29352,  29793,  30206,  30590,  30946,
  31271,  31566,  31830,  32061,  32261,  32428,  32562,  32663,  32730,  32764,
  32730,  32428,  31830,  30946,  29793,  28391,  26767,  24950,  22971,  20866,
  18671,  16423,  14160,  11917,   9731,   7634,   5654,   3820,   2152,    668};

/* Lag window for noise shaping */
/* Bandwidth expansion = 120Hz (fs = 8kHz) */
/* noise floor = 1.0001 (1/1.0001 on r[1]..r[M], r[0] not stored) */
/* for i=1:M-1, wdw(i)=32768/wnc*exp(-.5*(2*pi*bwe/fs*i)^2); end; */

/*floor(exp(-0.5*(2*pi*120*k/8000)^2)*.9999*32768) */
const Word16 NS_lag_h[ORD_M] = {
  32619,
  32187,
  31480,
  30517
};

/*floor(rem(floor(exp(-0.5*(2*pi*120*k/8000)^2)*.9999*32768*65536+0.5),65536)/2)*/
const Word16 NS_lag_l[ORD_M] = {
  17275,
  25832,
  28989,
  7367,
};

