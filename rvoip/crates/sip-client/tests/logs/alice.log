warning: unused import: `TypedBroadcastSender`
 --> crates/infra-common/src/events/bus.rs:3:45
  |
3 | use crate::events::registry::{TypeRegistry, TypedBroadcastSender, TypedBroadcastReceiver, GlobalTypeRe...
  |                                             ^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `Instant`
 --> crates/infra-common/src/events/bus.rs:5:27
  |
5 | use std::time::{Duration, Instant};
  |                           ^^^^^^^

warning: unused import: `async_trait::async_trait`
 --> crates/infra-common/src/events/bus.rs:9:5
  |
9 | use async_trait::async_trait;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `EventType`
 --> crates/infra-common/src/events/registry.rs:1:35
  |
1 | use crate::events::types::{Event, EventType, StaticEvent};
  |                                   ^^^^^^^^^

warning: unused import: `once_cell::sync::OnceCell`
 --> crates/infra-common/src/events/registry.rs:6:5
  |
6 | use once_cell::sync::OnceCell;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::RwLock`
 --> crates/infra-common/src/events/registry.rs:9:5
  |
9 | use std::sync::RwLock;
  |     ^^^^^^^^^^^^^^^^^

warning: unused import: `std::marker::PhantomData`
 --> crates/infra-common/src/events/subscriber.rs:4:5
  |
4 | use std::marker::PhantomData;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::time::Duration`
 --> crates/infra-common/src/events/types.rs:6:5
  |
6 | use std::time::Duration;
  |     ^^^^^^^^^^^^^^^^^^^

warning: unused import: `EventError`
 --> crates/infra-common/src/events/api.rs:9:48
  |
9 | use crate::events::types::{Event, EventResult, EventError, EventFilter};
  |                                                ^^^^^^^^^^

warning: unused import: `StaticEvent`
  --> crates/infra-common/src/events/static_path.rs:14:60
   |
14 | use crate::events::types::{Event, EventResult, EventError, StaticEvent, EventFilter};
   |                                                            ^^^^^^^^^^^

warning: unused imports: `EventError` and `StaticEvent`
  --> crates/infra-common/src/events/system.rs:16:48
   |
16 | use crate::events::types::{Event, EventResult, EventError, EventFilter, StaticEvent};
   |                                                ^^^^^^^^^^               ^^^^^^^^^^^

warning: unused imports: `EventSystemBuilder` and `ImplementationType`
  --> crates/infra-common/src/events/system.rs:21:30
   |
21 | use crate::events::builder::{ImplementationType, EventSystemBuilder};
   |                              ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::Arc`
 --> crates/infra-common/src/config/loader.rs:3:5
  |
3 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^

warning: unused import: `ConfigProvider`
 --> crates/infra-common/src/config/loader.rs:5:31
  |
5 | use crate::config::provider::{ConfigProvider, ConfigSource, BasicConfigProvider};
  |                               ^^^^^^^^^^^^^^

warning: unused import: `Instant`
 --> crates/infra-common/src/config/dynamic.rs:8:27
  |
8 | use std::time::{Duration, Instant};
  |                           ^^^^^^^

warning: unused import: `HashSet`
 --> crates/infra-common/src/lifecycle/manager.rs:4:33
  |
4 | use std::collections::{HashMap, HashSet};
  |                                 ^^^^^^^

warning: unused import: `async_trait::async_trait`
 --> crates/infra-common/src/lifecycle/manager.rs:8:5
  |
8 | use async_trait::async_trait;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `Error` and `Result`
 --> crates/infra-common/src/lifecycle/health.rs:1:28
  |
1 | use crate::errors::types::{Error, Result};
  |                            ^^^^^  ^^^^^^

warning: variable does not need to be mutable
  --> crates/infra-common/src/lifecycle/manager.rs:87:13
   |
87 |         let mut components = self.components.write().unwrap();
   |             ----^^^^^^^^^^
   |             |
   |             help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:107:13
    |
107 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:127:13
    |
127 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:148:13
    |
148 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:63:20
   |
63 |             config.merge(File::from(base_path.clone()))
   |                    ^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:69:20
   |
69 |             config.merge(File::from(env_path))
   |                    ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:75:16
   |
75 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:97:16
   |
97 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
   --> crates/infra-common/src/config/loader.rs:115:20
    |
115 |             config.merge(File::from(p.clone()))
    |                    ^^^^^

warning: methods `type_name` and `clone_sender` are never used
  --> crates/infra-common/src/events/registry.rs:37:8
   |
35 | trait AnyBroadcastSender: Send + Sync + 'static {
   |       ------------------ methods in this trait
36 |     fn as_any(&self) -> &dyn Any;
37 |     fn type_name(&self) -> &str;
   |        ^^^^^^^^^
38 |     fn clone_sender(&self) -> Box<dyn AnyBroadcastSender>;
   |        ^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `id`, `event_type`, and `priority` are never read
  --> crates/infra-common/src/events/subscriber.rs:11:16
   |
10 | pub struct SubscriberHandle {
   |            ---------------- fields in this struct
11 |     pub(crate) id: u64,
   |                ^^
12 |     pub(crate) event_type: EventType,
   |                ^^^^^^^^^^
13 |     pub(crate) priority: EventPriority,
   |                ^^^^^^^^
   |
   = note: `SubscriberHandle` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `infra-common` (lib) generated 29 warnings (run `cargo fix --lib -p infra-common` to apply 22 suggestions)
warning: method `emit_event` is never used
   --> crates/client-core/src/client.rs:606:14
    |
182 | impl ClientManager {
    | ------------------ method in this implementation
...
606 |     async fn emit_event(&self, event: ClientEvent) {
    |              ^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: `rvoip-client-core` (lib) generated 1 warning
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.15s
     Running `/Users/jonathan/Documents/Work/Rudeless Ventures/rvoip/rvoip/target/debug/rvoip-sip-client --port 5061 --username alice --domain 127.0.0.1 receive --auto-answer --max-duration 30`
[2m2025-05-31T02:55:41.138878Z[0m [32m INFO[0m 🚀 Starting RVOIP SIP Client v0.3.0
[2m2025-05-31T02:55:41.139017Z[0m [32m INFO[0m 📞 Waiting for incoming calls
[2m2025-05-31T02:55:41.139030Z[0m [32m INFO[0m    Auto-answer: true
[2m2025-05-31T02:55:41.139051Z[0m [32m INFO[0m    Max duration: 30s
[2m2025-05-31T02:55:41.139176Z[0m [32m INFO[0m 🚀 Creating SIP client with config: "alice"
[2m2025-05-31T02:55:41.139324Z[0m [32m INFO[0m 🔧 Creating ClientManager with proper session-core full client API
[2m2025-05-31T02:55:41.139384Z[0m [32m INFO[0m Creating SIP client with config: ClientConfig { local_address: Some(127.0.0.1:5061), transport_protocol: Udp, max_sessions: 5, session_timeout: 300s, transaction_timeout: 32s, enable_media: true, user_agent: "rvoip-sip-client/0.3.0", contact_uri: Some("sip:alice@127.0.0.1:5061"), from_uri: Some("sip:alice@127.0.0.1"), registrar_uri: None, credentials: None }
[2m2025-05-31T02:55:41.139471Z[0m [32m INFO[0m 🚀 Creating real transport manager for SIP client communication
[2m2025-05-31T02:55:41.139995Z[0m [32m INFO[0m SIP UDP transport bound to 127.0.0.1:5061
[2m2025-05-31T02:55:41.140932Z[0m [32m INFO[0m Added UDP transport bound to 127.0.0.1:5061
[2m2025-05-31T02:55:41.141020Z[0m [32m INFO[0m ✅ Client transport manager created and initialized on 127.0.0.1:5061
[2m2025-05-31T02:55:41.141479Z[0m [32m INFO[0m ✅ Client transaction manager created with real transport
[2m2025-05-31T02:55:41.142315Z[0m [32m INFO[0m ✅ MediaManager created with MediaSessionController (real RTP port allocation: 10000-20000)
[2m2025-05-31T02:55:41.142560Z[0m [32m INFO[0m ✅ SIP client created successfully with real transport infrastructure
[2m2025-05-31T02:55:41.142572Z[0m [32m INFO[0m ✅ Transaction event processing started in background task
[2m2025-05-31T02:55:41.142581Z[0m [32m INFO[0m ✅ SIP client created via session-core factory with real infrastructure
[2m2025-05-31T02:55:41.142651Z[0m [32m INFO[0m ▶️ Starting SIP client (delegating to session-core)...
[2m2025-05-31T02:55:41.142660Z[0m [32m INFO[0m ✅ SIP client started via session-core delegation
[2m2025-05-31T02:55:41.142699Z[0m [32m INFO[0m 📝 Registering alice with 127.0.0.1
[2m2025-05-31T02:55:41.142698Z[0m [32m INFO[0m 🔄 Starting SIP client transaction event processing in background
[2m2025-05-31T02:55:41.142744Z[0m [32m INFO[0m 📝 Registering with server: sip:127.0.0.1
[2m2025-05-31T02:55:41.142756Z[0m [33m WARN[0m 🚧 Registration delegation to session-core not yet fully implemented
[2m2025-05-31T02:55:41.142765Z[0m [33m WARN[0m 🚧 Session-core needs registration manager integration
[2m2025-05-31T02:55:41.142780Z[0m [32m INFO[0m ✅ Registration request queued with ID: 43145e84-0830-484f-b4f0-846d13cf3bcd
[2m2025-05-31T02:55:41.142790Z[0m [32m INFO[0m ✅ Registration initiated for alice
[2m2025-05-31T02:55:41.142798Z[0m [32m INFO[0m ✅ Registered with SIP server, ready to receive calls
[2m2025-05-31T02:55:41.142806Z[0m [32m INFO[0m 📞 Waiting for incoming calls (press Ctrl+C to exit)...
=== PARSING SIP MESSAGE ===
Input length: 527 bytes
Input as string: "INVITE sip:alice@127.0.0.1:5061 SIP/2.0\r\nCall-ID: 9bd22f3e-5d7f-49b9-99ab-4730da1a222b@rvoip-session-core\r\nFrom: <sip:bob@127.0.0.1>;tag=tag-edd400df6e594f50a2d826c158b7b7d1\r\nTo: <sip:alice@127.0.0.1:5061>\r\nCSeq: 2 INVITE\r\nContent-Length: 170\r\nContent-Type: application/sdp\r\nVia: SIP/2.0/UDP 127.0.0.1:5062;branch=z9hG4bK42c1395cf7a84776bba19e5642bf0880\r\n\r\nv=0\r\no=server 1748660146 1 IN IP4 127.0.0.1\r\ns=Media Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10000 RTP/AVP 0\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 39, 62, 64, 32, 32, 66, 33, 65, 2d, 35, 64, 37, 66, 2d, 34, 39, 62, 39, 2d, 39, 39, 61, 62, 2d, 34, 37, 33, 30, 64, 61, 31, 61, 32, 32, 32, 62, 40, 72, 76, 6f, 69, 70, 2d, 73, 65, 73, 73, 69, 6f, 6e, 2d, 63, 6f, 72, 65, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 65, 64, 64, 34, 30, 30, 64, 66, 36, 65, 35, 39, 34, 66, 35, 30, 61, 32, 64, 38, 32, 36, 63, 31, 35, 38, 62, 37, 62, 37, 64, 31, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 43, 53, 65, 71, 3a, 20, 32, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 31, 37, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 34, 32, 63, 31, 33, 39, 35, 63, 66, 37, 61, 38, 34, 37, 37, 36, 62, 62, 61, 31, 39, 65, 35, 36, 34, 32, 62, 66, 30, 38, 38, 30, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 73, 65, 72, 76, 65, 72, 20, 31, 37, 34, 38, 36, 36, 30, 31, 34, 36, 20, 31, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 4d, 65, 64, 69, 61, 20, 53, 65, 73, 73, 69, 6f, 6e, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 31, 30, 30, 30, 30, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-05-31T02:55:46.818859Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server) [3mmethod[0m[2m=[0mINVITE
Transaction loop starting for Key(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server)
Initial state: Proceeding
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
[2m2025-05-31T02:55:46.819165Z[0m [32m INFO[0m 📞 SessionManager processing INVITE request
Already in requested state, no transition needed: Proceeding
Parsed path: [Field("headers"), Field("Contact")] from 'headers.Contact'
Parsed path: [Field("headers")] from 'headers'
Processing segment Field("headers") at index 0, current value: Object({"method": String("Invite"), "version": Object({"minor": Number(0.0), "major": Number(2.0)}), "uri": Object({"port": Number(5061.0), "parameters": Array([]), "user": String("alice"), "headers": Object({}), "password": Null, "scheme": String("Sip"), "host": Object({"Address": String("127.0.0.1")}), "raw_uri": Null}), "headers": Array([Object({"CallId": String("9bd22f3e-5d7f-49b9-99ab-4730da1a222b@rvoip-session-core")}), Object({"From": Object({"params": Array([Object({"Tag": String("tag-edd400df6e594f50a2d826c158b7b7d1")})]), "display_name": Null, "uri": Object({"headers": Object({}), "port": Null, "raw_uri": Null, "password": Null, "parameters": Array([]), "scheme": String("Sip"), "user": String("bob"), "host": Object({"Address": String("127.0.0.1")})})})}), Object({"To": Object({"params": Array([]), "display_name": Null, "uri": Object({"port": Number(5061.0), "headers": Object({}), "parameters": Array([]), "raw_uri": Null, "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "password": Null, "user": String("alice")})})}), Object({"CSeq": Object({"seq": Number(2.0), "method": String("Invite")})}), Object({"ContentLength": Number(170.0)}), Object({"ContentType": Object({"parameters": Object({}), "m_type": String("application"), "m_subtype": String("sdp")})}), Object({"Via": Array([Object({"sent_protocol": Object({"version": String("2.0"), "name": String("SIP"), "transport": String("UDP")}), "sent_by_port": Number(5062.0), "sent_by_host": Object({"Address": String("127.0.0.1")}), "params": Array([Object({"Branch": String("z9hG4bK42c1395cf7a84776bba19e5642bf0880")})])})])})]), "body": Array([Number(118.0), Number(61.0), Number(48.0), Number(13.0), Number(10.0), Number(111.0), Number(61.0), Number(115.0), Number(101.0), Number(114.0), Number(118.0), Number(101.0), Number(114.0), Number(32.0), Number(49.0), Number(55.0), Number(52.0), Number(56.0), Number(54.0), Number(54.0), Number(48.0), Number(49.0), Number(52.0), Number(54.0), Number(32.0), Number(49.0), Number(32.0), Number(73.0), Number(78.0), Number(32.0), Number(73.0), Number(80.0), Number(52.0), Number(32.0), Number(49.0), Number(50.0), Number(55.0), Number(46.0), Number(48.0), Number(46.0), Number(48.0), Number(46.0), Number(49.0), Number(13.0), Number(10.0), Number(115.0), Number(61.0), Number(77.0), Number(101.0), Number(100.0), Number(105.0), Number(97.0), Number(32.0), Number(83.0), Number(101.0), Number(115.0), Number(115.0), Number(105.0), Number(111.0), Number(110.0), Number(13.0), Number(10.0), Number(99.0), Number(61.0), Number(73.0), Number(78.0), Number(32.0), Number(73.0), Number(80.0), Number(52.0), Number(32.0), Number(49.0), Number(50.0), Number(55.0), Number(46.0), Number(48.0), Number(46.0), Number(48.0), Number(46.0), Number(49.0), Number(13.0), Number(10.0), Number(116.0), Number(61.0), Number(48.0), Number(32.0), Number(48.0), Number(13.0), Number(10.0), Number(109.0), Number(61.0), Number(97.0), Number(117.0), Number(100.0), Number(105.0), Number(111.0), Number(32.0), Number(49.0), Number(48.0), Number(48.0), Number(48.0), Number(48.0), Number(32.0), Number(82.0), Number(84.0), Number(80.0), Number(47.0), Number(65.0), Number(86.0), Number(80.0), Number(32.0), Number(48.0), Number(13.0), Number(10.0), Number(97.0), Number(61.0), Number(114.0), Number(116.0), Number(112.0), Number(109.0), Number(97.0), Number(112.0), Number(58.0), Number(48.0), Number(32.0), Number(80.0), Number(67.0), Number(77.0), Number(85.0), Number(47.0), Number(56.0), Number(48.0), Number(48.0), Number(48.0), Number(13.0), Number(10.0), Number(97.0), Number(61.0), Number(114.0), Number(116.0), Number(112.0), Number(109.0), Number(97.0), Number(112.0), Number(58.0), Number(56.0), Number(32.0), Number(80.0), Number(67.0), Number(77.0), Number(65.0), Number(47.0), Number(56.0), Number(48.0), Number(48.0), Number(48.0), Number(13.0), Number(10.0), Number(97.0), Number(61.0), Number(115.0), Number(101.0), Number(110.0), Number(100.0), Number(114.0), Number(101.0), Number(99.0), Number(118.0), Number(13.0), Number(10.0)])})
Final value for path 'headers': Array([Object({"CallId": String("9bd22f3e-5d7f-49b9-99ab-4730da1a222b@rvoip-session-core")}), Object({"From": Object({"params": Array([Object({"Tag": String("tag-edd400df6e594f50a2d826c158b7b7d1")})]), "display_name": Null, "uri": Object({"headers": Object({}), "port": Null, "raw_uri": Null, "password": Null, "parameters": Array([]), "scheme": String("Sip"), "user": String("bob"), "host": Object({"Address": String("127.0.0.1")})})})}), Object({"To": Object({"params": Array([]), "display_name": Null, "uri": Object({"port": Number(5061.0), "headers": Object({}), "parameters": Array([]), "raw_uri": Null, "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "password": Null, "user": String("alice")})})}), Object({"CSeq": Object({"seq": Number(2.0), "method": String("Invite")})}), Object({"ContentLength": Number(170.0)}), Object({"ContentType": Object({"parameters": Object({}), "m_type": String("application"), "m_subtype": String("sdp")})}), Object({"Via": Array([Object({"sent_protocol": Object({"version": String("2.0"), "name": String("SIP"), "transport": String("UDP")}), "sent_by_port": Number(5062.0), "sent_by_host": Object({"Address": String("127.0.0.1")}), "params": Array([Object({"Branch": String("z9hG4bK42c1395cf7a84776bba19e5642bf0880")})])})])})])
Parsed path: [Field("Contact")] from 'Contact'
Processing segment Field("Contact") at index 0, current value: Array([Object({"CallId": String("9bd22f3e-5d7f-49b9-99ab-4730da1a222b@rvoip-session-core")}), Object({"From": Object({"params": Array([Object({"Tag": String("tag-edd400df6e594f50a2d826c158b7b7d1")})]), "display_name": Null, "uri": Object({"headers": Object({}), "port": Null, "raw_uri": Null, "password": Null, "parameters": Array([]), "scheme": String("Sip"), "user": String("bob"), "host": Object({"Address": String("127.0.0.1")})})})}), Object({"To": Object({"params": Array([]), "display_name": Null, "uri": Object({"port": Number(5061.0), "headers": Object({}), "parameters": Array([]), "raw_uri": Null, "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "password": Null, "user": String("alice")})})}), Object({"CSeq": Object({"seq": Number(2.0), "method": String("Invite")})}), Object({"ContentLength": Number(170.0)}), Object({"ContentType": Object({"parameters": Object({}), "m_type": String("application"), "m_subtype": String("sdp")})}), Object({"Via": Array([Object({"sent_protocol": Object({"version": String("2.0"), "name": String("SIP"), "transport": String("UDP")}), "sent_by_port": Number(5062.0), "sent_by_host": Object({"Address": String("127.0.0.1")}), "params": Array([Object({"Branch": String("z9hG4bK42c1395cf7a84776bba19e5642bf0880")})])})])})])
Field 'Contact' not found in array element
Parsed path: [Field("Domain")] from 'Domain'
Processing segment Field("Domain") at index 0, current value: Object({"Address": String("127.0.0.1")})
Field 'Domain' not found in object
Parsed path: [Field("Domain")] from 'Domain'
Processing segment Field("Domain") at index 0, current value: Object({"Address": String("127.0.0.1")})
Field 'Domain' not found in object
Parsed path: [Field("Domain")] from 'Domain'
Processing segment Field("Domain") at index 0, current value: Object({"Address": String("127.0.0.1")})
Field 'Domain' not found in object
[2m2025-05-31T02:55:46.819949Z[0m [33m WARN[0m No incoming call notifier set, auto-accepting call
[2m2025-05-31T02:55:46.819972Z[0m [32m INFO[0m 🎵 SessionManager implementing call acceptance for session b75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:46.819987Z[0m [32m INFO[0m 📋 Processing SDP offer: 170 bytes
[2m2025-05-31T02:55:46.819996Z[0m [32m INFO[0m 🎵 Generating SDP answer using session-level CallLifecycleCoordinator for session b75d5cb8-3336-48f7-8733-3660d38d2c16...
[2m2025-05-31T02:55:46.820018Z[0m [32m INFO[0m 🎯 Coordinating session establishment with media setup [3msession_id[0m[2m=[0mb75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:46.820040Z[0m [32m INFO[0m 🎵 Creating SDP answer with media-core integration [3msession_id[0m[2m=[0mb75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:46.820049Z[0m [32m INFO[0m 🎼 Media-core supported codecs: [0, 8, 9]
[2m2025-05-31T02:55:46.820136Z[0m [32m INFO[0m Starting media session for dialog: media-12cdde9b-8a23-4b8f-a3be-99835328db55
[2m2025-05-31T02:55:46.820329Z[0m [32m INFO[0m Created global port allocator with range 16384-32767
Received command: Timer("100") for transaction Key(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server)
[2m2025-05-31T02:55:47.021869Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5062
[2m2025-05-31T02:55:47.323398Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-05-31T02:55:47.323581Z[0m [32m INFO[0m Started RTP session with SSRC=8fe3ec0b
[2m2025-05-31T02:55:47.323626Z[0m [32m INFO[0m ✅ Created media session with REAL RTP session: media-12cdde9b-8a23-4b8f-a3be-99835328db55 (port: 10000)
[2m2025-05-31T02:55:47.323642Z[0m [32m INFO[0m ✅ Created media session: media-12cdde9b-8a23-4b8f-a3be-99835328db55 with REAL RTP sessions and port allocation via MediaSessionController
[2m2025-05-31T02:55:47.323658Z[0m [32m INFO[0m 🔌 Using allocated RTP port: 10000 (remote: 10000)
[2m2025-05-31T02:55:47.323737Z[0m [32m INFO[0m 📋 Offered codecs: ["0"]
[2m2025-05-31T02:55:47.323746Z[0m [32m INFO[0m 🎼 Supported codecs: ["0", "8", "9"]
[2m2025-05-31T02:55:47.323755Z[0m [32m INFO[0m 🤝 Negotiated codecs: ["0"]
[2m2025-05-31T02:55:47.323761Z[0m [32m INFO[0m 🤝 Negotiated codecs: ["0"]
[2m2025-05-31T02:55:47.323799Z[0m [32m INFO[0m ✅ Started media for session: b75d5cb8-3336-48f7-8733-3660d38d2c16 via media-core
[2m2025-05-31T02:55:47.323825Z[0m [32m INFO[0m ✅ SDP answer created with media-core integration [3msession_id[0m[2m=[0mb75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:47.323856Z[0m [32m INFO[0m 🔗 Establishing media flow for dialog: media-12cdde9b-8a23-4b8f-a3be-99835328db55 -> 127.0.0.1:10000
[2m2025-05-31T02:55:47.323869Z[0m [32m INFO[0m ✅ Updated RTP remote address for dialog: media-12cdde9b-8a23-4b8f-a3be-99835328db55 -> 127.0.0.1:10000
[2m2025-05-31T02:55:47.323876Z[0m [32m INFO[0m 🎵 Starting audio transmission for dialog: media-12cdde9b-8a23-4b8f-a3be-99835328db55
[2m2025-05-31T02:55:47.323884Z[0m [32m INFO[0m 🎵 Started audio transmission (440Hz tone, 20ms packets)
[2m2025-05-31T02:55:47.323898Z[0m [32m INFO[0m ✅ Audio transmission started for dialog: media-12cdde9b-8a23-4b8f-a3be-99835328db55
[2m2025-05-31T02:55:47.323903Z[0m [32m INFO[0m ✅ Media flow established for dialog: media-12cdde9b-8a23-4b8f-a3be-99835328db55
[2m2025-05-31T02:55:47.323908Z[0m [32m INFO[0m ✅ Established bi-directional media flow for session: media-12cdde9b-8a23-4b8f-a3be-99835328db55
[2m2025-05-31T02:55:47.323913Z[0m [32m INFO[0m ✅ Bi-directional media flow established [3msession_id[0m[2m=[0mb75d5cb8-3336-48f7-8733-3660d38d2c16 [3mmedia_session_id[0m[2m=[0mmedia-12cdde9b-8a23-4b8f-a3be-99835328db55 [3mremote_addr[0m[2m=[0m127.0.0.1:10000
[2m2025-05-31T02:55:47.323923Z[0m [32m INFO[0m ✅ Bi-directional media flow established successfully [3msession_id[0m[2m=[0mb75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:47.323928Z[0m [32m INFO[0m ✅ Session establishment coordination completed successfully [3msession_id[0m[2m=[0mb75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:47.323935Z[0m [32m INFO[0m ✅ Generated SDP answer using session-level coordination for session b75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:47.323941Z[0m [32m INFO[0m ✅ Generated SDP answer: 170 bytes
[2m2025-05-31T02:55:47.324153Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5062
[2m2025-05-31T02:55:47.324202Z[0m [32m INFO[0m ✅ Sent 200 OK with SDP answer for session b75d5cb8-3336-48f7-8733-3660d38d2c16
[2m2025-05-31T02:55:47.324219Z[0m [32m INFO[0m ✅ Call acceptance implemented for session b75d5cb8-3336-48f7-8733-3660d38d2c16
Received command: CancelTimer100 for transaction Key(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK42c1395cf7a84776bba19e5642bf0880:INVITE:server). Final state: Terminated
=== PARSING SIP MESSAGE ===
Input length: 336 bytes
Input as string: "ACK sip:alice@127.0.0.1:5061 SIP/2.0\r\nFrom: <sip:bob@127.0.0.1>;tag=tag-edd400df6e594f50a2d826c158b7b7d1\r\nTo: <sip:alice@127.0.0.1:5061>\r\nCall-ID: 9bd22f3e-5d7f-49b9-99ab-4730da1a222b@rvoip-session-core\r\nCSeq: 2 ACK\r\nVia: SIP/2.0/UDP 127.0.0.1:5062;branch=z9hG4bK58d3f08d44094a8fbc6b9a5fd4248de5\r\nMax-Forwards: 70\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, 43, 4b, 20, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 65, 64, 64, 34, 30, 30, 64, 66, 36, 65, 35, 39, 34, 66, 35, 30, 61, 32, 64, 38, 32, 36, 63, 31, 35, 38, 62, 37, 62, 37, 64, 31, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 39, 62, 64, 32, 32, 66, 33, 65, 2d, 35, 64, 37, 66, 2d, 34, 39, 62, 39, 2d, 39, 39, 61, 62, 2d, 34, 37, 33, 30, 64, 61, 31, 61, 32, 32, 32, 62, 40, 72, 76, 6f, 69, 70, 2d, 73, 65, 73, 73, 69, 6f, 6e, 2d, 63, 6f, 72, 65, 0d, 0a, 43, 53, 65, 71, 3a, 20, 32, 20, 41, 43, 4b, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 35, 38, 64, 33, 66, 30, 38, 64, 34, 34, 30, 39, 34, 61, 38, 66, 62, 63, 36, 62, 39, 61, 35, 66, 64, 34, 32, 34, 38, 64, 65, 35, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-05-31T02:55:48.325544Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:49.326562Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:50.328168Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:51.329866Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:52.331217Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:53.331958Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:54.333149Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:55.334425Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:56.336620Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:57.338761Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:58.340646Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:55:59.341655Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:56:00.343179Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:56:01.344012Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
[2m2025-05-31T02:56:02.345504Z[0m [32m INFO[0m Sent RTCP compound packet of 60 bytes
