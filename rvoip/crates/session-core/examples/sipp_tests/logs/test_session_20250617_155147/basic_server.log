warning: method `handle_auto_options` is never used
   --> crates/dialog-core/src/manager/unified.rs:563:14
    |
197 | impl UnifiedDialogManager {
    | ------------------------- method in this implementation
...
563 |     async fn handle_auto_options(&self, request: Request, source: SocketAddr) -> ApiResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: method `extract_body_string` is never used
   --> crates/dialog-core/src/protocol/invite_handler.rs:177:8
    |
71  | impl DialogManager {
    | ------------------ method in this implementation
...
177 |     fn extract_body_string(&self, request: &Request) -> String {
    |        ^^^^^^^^^^^^^^^^^^^

warning: `rvoip-dialog-core` (lib) generated 2 warnings
warning: unused import: `StaticEvent`
  --> crates/infra-common/src/events/static_path.rs:14:60
   |
14 | use crate::events::types::{Event, EventResult, EventError, StaticEvent, EventFilter};
   |                                                            ^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `EventError` and `StaticEvent`
  --> crates/infra-common/src/events/system.rs:16:48
   |
16 | use crate::events::types::{Event, EventResult, EventError, EventFilter, StaticEvent};
   |                                                ^^^^^^^^^^               ^^^^^^^^^^^

warning: unused imports: `EventSystemBuilder` and `ImplementationType`
  --> crates/infra-common/src/events/system.rs:21:30
   |
21 | use crate::events::builder::{ImplementationType, EventSystemBuilder};
   |                              ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^

warning: variable does not need to be mutable
  --> crates/infra-common/src/lifecycle/manager.rs:87:13
   |
87 |         let mut components = self.components.write().unwrap();
   |             ----^^^^^^^^^^
   |             |
   |             help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:107:13
    |
107 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:127:13
    |
127 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:148:13
    |
148 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:63:20
   |
63 |             config.merge(File::from(base_path.clone()))
   |                    ^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:69:20
   |
69 |             config.merge(File::from(env_path))
   |                    ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:75:16
   |
75 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:97:16
   |
97 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
   --> crates/infra-common/src/config/loader.rs:115:20
    |
115 |             config.merge(File::from(p.clone()))
    |                    ^^^^^

warning: methods `type_name` and `clone_sender` are never used
  --> crates/infra-common/src/events/registry.rs:37:8
   |
35 | trait AnyBroadcastSender: Send + Sync + 'static {
   |       ------------------ methods in this trait
36 |     fn as_any(&self) -> &dyn Any;
37 |     fn type_name(&self) -> &str;
   |        ^^^^^^^^^
38 |     fn clone_sender(&self) -> Box<dyn AnyBroadcastSender>;
   |        ^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `id`, `event_type`, and `priority` are never read
  --> crates/infra-common/src/events/subscriber.rs:11:16
   |
10 | pub struct SubscriberHandle {
   |            ---------------- fields in this struct
11 |     pub(crate) id: u64,
   |                ^^
12 |     pub(crate) event_type: EventType,
   |                ^^^^^^^^^^
13 |     pub(crate) priority: EventPriority,
   |                ^^^^^^^^
   |
   = note: `SubscriberHandle` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `infra-common` (lib) generated 14 warnings (run `cargo fix --lib -p infra-common` to apply 7 suggestions)
warning: unused import: `MediaControl`
  --> crates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs:12:69
   |
12 | use rvoip_session_core::{SessionCoordinator, SessionManagerBuilder, MediaControl};
   |                                                                     ^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `CallState` and `SessionId`
  --> crates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs:14:31
   |
14 |     CallHandler, CallSession, CallState, IncomingCall, CallDecision, SessionId,
   |                               ^^^^^^^^^                              ^^^^^^^^^

warning: unused import: `error`
  --> crates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs:22:21
   |
22 | use tracing::{info, error};
   |                     ^^^^^

warning: unused variable: `sdp_offer`
  --> crates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs:97:50
   |
97 |                 let sdp_answer = if let Some(ref sdp_offer) = call.sdp {
   |                                                  ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_sdp_offer`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: `sipp_tests` (bin "sip_test_server") generated 4 warnings (run `cargo fix --bin "sip_test_server"` to apply 3 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.14s
     Running `/Users/jonathan/Documents/Work/Rudeless Ventures/rvoip/rvoip/target/debug/sip_test_server --port 5062 --mode auto-answer --log-level info`
[2m2025-06-17T22:51:55.430814Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m297:[0m ðŸ§ª SIP Test Server starting...
[2m2025-06-17T22:51:55.430961Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m298:[0m ðŸ”§ Configuration:
[2m2025-06-17T22:51:55.431020Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m299:[0m   ðŸ“¡ Port: 5062
[2m2025-06-17T22:51:55.431051Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m300:[0m   ðŸŽ¯ Mode: AutoAnswer
[2m2025-06-17T22:51:55.431078Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m301:[0m   ðŸ“Š Metrics: true
[2m2025-06-17T22:51:55.431104Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m189:[0m ðŸš€ Starting SIP Test Server on port 5062
[2m2025-06-17T22:51:55.431546Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/api/unified.rs[0m[2m:[0m[2m825:[0m Creating UnifiedDialogApi with automatic transport setup in "Hybrid" mode
[2m2025-06-17T22:51:55.432387Z[0m [32m INFO[0m ThreadId(01) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m48:[0m SIP UDP transport bound to 0.0.0.0:5062
[2m2025-06-17T22:51:55.443343Z[0m [32m INFO[0m ThreadId(01) [2mcrates/transaction-core/src/transport/mod.rs[0m[2m:[0m[2m247:[0m Added UDP transport bound to 0.0.0.0:5062
[2m2025-06-17T22:51:55.443946Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/api/unified.rs[0m[2m:[0m[2m294:[0m Creating UnifiedDialogApi with global events in "Hybrid" mode
[2m2025-06-17T22:51:55.444066Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m252:[0m Creating UnifiedDialogManager with global events in "Hybrid" mode at 0.0.0.0:5062
[2m2025-06-17T22:51:55.444149Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/core.rs[0m[2m:[0m[2m100:[0m Creating new DialogManager with global transaction events and local address 0.0.0.0:5062
[2m2025-06-17T22:51:55.444794Z[0m [32m INFO[0m ThreadId(16) [2mcrates/dialog-core/src/manager/core.rs[0m[2m:[0m[2m128:[0m ðŸ”„ Starting global transaction event processor for dialog-core
[2m2025-06-17T22:51:55.445366Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/src/manager/events.rs[0m[2m:[0m[2m162:[0m Session event processor started
ðŸ”— SETUP: Setting up session coordination with dialog-core
âœ… SETUP: Session coordination setup complete
[2m2025-06-17T22:51:55.445461Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m157:[0m SessionCoordinator initialized on port 5062
[2m2025-06-17T22:51:55.445496Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/api/unified.rs[0m[2m:[0m[2m336:[0m Starting UnifiedDialogApi
[2m2025-06-17T22:51:55.445522Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m294:[0m Starting UnifiedDialogManager in "Hybrid" mode
[2m2025-06-17T22:51:55.445547Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/core.rs[0m[2m:[0m[2m399:[0m DialogManager starting
[2m2025-06-17T22:51:55.445569Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/core.rs[0m[2m:[0m[2m407:[0m DialogManager started successfully
[2m2025-06-17T22:51:55.445564Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m163:[0m Starting main coordinator event loop
[2m2025-06-17T22:51:55.445591Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m310:[0m Hybrid mode active - from_uri: Some("sip:test@127.0.0.1:5062"), domain: None, auto_auth: false, auto_options: false
ðŸŽ¬ SPAWN: Starting session coordination event loop
ðŸ“¡ EVENT LOOP: Session coordination event loop started
[2m2025-06-17T22:51:55.445638Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m315:[0m UnifiedDialogManager started successfully
[2m2025-06-17T22:51:55.445756Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/src/manager/cleanup.rs[0m[2m:[0m[2m54:[0m Cleanup manager started
[2m2025-06-17T22:51:55.445816Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m449:[0m SessionCoordinator started
[2m2025-06-17T22:51:55.445842Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m216:[0m ðŸš€ Starting SIP Test Server session coordinator...
[2m2025-06-17T22:51:55.445879Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/api/unified.rs[0m[2m:[0m[2m336:[0m Starting UnifiedDialogApi
[2m2025-06-17T22:51:55.445901Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m294:[0m Starting UnifiedDialogManager in "Hybrid" mode
[2m2025-06-17T22:51:55.445919Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/core.rs[0m[2m:[0m[2m399:[0m DialogManager starting
[2m2025-06-17T22:51:55.445936Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/core.rs[0m[2m:[0m[2m407:[0m DialogManager started successfully
[2m2025-06-17T22:51:55.445973Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m310:[0m Hybrid mode active - from_uri: Some("sip:test@127.0.0.1:5062"), domain: None, auto_auth: false, auto_options: false
[2m2025-06-17T22:51:55.445997Z[0m [32m INFO[0m ThreadId(01) [2mcrates/dialog-core/src/manager/unified.rs[0m[2m:[0m[2m315:[0m UnifiedDialogManager started successfully
[2m2025-06-17T22:51:55.446017Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m449:[0m SessionCoordinator started
[2m2025-06-17T22:51:55.446036Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m221:[0m âœ… SIP Test Server ready and listening on port 5062
[2m2025-06-17T22:51:55.446056Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m222:[0m ðŸ“‹ Response mode: AutoAnswer
[2m2025-06-17T22:51:55.446103Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m223:[0m ðŸ”„ Waiting for incoming calls from SIPp...
[2m2025-06-17T22:51:55.446125Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m224:[0m ðŸ“¡ Real SIP server now active - SIPp can connect!
=== PARSING SIP MESSAGE ===
Input length: 590 bytes
Input as string: "INVITE sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-1-0\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag001\r\nTo: Test User <sip:test@127.0.0.1:5062>\r\nCall-ID: 1-63743@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Type: application/sdp\r\nContent-Length:   181\r\n\r\nv=0\r\no=user1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 31, 2d, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 31, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 31, 38, 31, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 75, 73, 65, 72, 31, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 53, 65, 73, 73, 69, 6f, 6e, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 30, 30, 30, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-17T22:51:59.813728Z[0m [32m INFO[0m ThreadId(13) [2mcrates/transaction-core/src/manager/mod.rs[0m[2m:[0m[2m1958:[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-63743-1-0:INVITE:server) [3mmethod[0m[2m=[0mINVITE
ðŸŽ¯ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
Transaction loop starting for Key(z9hG4bK-63743-1-0:INVITE:server)
Initial state: Proceeding
ðŸ” INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-63743-1-0:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
[2m2025-06-17T22:51:59.814345Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/manager/dialog_operations.rs[0m[2m:[0m[2m435:[0m Created early dialog 6f0ab959-1125-4378-b909-1102d57c2aa2 from INVITE request
ðŸ” INVITE HANDLER: Created early dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
ðŸ” INVITE HANDLER: Associated transaction Key(z9hG4bK-63743-1-0:INVITE:server) with dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
ðŸ” INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
ðŸ” INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
[2m2025-06-17T22:51:59.814571Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/protocol/invite_handler.rs[0m[2m:[0m[2m101:[0m Initial INVITE processed, created dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(6f0ab959-1125-4378-b909-1102d57c2aa2), transaction_id: z9hG4bK-63743-1-0:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-63743-1-0")] }])), From(From(Address { display_name: Some("SIPp Test"), uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("63743SIPpTag001")] })), To(To(Address { display_name: Some("Test User"), uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("1-63743@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("SIPp Basic Call Test")), UserAgent(["SIPp/3.6.1"]), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(181))], body: b"v=0\r\no=user1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-17T22:51:59.814912Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m149:[0m handle_incoming_call called for dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
[2m2025-06-17T22:51:59.814955Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m155:[0m Incoming call from dialog 6f0ab959-1125-4378-b909-1102d57c2aa2: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-17T22:51:59.815049Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m163:[0m Created session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 for incoming call dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
[2m2025-06-17T22:51:59.815156Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m188:[0m Calling handler.on_incoming_call for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
[2m2025-06-17T22:51:59.815206Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m82:[0m ðŸ“ž [SIPp-Test-Server] Incoming call from sip:from@127.0.0.1 to sip:to@local
[2m2025-06-17T22:51:59.815241Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m83:[0m ðŸ“ž [SIPp-Test-Server] Call ID: sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
[2m2025-06-17T22:51:59.815274Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m94:[0m âœ… [SIPp-Test-Server] Auto-answering call
[2m2025-06-17T22:51:59.815304Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m98:[0m ðŸ“ž [SIPp-Test-Server] Received SDP offer, generating simple answer
[2m2025-06-17T22:51:59.815335Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m112:[0m ðŸ“ž [SIPp-Test-Server] Generated SDP answer
[2m2025-06-17T22:51:59.815368Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m200:[0m Handler decision for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94: Accept(Some("v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"))
[2m2025-06-17T22:51:59.815461Z[0m [32m INFO[0m ThreadId(05) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m537:[0m Answering call 6f0ab959-1125-4378-b909-1102d57c2aa2
ðŸŽ¯ COORDINATOR: Handling event: SessionCreated { session_id: SessionId("sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94"), from: "sip:from@127.0.0.1", to: "sip:to@local", call_state: Ringing }
[2m2025-06-17T22:51:59.815691Z[0m [32m INFO[0m ThreadId(05) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m162:[0m Sending response message to 127.0.0.1:5061
[2m2025-06-17T22:51:59.815735Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m224:[0m Session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 created with state Ringing
[2m2025-06-17T22:51:59.815834Z[0m [32m INFO[0m ThreadId(05) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m628:[0m Dialog 6f0ab959-1125-4378-b909-1102d57c2aa2 local tag set to match response: tag-5759f01b3f094b4bbb57dad6ce035f29
[2m2025-06-17T22:51:59.815862Z[0m [32m INFO[0m ThreadId(05) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m640:[0m Dialog 6f0ab959-1125-4378-b909-1102d57c2aa2 transitioned to Confirmed state
[2m2025-06-17T22:51:59.815892Z[0m [32m INFO[0m ThreadId(05) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m647:[0m Updated dialog lookup for confirmed dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
[2m2025-06-17T22:51:59.815921Z[0m [32m INFO[0m ThreadId(05) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m661:[0m Successfully answered call 6f0ab959-1125-4378-b909-1102d57c2aa2
[2m2025-06-17T22:51:59.815968Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m224:[0m Successfully answered incoming call for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(6f0ab959-1125-4378-b909-1102d57c2aa2), session_answer: "v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }
[2m2025-06-17T22:51:59.816045Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m456:[0m Call answered for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94: 6f0ab959-1125-4378-b909-1102d57c2aa2 (awaiting ACK per RFC 3261)
[2m2025-06-17T22:51:59.816083Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m470:[0m ðŸ“ž Call answered for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 - keeping in Initiating state until media ready
Received command: CancelTimer100 for transaction Key(z9hG4bK-63743-1-0:INVITE:server)
[2m2025-06-17T22:51:59.816105Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m473:[0m ðŸš« RFC 3261: NOT creating media session yet - waiting for ACK
=== PARSING SIP MESSAGE ===
Input length: 409 bytes
Input as string: "ACK sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-1-4\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag001\r\nTo: Test User <sip:test@127.0.0.1:5062>;tag=tag-5759f01b3f094b4bbb57dad6ce035f29\r\nCall-ID: 1-63743@127.0.0.1\r\nCSeq: 1 ACKðŸŽ¯ COORDINATOR: Handling event: SdpEvent { session_id: SessionId("sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94"), event_type: "remote_sdp_answer", sdp: "v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }
\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, 43, 4b, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2eReceived command: TransitionTo(Terminated) for transaction Key(z9hG4bK-63743-1-0:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0dSent StateChanged event result: Success
, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 31, 2d, 34, 0d, 0a, 46, 72, Transaction loop ending for Key(z9hG4bK-63743-1-0:INVITE:server). Final state: Terminated
6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 31, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 35, 37, 35, 39, 66, 30, 31, 62, 33, 66, 30, 39, 34, 62, 34, 62, 62, 62, 35, 37, 64, 61, 64, 36, 63, 65, 30, 33, 35, 66, 32, 39, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 41, 43, 4b, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 53, 55, 53, 57, 102, 48, 49, 98, 51, 102, 48, 57, 52, 98, 52, 98, 98, 98, 53, 55, 100, 97, 100, 54, 99, 101, 48, 51, 53, 102, 50, 57]
Successfully parsed tag: tag-5759f01b3f094b4bbb57dad6ce035f29
=== PARSE SUCCESS ===
Successfully parsed message
=====================
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("SIPp Test"), "params": Array([Object({"Tag": String("63743SIPpTag001")})]), "uri": Object({"parameters": Array([]), "host": Object({"Address": String("127.0.0.1")}), "port": Number(5061.0), "user": String("sipp"), "password": Null, "raw_uri": Null, "headers": Object({}), "scheme": String("Sip")})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("63743SIPpTag001")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("63743SIPpTag001")})
Final value for path 'headers.From.params[0].Tag': String("63743SIPpTag001")
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([Object({"Tag": String("63743SIPpTag001")})]), "uri": Object({"raw_uri": Null, "password": Null, "headers": Object({}), "user": String("sipp"), "parameters": Array([]), "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "port": Number(5061.0)}), "display_name": String("SIPp Test")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("63743SIPpTag001")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("63743SIPpTag001")})
Final value for path 'headers.From.params[0].Tag': String("63743SIPpTag001")
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Test User"), "params": Array([]), "uri": Object({"password": Null, "user": String("test"), "port": Number(5062.0), "host": Object({"Address": String("127.0.0.1")}), "headers": Object({}), "parameters": Array([]), "scheme": String("Sip"), "raw_uri": Null})})
Processing segment Index(0) at index 3, current value: Array([])
Index 0 out of bounds for array of length 0
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"uri": Object({"port": Number(5062.0), "parameters": Array([]), "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "password": Null, "headers": Object({}), "raw_uri": Null, "user": String("test")}), "params": Array([Object({"Tag": String("tag-5759f01b3f094b4bbb57dad6ce035f29")})]), "display_name": String("Test User")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("tag-5759f01b3f094b4bbb57dad6ce035f29")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("tag-5759f01b3f094b4bbb57dad6ce035f29")})
Final value for path 'headers.To.params[0].Tag': String("tag-5759f01b3f094b4bbb57dad6ce035f29")
[2m2025-06-17T22:51:59.823104Z[0m [32m INFO[0m ThreadId(09) [2mcrates/dialog-core/src/manager/transaction_integration.rs[0m[2m:[0m[2m758:[0m âœ… RFC 3261: ACK received for transaction Key(z9hG4bK-63743-1-0:INVITE:server) in dialog 6f0ab959-1125-4378-b909-1102d57c2aa2 - time to start media (UAS side)
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: AckReceived { dialog_id: DialogId(6f0ab959-1125-4378-b909-1102d57c2aa2), transaction_id: z9hG4bK-63743-1-0:INVITE:server, negotiated_sdp: None }
[2m2025-06-17T22:51:59.823280Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m565:[0m âœ… RFC 3261: ACK RECEIVED for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 - creating media session (UAS side)
ðŸŽ¯ COORDINATOR: Handling event: MediaEvent { session_id: SessionId("sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94"), event: "rfc_compliant_media_creation_uas" }
[2m2025-06-17T22:51:59.823371Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m366:[0m Media creation event for sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94: rfc_compliant_media_creation_uas
ðŸŽ¯ COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94"), old_state: Ringing, new_state: Active }
[2m2025-06-17T22:51:59.823477Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m248:[0m Session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 state changed: Ringing -> Active
[2m2025-06-17T22:51:59.823510Z[0m [32m INFO[0m ThreadId(09) [2mcrates/media-core/src/relay/controller/mod.rs[0m[2m:[0m[2m263:[0m Starting media session for dialog: media-sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
[2m2025-06-17T22:51:59.823704Z[0m [32m INFO[0m ThreadId(09) [2mcrates/rtp-core/src/transport/allocator.rs[0m[2m:[0m[2m564:[0m Created global port allocator with range 16384-32767
=== PARSING SIP MESSAGE ===
Input length: 590 bytes
Input as string: "INVITE sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-2-0\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag002\r\nTo: Test User <sip:test@127.0.0.1:5062>\r\nCall-ID: 2-63743@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Type: application/sdp\r\nContent-Length:   181\r\n\r\nv=0\r\no=user1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6004 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 32, 2d, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 32, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 32, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 31, 38, 31, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 75, 73, 65, 72, 31, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 53, 65, 73, 73, 69, 6f, 6e, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 30, 30, 34, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-17T22:52:00.808356Z[0m [32m INFO[0m ThreadId(15) [2mcrates/transaction-core/src/manager/mod.rs[0m[2m:[0m[2m1958:[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-63743-2-0:INVITE:server) [3mmethod[0m[2m=[0mINVITE
Transaction loop starting for Key(z9hG4bK-63743-2-0:INVITE:server)
Initial state: Proceeding
ðŸŽ¯ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-63743-2-0:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
ðŸ” INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
[2m2025-06-17T22:52:00.808578Z[0m [32m INFO[0m ThreadId(15) [2mcrates/dialog-core/src/manager/dialog_operations.rs[0m[2m:[0m[2m435:[0m Created early dialog 83a96290-d973-4064-9b74-63d77bca9775 from INVITE request
ðŸ” INVITE HANDLER: Created early dialog 83a96290-d973-4064-9b74-63d77bca9775
ðŸ” INVITE HANDLER: Associated transaction Key(z9hG4bK-63743-2-0:INVITE:server) with dialog 83a96290-d973-4064-9b74-63d77bca9775
ðŸ” INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 83a96290-d973-4064-9b74-63d77bca9775
ðŸ” INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:00.808662Z[0m [32m INFO[0m ThreadId(15) [2mcrates/dialog-core/src/protocol/invite_handler.rs[0m[2m:[0m[2m101:[0m Initial INVITE processed, created dialog 83a96290-d973-4064-9b74-63d77bca9775
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(83a96290-d973-4064-9b74-63d77bca9775), transaction_id: z9hG4bK-63743-2-0:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-63743-2-0")] }])), From(From(Address { display_name: Some("SIPp Test"), uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("63743SIPpTag002")] })), To(To(Address { display_name: Some("Test User"), uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("2-63743@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("SIPp Basic Call Test")), UserAgent(["SIPp/3.6.1"]), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(181))], body: b"v=0\r\no=user1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6004 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-17T22:52:00.808789Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m149:[0m handle_incoming_call called for dialog 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:00.808810Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m155:[0m Incoming call from dialog 83a96290-d973-4064-9b74-63d77bca9775: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-17T22:52:00.808849Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m163:[0m Created session sess_07c69763-049c-4f47-8b17-4866d9611a82 for incoming call dialog 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:00.808884Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m188:[0m Calling handler.on_incoming_call for session sess_07c69763-049c-4f47-8b17-4866d9611a82
[2m2025-06-17T22:52:00.808906Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m82:[0m ðŸ“ž [SIPp-Test-Server] Incoming call from sip:from@127.0.0.1 to sip:to@local
[2m2025-06-17T22:52:00.808920Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m83:[0m ðŸ“ž [SIPp-Test-Server] Call ID: sess_07c69763-049c-4f47-8b17-4866d9611a82
[2m2025-06-17T22:52:00.808937Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m94:[0m âœ… [SIPp-Test-Server] Auto-answering call
[2m2025-06-17T22:52:00.808949Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m98:[0m ðŸ“ž [SIPp-Test-Server] Received SDP offer, generating simple answer
[2m2025-06-17T22:52:00.808963Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m112:[0m ðŸ“ž [SIPp-Test-Server] Generated SDP answer
[2m2025-06-17T22:52:00.808979Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m200:[0m Handler decision for session sess_07c69763-049c-4f47-8b17-4866d9611a82: Accept(Some("v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"))
[2m2025-06-17T22:52:00.809018Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m537:[0m Answering call 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:00.809200Z[0m [32m INFO[0m ThreadId(13) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m162:[0m Sending response message to 127.0.0.1:5061
[2m2025-06-17T22:52:00.809359Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m628:[0m Dialog 83a96290-d973-4064-9b74-63d77bca9775 local tag set to match response: tag-8b4d9ff4a74040a48ecce6869f5a0476
[2m2025-06-17T22:52:00.809379Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m640:[0m Dialog 83a96290-d973-4064-9b74-63d77bca9775 transitioned to Confirmed state
[2m2025-06-17T22:52:00.809407Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m647:[0m Updated dialog lookup for confirmed dialog 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:00.809431Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m661:[0m Successfully answered call 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:00.809449Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m224:[0m Successfully answered incoming call for session sess_07c69763-049c-4f47-8b17-4866d9611a82
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(83a96290-d973-4064-9b74-63d77bca9775), session_answer: "v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }
[2m2025-06-17T22:52:00.809511Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m456:[0m Call answered for session sess_07c69763-049c-4f47-8b17-4866d9611a82: 83a96290-d973-4064-9b74-63d77bca9775 (awaiting ACK per RFC 3261)
[2m2025-06-17T22:52:00.809532Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m470:[0m ðŸ“ž Call answered for session sess_07c69763-049c-4f47-8b17-4866d9611a82 - keeping in Initiating state until media ready
[2m2025-06-17T22:52:00.809546Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m473:[0m ðŸš« RFC 3261: NOT creating media session yet - waiting for ACK
Received command: CancelTimer100 for transaction Key(z9hG4bK-63743-2-0:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-63743-2-0:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK-63743-2-0:INVITE:server). Final state: Terminated
=== PARSING SIP MESSAGE ===
Input length: 409 bytes
Input as string: "ACK sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-2-4\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag002\r\nTo: Test User <sip:test@127.0.0.1:5062>;tag=tag-8b4d9ff4a74040a48ecce6869f5a0476\r\nCall-ID: 2-63743@127.0.0.1\r\nCSeq: 1 ACK\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, 43, 4b, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 32, 2d, 34, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 32, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 38, 62, 34, 64, 39, 66, 66, 34, 61, 37, 34, 30, 34, 30, 61, 34, 38, 65, 63, 63, 65, 36, 38, 36, 39, 66, 35, 61, 30, 34, 37, 36, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 32, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 41, 43, 4b, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 56, 98, 52, 100, 57, 102, 102, 52, 97, 55, 52, 48, 52, 48, 97, 52, 56, 101, 99, 99, 101, 54, 56, 54, 57, 102, 53, 97, 48, 52, 55, 54]
Successfully parsed tag: tag-8b4d9ff4a74040a48ecce6869f5a0476
=== PARSE SUCCESS ===
Successfully parsed message
=====================
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([Object({"Tag": String("63743SIPpTag002")})]), "uri": Object({"host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "parameters": Array([]), "password": Null, "port": Number(5061.0), "headers": Object({}), "raw_uri": Null, "user": String("sipp")}), "display_name": String("SIPp Test")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("63743SIPpTag002")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("63743SIPpTag002")})
Final value for path 'headers.From.params[0].Tag': String("63743SIPpTag002")
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("SIPp Test"), "uri": Object({"parameters": Array([]), "scheme": String("Sip"), "headers": Object({}), "host": Object({"Address": String("127.0.0.1")}), "password": Null, "port": Number(5061.0), "user": String("sipp"), "raw_uri": Null}), "params": Array([Object({"Tag": String("63743SIPpTag002")})])})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("63743SIPpTag002")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("63743SIPpTag002")})
Final value for path 'headers.From.params[0].Tag': String("63743SIPpTag002")
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([]), "uri": Object({"port": Number(5062.0), "user": String("test"), "parameters": Array([]), "password": Null, "headers": Object({}), "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip"), "raw_uri": Null}), "display_name": String("Test User")})
Processing segment Index(0) at index 3, current value: Array([])
Index 0 out of bounds for array of length 0
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Test User"), "params": Array([Object({"Tag": String("tag-8b4d9ff4a74040a48ecce6869f5a0476")})]), "uri": Object({"password": Null, "parameters": Array([]), "scheme": String("Sip"), "port": Number(5062.0), "headers": Object({}), "user": String("test"), "raw_uri": Null, "host": Object({"Address": String("127.0.0.1")})})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("tag-8b4d9ff4a74040a48ecce6869f5a0476")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("tag-8b4d9ff4a74040a48ecce6869f5a0476")})
Final value for path 'headers.To.params[0].Tag': String("tag-8b4d9ff4a74040a48ecce6869f5a0476")
[2m2025-06-17T22:52:00.814081Z[0m [32m INFO[0m ThreadId(05) [2mcrates/dialog-core/src/manager/transaction_integration.rs[0m[2m:[0m[2m758:[0m âœ… RFC 3261: ACK received for transaction Key(z9hG4bK-63743-2-0:INVITE:server) in dialog 83a96290-d973-4064-9b74-63d77bca9775 - time to start media (UAS side)
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: AckReceived { dialog_id: DialogId(83a96290-d973-4064-9b74-63d77bca9775), transaction_id: z9hG4bK-63743-2-0:INVITE:server, negotiated_sdp: None }
[2m2025-06-17T22:52:00.814192Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m565:[0m âœ… RFC 3261: ACK RECEIVED for session sess_07c69763-049c-4f47-8b17-4866d9611a82 - creating media session (UAS side)
[2m2025-06-17T22:52:00.829183Z[0m [32m INFO[0m ThreadId(13) [2mcrates/rtp-core/src/transport/udp.rs[0m[2m:[0m[2m394:[0m Started UDP transport receiver tasks
[2m2025-06-17T22:52:00.829409Z[0m [32m INFO[0m ThreadId(13) [2mcrates/rtp-core/src/session/mod.rs[0m[2m:[0m[2m751:[0m Started RTP session with SSRC=4362fcbc
[2m2025-06-17T22:52:00.829491Z[0m [32m INFO[0m ThreadId(13) [2mcrates/media-core/src/relay/controller/mod.rs[0m[2m:[0m[2m339:[0m âœ… Created media session with REAL RTP session: media-sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 (port: 25156)
[2m2025-06-17T22:52:00.829542Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/media/manager.rs[0m[2m:[0m[2m411:[0m âœ… Created media session: media-sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 for SIP session: sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 with real MediaSessionController + zero-copy enabled
[2m2025-06-17T22:52:00.829566Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m64:[0m Media session created and mapped for SIP session: sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
[2m2025-06-17T22:52:00.829600Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m262:[0m Media info available: true
[2m2025-06-17T22:52:00.829642Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m264:[0m Local SDP length: None
[2m2025-06-17T22:52:00.829656Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m265:[0m Remote SDP length: None
[2m2025-06-17T22:52:00.829669Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m271:[0m Notifying handler about call sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 establishment
[2m2025-06-17T22:52:00.829701Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/api/handlers.rs[0m[2m:[0m[2m231:[0m Call sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 established
ðŸŽ¯ COORDINATOR: Handling event: SessionCreated { session_id: SessionId("sess_07c69763-049c-4f47-8b17-4866d9611a82"), from: "sip:from@127.0.0.1", to: "sip:to@local", call_state: Ringing }
[2m2025-06-17T22:52:00.829743Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m224:[0m Session sess_07c69763-049c-4f47-8b17-4866d9611a82 created with state Ringing
ðŸŽ¯ COORDINATOR: Handling event: SdpEvent { session_id: SessionId("sess_07c69763-049c-4f47-8b17-4866d9611a82"), event_type: "remote_sdp_answer", sdp: "v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }
ðŸŽ¯ COORDINATOR: Handling event: MediaEvent { session_id: SessionId("sess_07c69763-049c-4f47-8b17-4866d9611a82"), event: "rfc_compliant_media_creation_uas" }
[2m2025-06-17T22:52:00.829786Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m366:[0m Media creation event for sess_07c69763-049c-4f47-8b17-4866d9611a82: rfc_compliant_media_creation_uas
ðŸŽ¯ COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_07c69763-049c-4f47-8b17-4866d9611a82"), old_state: Ringing, new_state: Active }
[2m2025-06-17T22:52:00.829824Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m248:[0m Session sess_07c69763-049c-4f47-8b17-4866d9611a82 state changed: Ringing -> Active
[2m2025-06-17T22:52:00.829848Z[0m [32m INFO[0m ThreadId(13) [2mcrates/media-core/src/relay/controller/mod.rs[0m[2m:[0m[2m263:[0m Starting media session for dialog: media-sess_07c69763-049c-4f47-8b17-4866d9611a82
=== PARSING SIP MESSAGE ===
Input length: 590 bytes
Input as string: "INVITE sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-3-0\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag003\r\nTo: Test User <sip:test@127.0.0.1:5062>\r\nCall-ID: 3-63743@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Type: application/sdp\r\nContent-Length:   181\r\n\r\nv=0\r\no=user1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6008 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 33, 2d, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 33, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 33, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 31, 38, 31, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 75, 73, 65, 72, 31, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 53, 65, 73, 73, 69, 6f, 6e, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 30, 30, 38, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-17T22:52:01.807107Z[0m [32m INFO[0m ThreadId(09) [2mcrates/transaction-core/src/manager/mod.rs[0m[2m:[0m[2m1958:[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-63743-3-0:INVITE:server) [3mmethod[0m[2m=[0mINVITE
Transaction loop starting for Key(z9hG4bK-63743-3-0:INVITE:server)
Initial state: Proceeding
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-63743-3-0:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
ðŸŽ¯ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
ðŸ” INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
[2m2025-06-17T22:52:01.807868Z[0m [32m INFO[0m ThreadId(09) [2mcrates/dialog-core/src/manager/dialog_operations.rs[0m[2m:[0m[2m435:[0m Created early dialog c3b650bf-e082-4523-a165-7261f238353a from INVITE request
ðŸ” INVITE HANDLER: Created early dialog c3b650bf-e082-4523-a165-7261f238353a
ðŸ” INVITE HANDLER: Associated transaction Key(z9hG4bK-63743-3-0:INVITE:server) with dialog c3b650bf-e082-4523-a165-7261f238353a
ðŸ” INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog c3b650bf-e082-4523-a165-7261f238353a
ðŸ” INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog c3b650bf-e082-4523-a165-7261f238353a
[2m2025-06-17T22:52:01.808137Z[0m [32m INFO[0m ThreadId(09) [2mcrates/dialog-core/src/protocol/invite_handler.rs[0m[2m:[0m[2m101:[0m Initial INVITE processed, created dialog c3b650bf-e082-4523-a165-7261f238353a
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(c3b650bf-e082-4523-a165-7261f238353a), transaction_id: z9hG4bK-63743-3-0:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-63743-3-0")] }])), From(From(Address { display_name: Some("SIPp Test"), uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("63743SIPpTag003")] })), To(To(Address { display_name: Some("Test User"), uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("3-63743@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("SIPp Basic Call Test")), UserAgent(["SIPp/3.6.1"]), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(181))], body: b"v=0\r\no=user1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6008 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-17T22:52:01.808528Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m149:[0m handle_incoming_call called for dialog c3b650bf-e082-4523-a165-7261f238353a
[2m2025-06-17T22:52:01.808590Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m155:[0m Incoming call from dialog c3b650bf-e082-4523-a165-7261f238353a: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-17T22:52:01.808685Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m163:[0m Created session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 for incoming call dialog c3b650bf-e082-4523-a165-7261f238353a
[2m2025-06-17T22:52:01.808773Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m188:[0m Calling handler.on_incoming_call for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
[2m2025-06-17T22:52:01.808839Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m82:[0m ðŸ“ž [SIPp-Test-Server] Incoming call from sip:from@127.0.0.1 to sip:to@local
[2m2025-06-17T22:52:01.808890Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m83:[0m ðŸ“ž [SIPp-Test-Server] Call ID: sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
[2m2025-06-17T22:52:01.809011Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m94:[0m âœ… [SIPp-Test-Server] Auto-answering call
[2m2025-06-17T22:52:01.809091Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m98:[0m ðŸ“ž [SIPp-Test-Server] Received SDP offer, generating simple answer
[2m2025-06-17T22:52:01.809146Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m112:[0m ðŸ“ž [SIPp-Test-Server] Generated SDP answer
[2m2025-06-17T22:52:01.809244Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m200:[0m Handler decision for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5: Accept(Some("v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n"))
[2m2025-06-17T22:52:01.809341Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m537:[0m Answering call c3b650bf-e082-4523-a165-7261f238353a
[2m2025-06-17T22:52:01.809651Z[0m [32m INFO[0m ThreadId(13) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m162:[0m Sending response message to 127.0.0.1:5061
[2m2025-06-17T22:52:01.809923Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m628:[0m Dialog c3b650bf-e082-4523-a165-7261f238353a local tag set to match response: tag-db6546dca3e24347b93d7ce2f22d6e4e
[2m2025-06-17T22:52:01.809996Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m640:[0m Dialog c3b650bf-e082-4523-a165-7261f238353a transitioned to Confirmed state
[2m2025-06-17T22:52:01.810064Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m647:[0m Updated dialog lookup for confirmed dialog c3b650bf-e082-4523-a165-7261f238353a
[2m2025-06-17T22:52:01.810122Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/api/common.rs[0m[2m:[0m[2m661:[0m Successfully answered call c3b650bf-e082-4523-a165-7261f238353a
[2m2025-06-17T22:52:01.810178Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m224:[0m Successfully answered incoming call for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(c3b650bf-e082-4523-a165-7261f238353a), session_answer: "v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }
[2m2025-06-17T22:52:01.810324Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m456:[0m Call answered for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5: c3b650bf-e082-4523-a165-7261f238353a (awaiting ACK per RFC 3261)
[2m2025-06-17T22:52:01.810378Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m470:[0m ðŸ“ž Call answered for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 - keeping in Initiating state until media ready
[2m2025-06-17T22:52:01.810428Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m473:[0m ðŸš« RFC 3261: NOT creating media session yet - waiting for ACK
Received command: CancelTimer100 for transaction Key(z9hG4bK-63743-3-0:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-63743-3-0:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK-63743-3-0:INVITE:server). Final state: Terminated
=== PARSING SIP MESSAGE ===
Input length: 409 bytes
Input as string: "ACK sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-3-4\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag003\r\nTo: Test User <sip:test@127.0.0.1:5062>;tag=tag-db6546dca3e24347b93d7ce2f22d6e4e\r\nCall-ID: 3-63743@127.0.0.1\r\nCSeq: 1 ACK\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, 43, 4b, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 33, 2d, 34, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 33, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 64, 62, 36, 35, 34, 36, 64, 63, 61, 33, 65, 32, 34, 33, 34, 37, 62, 39, 33, 64, 37, 63, 65, 32, 66, 32, 32, 64, 36, 65, 34, 65, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 33, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 41, 43, 4b, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 100, 98, 54, 53, 52, 54, 100, 99, 97, 51, 101, 50, 52, 51, 52, 55, 98, 57, 51, 100, 55, 99, 101, 50, 102, 50, 50, 100, 54, 101, 52, 101]
Successfully parsed tag: tag-db6546dca3e24347b93d7ce2f22d6e4e
=== PARSE SUCCESS ===
Successfully parsed message
=====================
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([Object({"Tag": String("63743SIPpTag003")})]), "uri": Object({"host": Object({"Address": String("127.0.0.1")}), "user": String("sipp"), "scheme": String("Sip"), "raw_uri": Null, "port": Number(5061.0), "parameters": Array([]), "password": Null, "headers": Object({})}), "display_name": String("SIPp Test")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("63743SIPpTag003")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("63743SIPpTag003")})
Final value for path 'headers.From.params[0].Tag': String("63743SIPpTag003")
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([Object({"Tag": String("63743SIPpTag003")})]), "uri": Object({"scheme": String("Sip"), "host": Object({"Address": String("127.0.0.1")}), "user": String("sipp"), "password": Null, "parameters": Array([]), "headers": Object({}), "port": Number(5061.0), "raw_uri": Null}), "display_name": String("SIPp Test")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("63743SIPpTag003")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("63743SIPpTag003")})
Final value for path 'headers.From.params[0].Tag': String("63743SIPpTag003")
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([]), "display_name": String("Test User"), "uri": Object({"raw_uri": Null, "user": String("test"), "headers": Object({}), "host": Object({"Address": String("127.0.0.1")}), "port": Number(5062.0), "password": Null, "scheme": String("Sip"), "parameters": Array([])})})
Processing segment Index(0) at index 3, current value: Array([])
Index 0 out of bounds for array of length 0
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"uri": Object({"parameters": Array([]), "port": Number(5062.0), "raw_uri": Null, "headers": Object({}), "host": Object({"Address": String("127.0.0.1")}), "user": String("test"), "scheme": String("Sip"), "password": Null}), "params": Array([Object({"Tag": String("tag-db6546dca3e24347b93d7ce2f22d6e4e")})]), "display_name": String("Test User")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("tag-db6546dca3e24347b93d7ce2f22d6e4e")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("tag-db6546dca3e24347b93d7ce2f22d6e4e")})
Final value for path 'headers.To.params[0].Tag': String("tag-db6546dca3e24347b93d7ce2f22d6e4e")
[2m2025-06-17T22:52:01.829638Z[0m [32m INFO[0m ThreadId(14) [2mcrates/dialog-core/src/manager/transaction_integration.rs[0m[2m:[0m[2m758:[0m âœ… RFC 3261: ACK received for transaction Key(z9hG4bK-63743-3-0:INVITE:server) in dialog c3b650bf-e082-4523-a165-7261f238353a - time to start media (UAS side)
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: AckReceived { dialog_id: DialogId(c3b650bf-e082-4523-a165-7261f238353a), transaction_id: z9hG4bK-63743-3-0:INVITE:server, negotiated_sdp: None }
[2m2025-06-17T22:52:01.830307Z[0m [32m INFO[0m ThreadId(14) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m565:[0m âœ… RFC 3261: ACK RECEIVED for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 - creating media session (UAS side)
[2m2025-06-17T22:52:01.833317Z[0m [32m INFO[0m ThreadId(09) [2mcrates/rtp-core/src/transport/udp.rs[0m[2m:[0m[2m394:[0m Started UDP transport receiver tasks
[2m2025-06-17T22:52:01.833547Z[0m [32m INFO[0m ThreadId(09) [2mcrates/rtp-core/src/session/mod.rs[0m[2m:[0m[2m751:[0m Started RTP session with SSRC=c14abed4
[2m2025-06-17T22:52:01.833662Z[0m [32m INFO[0m ThreadId(09) [2mcrates/media-core/src/relay/controller/mod.rs[0m[2m:[0m[2m339:[0m âœ… Created media session with REAL RTP session: media-sess_07c69763-049c-4f47-8b17-4866d9611a82 (port: 16538)
[2m2025-06-17T22:52:01.833771Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/media/manager.rs[0m[2m:[0m[2m411:[0m âœ… Created media session: media-sess_07c69763-049c-4f47-8b17-4866d9611a82 for SIP session: sess_07c69763-049c-4f47-8b17-4866d9611a82 with real MediaSessionController + zero-copy enabled
[2m2025-06-17T22:52:01.833845Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m64:[0m Media session created and mapped for SIP session: sess_07c69763-049c-4f47-8b17-4866d9611a82
[2m2025-06-17T22:52:01.833935Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m262:[0m Media info available: true
[2m2025-06-17T22:52:01.834001Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m264:[0m Local SDP length: None
[2m2025-06-17T22:52:01.834065Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m265:[0m Remote SDP length: None
[2m2025-06-17T22:52:01.834111Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m271:[0m Notifying handler about call sess_07c69763-049c-4f47-8b17-4866d9611a82 establishment
[2m2025-06-17T22:52:01.834153Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/api/handlers.rs[0m[2m:[0m[2m231:[0m Call sess_07c69763-049c-4f47-8b17-4866d9611a82 established
ðŸŽ¯ COORDINATOR: Handling event: SessionCreated { session_id: SessionId("sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5"), from: "sip:from@127.0.0.1", to: "sip:to@local", call_state: Ringing }
[2m2025-06-17T22:52:01.834251Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m224:[0m Session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 created with state Ringing
ðŸŽ¯ COORDINATOR: Handling event: SdpEvent { session_id: SessionId("sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5"), event_type: "remote_sdp_answer", sdp: "v=0\r\no=rust 0 0 IN IP4 127.0.0.1\r\ns=Rust Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 10001 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\n" }
ðŸŽ¯ COORDINATOR: Handling event: MediaEvent { session_id: SessionId("sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5"), event: "rfc_compliant_media_creation_uas" }
[2m2025-06-17T22:52:01.834394Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m366:[0m Media creation event for sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5: rfc_compliant_media_creation_uas
ðŸŽ¯ COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5"), old_state: Ringing, new_state: Active }
[2m2025-06-17T22:52:01.834529Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m248:[0m Session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 state changed: Ringing -> Active
[2m2025-06-17T22:52:01.834594Z[0m [32m INFO[0m ThreadId(09) [2mcrates/media-core/src/relay/controller/mod.rs[0m[2m:[0m[2m263:[0m Starting media session for dialog: media-sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
[2m2025-06-17T22:52:02.838288Z[0m [32m INFO[0m ThreadId(09) [2mcrates/rtp-core/src/transport/udp.rs[0m[2m:[0m[2m394:[0m Started UDP transport receiver tasks
[2m2025-06-17T22:52:02.838542Z[0m [32m INFO[0m ThreadId(09) [2mcrates/rtp-core/src/session/mod.rs[0m[2m:[0m[2m751:[0m Started RTP session with SSRC=e1b9e7dc
[2m2025-06-17T22:52:02.838657Z[0m [32m INFO[0m ThreadId(09) [2mcrates/media-core/src/relay/controller/mod.rs[0m[2m:[0m[2m339:[0m âœ… Created media session with REAL RTP session: media-sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 (port: 31419)
[2m2025-06-17T22:52:02.838764Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/media/manager.rs[0m[2m:[0m[2m411:[0m âœ… Created media session: media-sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 for SIP session: sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 with real MediaSessionController + zero-copy enabled
[2m2025-06-17T22:52:02.838828Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m64:[0m Media session created and mapped for SIP session: sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
[2m2025-06-17T22:52:02.838907Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m262:[0m Media info available: true
[2m2025-06-17T22:52:02.838947Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m264:[0m Local SDP length: None
[2m2025-06-17T22:52:02.838977Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m265:[0m Remote SDP length: None
[2m2025-06-17T22:52:02.839008Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m271:[0m Notifying handler about call sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 establishment
[2m2025-06-17T22:52:02.839043Z[0m [32m INFO[0m ThreadId(09) [2mcrates/session-core/src/api/handlers.rs[0m[2m:[0m[2m231:[0m Call sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 established
=== PARSING SIP MESSAGE ===
Input length: 409 bytes
Input as string: "BYE sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-1-7\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag001\r\nTo: Test User <sip:test@127.0.0.1:5062>;tag=tag-5759f01b3f094b4bbb57dad6ce035f29\r\nCall-ID: 1-63743@127.0.0.1\r\nCSeq: 2 BYE\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Length: 0\r\n\r\n"
Input as hex: [42, 59, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 31, 2d, 37, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 31, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 35, 37, 35, 39, 66, 30, 31, 62, 33, 66, 30, 39, 34, 62, 34, 62, 62, 62, 35, 37, 64, 61, 64, 36, 63, 65, 30, 33, 35, 66, 32, 39, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 32, 20, 42, 59, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 53, 55, 53, 57, 102, 48, 49, 98, 51, 102, 48, 57, 52, 98, 52, 98, 98, 98, 53, 55, 100, 97, 100, 54, 99, 101, 48, 51, 53, 102, 50, 57]
Successfully parsed tag: tag-5759f01b3f094b4bbb57dad6ce035f29
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-17T22:52:04.823578Z[0m [32m INFO[0m ThreadId(13) [2mcrates/transaction-core/src/manager/mod.rs[0m[2m:[0m[2m2038:[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-63743-1-7:BYE:server) [3mmethod[0m[2m=[0mBYE
Transaction loop starting for Key(z9hG4bK-63743-1-7:BYE:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bK-63743-1-7:BYE:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Bye, uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-63743-1-7")] }])), From(From(Address { display_name: Some("SIPp Test"), uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("63743SIPpTag001")] })), To(To(Address { display_name: Some("Test User"), uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-5759f01b3f094b4bbb57dad6ce035f29")] })), CallId(CallId("1-63743@127.0.0.1")), CSeq(CSeq { seq: 2, method: Bye }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("SIPp Basic Call Test")), UserAgent(["SIPp/3.6.1"]), ContentLength(ContentLength(0))], body: b"" })) for transaction Key(z9hG4bK-63743-1-7:BYE:server)
[2m2025-06-17T22:52:04.823966Z[0m [32m INFO[0m ThreadId(13) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m162:[0m Sending response message to 127.0.0.1:5061
Received command: TransitionTo(Completed) for transaction Key(z9hG4bK-63743-1-7:BYE:server)
Processing TransitionTo(Completed) current state: Trying
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: CallTerminated { dialog_id: DialogId(6f0ab959-1125-4378-b909-1102d57c2aa2), reason: "BYE received" }
[2m2025-06-17T22:52:04.824109Z[0m [32m INFO[0m ThreadId(13) [2mcrates/dialog-core/src/protocol/bye_handler.rs[0m[2m:[0m[2m106:[0m BYE processed for dialog 6f0ab959-1125-4378-b909-1102d57c2aa2
[2m2025-06-17T22:52:04.824189Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m639:[0m handle_call_terminated called for dialog 6f0ab959-1125-4378-b909-1102d57c2aa2: BYE received
Valid state transition: Trying -> Completed
State successfully changed to: Completed
[2m2025-06-17T22:52:04.824225Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m642:[0m Call terminated for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94: 6f0ab959-1125-4378-b909-1102d57c2aa2 - BYE received
Sent StateChanged event result: Success
ðŸŽ¯ COORDINATOR: Handling event: SessionTerminated { session_id: SessionId("sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94"), reason: "BYE received" }
ðŸŽ¯ COORDINATOR: Matched SessionTerminated event for sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 - BYE received
ðŸ”´ COORDINATOR: handle_session_terminated called for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 with reason: BYE received
[2m2025-06-17T22:52:04.824324Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m308:[0m Session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 terminated: BYE received
[2m2025-06-17T22:52:04.824353Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m92:[0m Media session terminated for SIP session: sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
ðŸ”” COORDINATOR: Handler exists, checking for session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
âœ… COORDINATOR: Found session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94, calling handler.on_call_ended
[2m2025-06-17T22:52:04.824403Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m340:[0m Notifying handler about session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 termination
[2m2025-06-17T22:52:04.824422Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m166:[0m ðŸ“´ [SIPp-Test-Server] Call sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 ended: BYE received
ðŸŽ¯ COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94"), old_state: Active, new_state: Terminated }
[2m2025-06-17T22:52:04.824458Z[0m [32m INFO[0m ThreadId(05) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m248:[0m Session sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94 state changed: Active -> Terminated
[2m2025-06-17T22:52:04.824483Z[0m [33m WARN[0m ThreadId(05) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m94:[0m No media session found for SIP session: sess_8f88c7a5-c5da-42d1-a11b-8a09dc7c0e94
=== PARSING SIP MESSAGE ===
Input length: 409 bytes
Input as string: "BYE sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-2-7\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag002\r\nTo: Test User <sip:test@127.0.0.1:5062>;tag=tag-8b4d9ff4a74040a48ecce6869f5a0476\r\nCall-ID: 2-63743@127.0.0.1\r\nCSeq: 2 BYE\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Length: 0\r\n\r\n"
Input as hex: [42, 59, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 32, 2d, 37, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 32, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 38, 62, 34, 64, 39, 66, 66, 34, 61, 37, 34, 30, 34, 30, 61, 34, 38, 65, 63, 63, 65, 36, 38, 36, 39, 66, 35, 61, 30, 34, 37, 36, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 32, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 32, 20, 42, 59, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 56, 98, 52, 100, 57, 102, 102, 52, 97, 55, 52, 48, 52, 48, 97, 52, 56, 101, 99, 99, 101, 54, 56, 54, 57, 102, 53, 97, 48, 52, 55, 54]
Successfully parsed tag: tag-8b4d9ff4a74040a48ecce6869f5a0476
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-17T22:52:05.818220Z[0m [32m INFO[0m ThreadId(09) [2mcrates/transaction-core/src/manager/mod.rs[0m[2m:[0m[2m2038:[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-63743-2-7:BYE:server) [3mmethod[0m[2m=[0mBYE
Transaction loop starting for Key(z9hG4bK-63743-2-7:BYE:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bK-63743-2-7:BYE:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Bye, uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-63743-2-7")] }])), From(From(Address { display_name: Some("SIPp Test"), uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("63743SIPpTag002")] })), To(To(Address { display_name: Some("Test User"), uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-8b4d9ff4a74040a48ecce6869f5a0476")] })), CallId(CallId("2-63743@127.0.0.1")), CSeq(CSeq { seq: 2, method: Bye }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("SIPp Basic Call Test")), UserAgent(["SIPp/3.6.1"]), ContentLength(ContentLength(0))], body: b"" })) for transaction Key(z9hG4bK-63743-2-7:BYE:server)
[2m2025-06-17T22:52:05.818476Z[0m [32m INFO[0m ThreadId(09) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m162:[0m Sending response message to 127.0.0.1:5061
Received command: TransitionTo(Completed) for transaction Key(z9hG4bK-63743-2-7:BYE:server)
Processing TransitionTo(Completed) current state: Trying
Valid state transition: Trying -> Completed
State successfully changed to: Completed
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: CallTerminated { dialog_id: DialogId(83a96290-d973-4064-9b74-63d77bca9775), reason: "BYE received" }
Sent StateChanged event result: Success
[2m2025-06-17T22:52:05.818621Z[0m [32m INFO[0m ThreadId(09) [2mcrates/dialog-core/src/protocol/bye_handler.rs[0m[2m:[0m[2m106:[0m BYE processed for dialog 83a96290-d973-4064-9b74-63d77bca9775
[2m2025-06-17T22:52:05.818744Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m639:[0m handle_call_terminated called for dialog 83a96290-d973-4064-9b74-63d77bca9775: BYE received
[2m2025-06-17T22:52:05.818858Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m642:[0m Call terminated for session sess_07c69763-049c-4f47-8b17-4866d9611a82: 83a96290-d973-4064-9b74-63d77bca9775 - BYE received
ðŸŽ¯ COORDINATOR: Handling event: SessionTerminated { session_id: SessionId("sess_07c69763-049c-4f47-8b17-4866d9611a82"), reason: "BYE received" }
ðŸŽ¯ COORDINATOR: Matched SessionTerminated event for sess_07c69763-049c-4f47-8b17-4866d9611a82 - BYE received
ðŸ”´ COORDINATOR: handle_session_terminated called for session sess_07c69763-049c-4f47-8b17-4866d9611a82 with reason: BYE received
[2m2025-06-17T22:52:05.818944Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m308:[0m Session sess_07c69763-049c-4f47-8b17-4866d9611a82 terminated: BYE received
[2m2025-06-17T22:52:05.818972Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m92:[0m Media session terminated for SIP session: sess_07c69763-049c-4f47-8b17-4866d9611a82
ðŸ”” COORDINATOR: Handler exists, checking for session sess_07c69763-049c-4f47-8b17-4866d9611a82
âœ… COORDINATOR: Found session sess_07c69763-049c-4f47-8b17-4866d9611a82, calling handler.on_call_ended
[2m2025-06-17T22:52:05.819025Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m340:[0m Notifying handler about session sess_07c69763-049c-4f47-8b17-4866d9611a82 termination
[2m2025-06-17T22:52:05.819046Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m166:[0m ðŸ“´ [SIPp-Test-Server] Call sess_07c69763-049c-4f47-8b17-4866d9611a82 ended: BYE received
ðŸŽ¯ COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_07c69763-049c-4f47-8b17-4866d9611a82"), old_state: Active, new_state: Terminated }
[2m2025-06-17T22:52:05.819086Z[0m [32m INFO[0m ThreadId(13) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m248:[0m Session sess_07c69763-049c-4f47-8b17-4866d9611a82 state changed: Active -> Terminated
[2m2025-06-17T22:52:05.819109Z[0m [33m WARN[0m ThreadId(13) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m94:[0m No media session found for SIP session: sess_07c69763-049c-4f47-8b17-4866d9611a82
=== PARSING SIP MESSAGE ===
Input length: 409 bytes
Input as string: "BYE sip:test@127.0.0.1:5062 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-63743-3-7\r\nFrom: SIPp Test <sip:sipp@127.0.0.1:5061>;tag=63743SIPpTag003\r\nTo: Test User <sip:test@127.0.0.1:5062>;tag=tag-db6546dca3e24347b93d7ce2f22d6e4e\r\nCall-ID: 3-63743@127.0.0.1\r\nCSeq: 2 BYE\r\nContact: sip:sipp@127.0.0.1:5061\r\nMax-Forwards: 70\r\nSubject: SIPp Basic Call Test\r\nUser-Agent: SIPp/3.6.1\r\nContent-Length: 0\r\n\r\n"
Input as hex: [42, 59, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 36, 33, 37, 34, 33, 2d, 33, 2d, 37, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 3c, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 36, 33, 37, 34, 33, 53, 49, 50, 70, 54, 61, 67, 30, 30, 33, 0d, 0a, 54, 6f, 3a, 20, 54, 65, 73, 74, 20, 55, 73, 65, 72, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 32, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 64, 62, 36, 35, 34, 36, 64, 63, 61, 33, 65, 32, 34, 33, 34, 37, 62, 39, 33, 64, 37, 63, 65, 32, 66, 32, 32, 64, 36, 65, 34, 65, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 33, 2d, 36, 33, 37, 34, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 32, 20, 42, 59, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 73, 69, 70, 3a, 73, 69, 70, 70, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 53, 49, 50, 70, 20, 42, 61, 73, 69, 63, 20, 43, 61, 6c, 6c, 20, 54, 65, 73, 74, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 2f, 33, 2e, 36, 2e, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 100, 98, 54, 53, 52, 54, 100, 99, 97, 51, 101, 50, 52, 51, 52, 55, 98, 57, 51, 100, 55, 99, 101, 50, 102, 50, 50, 100, 54, 101, 52, 101]
Successfully parsed tag: tag-db6546dca3e24347b93d7ce2f22d6e4e
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-17T22:52:06.814980Z[0m [32m INFO[0m ThreadId(14) [2mcrates/transaction-core/src/manager/mod.rs[0m[2m:[0m[2m2038:[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-63743-3-7:BYE:server) [3mmethod[0m[2m=[0mBYE
Transaction loop starting for Key(z9hG4bK-63743-3-7:BYE:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bK-63743-3-7:BYE:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Bye, uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-63743-3-7")] }])), From(From(Address { display_name: Some("SIPp Test"), uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("63743SIPpTag003")] })), To(To(Address { display_name: Some("Test User"), uri: Uri { scheme: Sip, user: Some("test"), password: None, host: Address(127.0.0.1), port: Some(5062), parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-db6546dca3e24347b93d7ce2f22d6e4e")] })), CallId(CallId("3-63743@127.0.0.1")), CSeq(CSeq { seq: 2, method: Bye }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("sipp"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("SIPp Basic Call Test")), UserAgent(["SIPp/3.6.1"]), ContentLength(ContentLength(0))], body: b"" })) for transaction Key(z9hG4bK-63743-3-7:BYE:server)
[2m2025-06-17T22:52:06.815329Z[0m [32m INFO[0m ThreadId(14) [2mcrates/sip-transport/src/transport/udp/mod.rs[0m[2m:[0m[2m162:[0m Sending response message to 127.0.0.1:5061
Received command: TransitionTo(Completed) for transaction Key(z9hG4bK-63743-3-7:BYE:server)
Processing TransitionTo(Completed) current state: Trying
Valid state transition: Trying -> Completed
State successfully changed to: Completed
Sent StateChanged event result: Success
[2m2025-06-17T22:52:06.815520Z[0m [32m INFO[0m ThreadId(14) [2mcrates/dialog-core/src/protocol/bye_handler.rs[0m[2m:[0m[2m106:[0m BYE processed for dialog c3b650bf-e082-4523-a165-7261f238353a
ðŸ“¨ EVENT LOOP: Received session coordination event in background task
ðŸŽª SESSION COORDINATION: Received event: CallTerminated { dialog_id: DialogId(c3b650bf-e082-4523-a165-7261f238353a), reason: "BYE received" }
[2m2025-06-17T22:52:06.815608Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m639:[0m handle_call_terminated called for dialog c3b650bf-e082-4523-a165-7261f238353a: BYE received
[2m2025-06-17T22:52:06.815637Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/src/dialog/coordinator.rs[0m[2m:[0m[2m642:[0m Call terminated for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5: c3b650bf-e082-4523-a165-7261f238353a - BYE received
ðŸŽ¯ COORDINATOR: Handling event: SessionTerminated { session_id: SessionId("sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5"), reason: "BYE received" }
ðŸŽ¯ COORDINATOR: Matched SessionTerminated event for sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 - BYE received
ðŸ”´ COORDINATOR: handle_session_terminated called for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 with reason: BYE received
[2m2025-06-17T22:52:06.815707Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m308:[0m Session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 terminated: BYE received
[2m2025-06-17T22:52:06.815735Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m92:[0m Media session terminated for SIP session: sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
ðŸ”” COORDINATOR: Handler exists, checking for session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
âœ… COORDINATOR: Found session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5, calling handler.on_call_ended
[2m2025-06-17T22:52:06.815781Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m340:[0m Notifying handler about session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 termination
[2m2025-06-17T22:52:06.815797Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m166:[0m ðŸ“´ [SIPp-Test-Server] Call sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 ended: BYE received
ðŸŽ¯ COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5"), old_state: Active, new_state: Terminated }
[2m2025-06-17T22:52:06.815829Z[0m [32m INFO[0m ThreadId(15) [2mcrates/session-core/src/coordinator/mod.rs[0m[2m:[0m[2m248:[0m Session sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5 state changed: Active -> Terminated
[2m2025-06-17T22:52:06.815845Z[0m [33m WARN[0m ThreadId(15) [2mcrates/session-core/src/media/coordinator.rs[0m[2m:[0m[2m94:[0m No media session found for SIP session: sess_7275854a-6df1-4bfc-aba4-8ebd08f07ea5
[2m2025-06-17T22:52:06.884746Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m250:[0m ðŸ“¡ Received SIGTERM signal
[2m2025-06-17T22:52:06.884776Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m229:[0m ðŸ›‘ SIP Test Server shutting down
[2m2025-06-17T22:52:06.884791Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m269:[0m ðŸ“Š Final Statistics:
[2m2025-06-17T22:52:06.884802Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m270:[0m   â±ï¸  Uptime: 11.44 seconds
[2m2025-06-17T22:52:06.884812Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m271:[0m   ðŸ“ž Total calls: 3
[2m2025-06-17T22:52:06.884821Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m272:[0m   âœ… Successful calls: 3
[2m2025-06-17T22:52:06.884828Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m273:[0m   âŒ Failed calls: 0
[2m2025-06-17T22:52:06.884836Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m274:[0m   ðŸ”„ Active calls: 0
[2m2025-06-17T22:52:06.884845Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m275:[0m   ðŸ“ˆ Success rate: 100.0%
[2m2025-06-17T22:52:06.884855Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m279:[0m   ðŸš€ Average call rate: 0.26 calls/second
[2m2025-06-17T22:52:06.884866Z[0m [32m INFO[0m ThreadId(01) [2mcrates/session-core/examples/sipp_tests/src/bin/sip_test_server.rs[0m[2m:[0m[2m317:[0m ðŸ‘‹ SIP Test Server shutdown complete
