[2m2025-06-10T22:09:45.001370Z[0m [32m INFO[0m üé™ Starting SIP Conference Server with REAL AUDIO MIXING
[2m2025-06-10T22:09:45.001433Z[0m [32m INFO[0m üì° Listening on port: 5064
[2m2025-06-10T22:09:45.001447Z[0m [32m INFO[0m üë• Max participants per conference: 5
[2m2025-06-10T22:09:45.001455Z[0m [32m INFO[0m üéµ Audio mixing enabled: true
[2m2025-06-10T22:09:45.001462Z[0m [32m INFO[0m üì° RTP port base: 10000
[2m2025-06-10T22:09:45.001469Z[0m [32m INFO[0m ‚è∞ No conference timeout (manual control)
[2m2025-06-10T22:09:45.001481Z[0m [32m INFO[0m üé™ Starting SIP Conference Server with REAL AUDIO MIXING: true
[2m2025-06-10T22:09:45.001488Z[0m [32m INFO[0m üì° Port: 5064, Max participants: 5
[2m2025-06-10T22:09:45.001502Z[0m [32m INFO[0m üé™ Creating SIP Conference Handler with session-core MediaManager (audio mixing: true)
[2m2025-06-10T22:09:45.001718Z[0m [32m INFO[0m Session event processor started
[2m2025-06-10T22:09:45.001727Z[0m [32m INFO[0m ‚úÖ MediaManager started with event processing enabled
[2m2025-06-10T22:09:45.001787Z[0m [32m INFO[0m Creating UnifiedDialogApi with automatic transport setup in "Hybrid" mode
[2m2025-06-10T22:09:45.001879Z[0m [32m INFO[0m SIP UDP transport bound to 127.0.0.1:5064
[2m2025-06-10T22:09:45.001974Z[0m [32m INFO[0m Added UDP transport bound to 127.0.0.1:5064
[2m2025-06-10T22:09:45.002026Z[0m [32m INFO[0m Creating UnifiedDialogApi with global events in "Hybrid" mode
[2m2025-06-10T22:09:45.002038Z[0m [32m INFO[0m Creating UnifiedDialogManager with global events in "Hybrid" mode at 127.0.0.1:5064
[2m2025-06-10T22:09:45.002048Z[0m [32m INFO[0m Creating new DialogManager with global transaction events and local address 127.0.0.1:5064
[2m2025-06-10T22:09:45.002118Z[0m [32m INFO[0m üîÑ Starting global transaction event processor for dialog-core
üîó SETUP: Initializing dialog coordination via DialogCoordinator
üîó SETUP: Setting up session coordination with dialog-core
‚úÖ SETUP: Session coordination setup complete
üé¨ SPAWN: Starting dialog coordination event loop
üé¨ SPAWN: Starting session coordination event loop
üåâ BRIDGE: Setting up session event bridge with media auto-creation and SDP handling
üì° EVENT LOOP: Session coordination event loop started
[2m2025-06-10T22:09:45.002292Z[0m [32m INFO[0m SessionManager initialized on port 5064
[2m2025-06-10T22:09:45.002307Z[0m [32m INFO[0m üîÑ Running indefinitely (script-controlled)
[2m2025-06-10T22:09:45.002315Z[0m [32m INFO[0m üé™ Starting SIP Conference Server session manager...
[2m2025-06-10T22:09:45.002323Z[0m [32m INFO[0m Starting UnifiedDialogApi
[2m2025-06-10T22:09:45.002330Z[0m [32m INFO[0m Starting UnifiedDialogManager in "Hybrid" mode
[2m2025-06-10T22:09:45.002336Z[0m [32m INFO[0m DialogManager starting
[2m2025-06-10T22:09:45.002342Z[0m [32m INFO[0m DialogManager started successfully
[2m2025-06-10T22:09:45.002350Z[0m [32m INFO[0m Hybrid mode active - from_uri: Some("sip:conference@127.0.0.1:5064"), domain: None, auto_auth: false, auto_options: false
[2m2025-06-10T22:09:45.002358Z[0m [32m INFO[0m UnifiedDialogManager started successfully
[2m2025-06-10T22:09:45.002367Z[0m [32m INFO[0m Session event processor started
[2m2025-06-10T22:09:45.002384Z[0m [32m INFO[0m Cleanup manager started
[2m2025-06-10T22:09:45.002392Z[0m [32m INFO[0m SessionManager started
[2m2025-06-10T22:09:45.002399Z[0m [32m INFO[0m ‚úÖ SIP Conference Server ready and listening on port 5064
[2m2025-06-10T22:09:45.002404Z[0m [32m INFO[0m üë• Max participants per conference: 5
[2m2025-06-10T22:09:45.002410Z[0m [32m INFO[0m üéµ Real audio mixing enabled: true
[2m2025-06-10T22:09:45.002416Z[0m [32m INFO[0m üéØ Ready to handle multi-party conference calls with REAL AUDIO
[2m2025-06-10T22:09:45.002423Z[0m [32m INFO[0m üì° Real SIP conference server now active - SIPp can connect!
=== PARSING SIP MESSAGE ===
Input length: 662 bytes
Input as string: "INVITE sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95619-1\r\nFrom: Participant 1 <sip:participant1@127.0.0.1:5061>;tag=95619SIPpTag1\r\nTo: Conference Room <sip:testroom@127.0.0.1:5064>\r\nCall-ID: 1-95619@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:participant1@127.0.0.1:5061>\r\nMax-Forwards: 70\r\nSubject: 3-Party Conference Test - Participant 1\r\nContent-Type: application/sdp\r\nContent-Length:   226\r\n\r\nv=0\r\no=participant1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 1\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6251 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant1\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 36, 31, 39, 2d, 31, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 31, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 36, 31, 39, 53, 49, 50, 70, 54, 61, 67, 31, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 39, 35, 36, 31, 39, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 33, 2d, 50, 61, 72, 74, 79, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 54, 65, 73, 74, 20, 2d, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 32, 36, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 43, 6c, 69, 65, 6e, 74, 20, 31, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 32, 35, 31, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a, 61, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 2d, 69, 64, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-10T22:09:48.156950Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-95619-1:INVITE:server) [3mmethod[0m[2m=[0mINVITE
üéØ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
Transaction loop starting for Key(z9hG4bK-95619-1:INVITE:server)
Initial state: Proceeding
üîç INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-95619-1:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
[2m2025-06-10T22:09:48.157213Z[0m [32m INFO[0m Created early dialog 50218c89-d9fa-46d9-a455-b8bcbd605244 from INVITE request
üîç INVITE HANDLER: Created early dialog 50218c89-d9fa-46d9-a455-b8bcbd605244
üîç INVITE HANDLER: Associated transaction Key(z9hG4bK-95619-1:INVITE:server) with dialog 50218c89-d9fa-46d9-a455-b8bcbd605244
üîç INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 50218c89-d9fa-46d9-a455-b8bcbd605244
üîç INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 50218c89-d9fa-46d9-a455-b8bcbd605244
[2m2025-06-10T22:09:48.157306Z[0m [32m INFO[0m Initial INVITE processed, created dialog 50218c89-d9fa-46d9-a455-b8bcbd605244
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(50218c89-d9fa-46d9-a455-b8bcbd605244), transaction_id: z9hG4bK-95619-1:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-95619-1")] }])), From(From(Address { display_name: Some("Participant 1"), uri: Uri { scheme: Sip, user: Some("participant1"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("95619SIPpTag1")] })), To(To(Address { display_name: Some("Conference Room"), uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("1-95619@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("participant1"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("3-Party Conference Test - Participant 1")), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(226))], body: b"v=0\r\no=participant1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 1\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6251 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant1\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-10T22:09:48.157445Z[0m [32m INFO[0m Incoming call from dialog 50218c89-d9fa-46d9-a455-b8bcbd605244: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-10T22:09:48.157544Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Conference INVITE from sip:from@127.0.0.1 to sip:to@local (REAL AUDIO)
[2m2025-06-10T22:09:48.157559Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Call ID: sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e
[2m2025-06-10T22:09:48.157586Z[0m [32m INFO[0m üé™ Participant from wants to join conference to (audio mixing: true)
[2m2025-06-10T22:09:48.157609Z[0m [32m INFO[0m üé™ Creating conference room 'to' with session-core MediaManager (audio mixing: true)
[2m2025-06-10T22:09:48.157625Z[0m [32m INFO[0m üéµ Initializing conference audio mixer for room 'to' via session-core
[2m2025-06-10T22:09:48.157651Z[0m [32m INFO[0m Starting media session for dialog: media-sess_1a830c68-dda8-4906-a6b6-885e6cb5b554
[2m2025-06-10T22:09:48.157708Z[0m [32m INFO[0m Created global port allocator with range 16384-32767
Received command: Timer("100") for transaction Key(z9hG4bK-95619-1:INVITE:server)
[2m2025-06-10T22:09:48.360636Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
=== PARSING SIP MESSAGE ===
Input length: 662 bytes
Input as string: "INVITE sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95619-2\r\nFrom: Participant 2 <sip:participant2@127.0.0.1:5061>;tag=95619SIPpTag2\r\nTo: Conference Room <sip:testroom@127.0.0.1:5064>\r\nCall-ID: 2-95619@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:participant2@127.0.0.1:5061>\r\nMax-Forwards: 70\r\nSubject: 3-Party Conference Test - Participant 2\r\nContent-Type: application/sdp\r\nContent-Length:   226\r\n\r\nv=0\r\no=participant2 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 2\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6255 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant2\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 36, 31, 39, 2d, 32, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 32, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 36, 31, 39, 53, 49, 50, 70, 54, 61, 67, 32, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 32, 2d, 39, 35, 36, 31, 39, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 33, 2d, 50, 61, 72, 74, 79, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 54, 65, 73, 74, 20, 2d, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 32, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 32, 36, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 43, 6c, 69, 65, 6e, 74, 20, 32, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 32, 35, 35, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a, 61, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 2d, 69, 64, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-10T22:09:49.152997Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-95619-2:INVITE:server) [3mmethod[0m[2m=[0mINVITE
üéØ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
üîç INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
Transaction loop starting for Key(z9hG4bK-95619-2:INVITE:server)
Initial state: Proceeding
[2m2025-06-10T22:09:49.153417Z[0m [32m INFO[0m Created early dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad from INVITE request
üîç INVITE HANDLER: Created early dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-95619-2:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
üîç INVITE HANDLER: Associated transaction Key(z9hG4bK-95619-2:INVITE:server) with dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad
üîç INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad
üîç INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad
[2m2025-06-10T22:09:49.153726Z[0m [32m INFO[0m Initial INVITE processed, created dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad
[2m2025-06-10T22:09:49.161657Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:49.162007Z[0m [32m INFO[0m Started RTP session with SSRC=29d216bb
[2m2025-06-10T22:09:49.162151Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_1a830c68-dda8-4906-a6b6-885e6cb5b554 (port: 22947)
[2m2025-06-10T22:09:49.162270Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_1a830c68-dda8-4906-a6b6-885e6cb5b554 for SIP session: sess_1a830c68-dda8-4906-a6b6-885e6cb5b554 with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:49.162328Z[0m [32m INFO[0m ‚úÖ Conference audio mixer initialized for room 'to' on port Some(22947)
[2m2025-06-10T22:09:49.162377Z[0m [32m INFO[0m üé™ Adding participant from to conference to with session-core MediaManager
[2m2025-06-10T22:09:49.162414Z[0m [32m INFO[0m üéµ Setting up real media session for participant from via session-core
[2m2025-06-10T22:09:49.162452Z[0m [32m INFO[0m Starting media session for dialog: media-sess_8cce2f71-b502-489b-b5fd-06e6387bf9f6
Received command: Timer("100") for transaction Key(z9hG4bK-95619-2:INVITE:server)
[2m2025-06-10T22:09:49.355363Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
=== PARSING SIP MESSAGE ===
Input length: 662 bytes
Input as string: "INVITE sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95619-3\r\nFrom: Participant 3 <sip:participant3@127.0.0.1:5061>;tag=95619SIPpTag3\r\nTo: Conference Room <sip:testroom@127.0.0.1:5064>\r\nCall-ID: 3-95619@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:participant3@127.0.0.1:5061>\r\nMax-Forwards: 70\r\nSubject: 3-Party Conference Test - Participant 3\r\nContent-Type: application/sdp\r\nContent-Length:   226\r\n\r\nv=0\r\no=participant3 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 3\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6259 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant3\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 36, 31, 39, 2d, 33, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 33, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 36, 31, 39, 53, 49, 50, 70, 54, 61, 67, 33, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 33, 2d, 39, 35, 36, 31, 39, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 33, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 33, 2d, 50, 61, 72, 74, 79, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 54, 65, 73, 74, 20, 2d, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 33, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 32, 36, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 33, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 43, 6c, 69, 65, 6e, 74, 20, 33, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 32, 35, 39, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a, 61, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 2d, 69, 64, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 33, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-10T22:09:50.153356Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-95619-3:INVITE:server) [3mmethod[0m[2m=[0mINVITE
Transaction loop starting for Key(z9hG4bK-95619-3:INVITE:server)
Initial state: Proceeding
üéØ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
üîç INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-95619-3:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
[2m2025-06-10T22:09:50.153869Z[0m [32m INFO[0m Created early dialog 30f699cd-de24-4149-91cb-820870c73025 from INVITE request
üîç INVITE HANDLER: Created early dialog 30f699cd-de24-4149-91cb-820870c73025
üîç INVITE HANDLER: Associated transaction Key(z9hG4bK-95619-3:INVITE:server) with dialog 30f699cd-de24-4149-91cb-820870c73025
üîç INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 30f699cd-de24-4149-91cb-820870c73025
üîç INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 30f699cd-de24-4149-91cb-820870c73025
[2m2025-06-10T22:09:50.154027Z[0m [32m INFO[0m Initial INVITE processed, created dialog 30f699cd-de24-4149-91cb-820870c73025
[2m2025-06-10T22:09:50.165886Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:50.166113Z[0m [32m INFO[0m Started RTP session with SSRC=2d61cbb9
[2m2025-06-10T22:09:50.166195Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_8cce2f71-b502-489b-b5fd-06e6387bf9f6 (port: 27613)
[2m2025-06-10T22:09:50.166267Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_8cce2f71-b502-489b-b5fd-06e6387bf9f6 for SIP session: sess_8cce2f71-b502-489b-b5fd-06e6387bf9f6 with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:50.166317Z[0m [32m INFO[0m ‚úÖ Participant from media session active on RTP port Some(27613) via session-core
[2m2025-06-10T22:09:50.166345Z[0m [32m INFO[0m üéµ Participant from media session established via session-core
[2m2025-06-10T22:09:50.166397Z[0m [32m INFO[0m ‚úÖ Participant from joined conference to (1/5) - Audio participants: 1
[2m2025-06-10T22:09:50.166588Z[0m [32m INFO[0m Answering call 50218c89-d9fa-46d9-a455-b8bcbd605244
[2m2025-06-10T22:09:50.166910Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:50.167115Z[0m [32m INFO[0m Dialog 50218c89-d9fa-46d9-a455-b8bcbd605244 local tag set to match response: tag-fa988ddafc564bb79b1cc87141d7d004
[2m2025-06-10T22:09:50.167161Z[0m [32m INFO[0m Dialog 50218c89-d9fa-46d9-a455-b8bcbd605244 transitioned to Confirmed state
[2m2025-06-10T22:09:50.167239Z[0m [32m INFO[0m Updated dialog lookup for confirmed dialog 50218c89-d9fa-46d9-a455-b8bcbd605244
[2m2025-06-10T22:09:50.167285Z[0m [32m INFO[0m Successfully answered call 50218c89-d9fa-46d9-a455-b8bcbd605244
[2m2025-06-10T22:09:50.167331Z[0m [32m INFO[0m Successfully answered incoming call for session sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(e2863798-77e0-43d7-a8d2-5514e7f3d5ad), transaction_id: z9hG4bK-95619-2:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-95619-2")] }])), From(From(Address { display_name: Some("Participant 2"), uri: Uri { scheme: Sip, user: Some("participant2"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("95619SIPpTag2")] })), To(To(Address { display_name: Some("Conference Room"), uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("2-95619@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("participant2"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("3-Party Conference Test - Participant 2")), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(226))], body: b"v=0\r\no=participant2 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 2\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6255 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant2\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-10T22:09:50.167557Z[0m [32m INFO[0m Incoming call from dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad: sip:from@127.0.0.1 -> sip:to@local
=== PARSING SIP MESSAGE ===
Input length: 390 bytes
Input as string: "ACK sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95619-1-ack\r\nFrom: Participant 1 <sip:participant1@127.0.0.1:5061>;tag=95619SIPpTag1\r\nTo: Conference Room <sip:testroom@127.0.0.1:5064>;tag=tag-fa988ddafc564bb79b1cc87141d7d004\r\nCall-ID: 1-95619@127.0.0.1\r\nCSeq: 1 ACK\r\nContact: <sip:participant1@127.0.0.1:5061>[2m2025-06-10T22:09:50.167667Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Conference INVITE from sip:from@127.0.0.1 to sip:to@local (REAL AUDIO)
\r\n[2m2025-06-10T22:09:50.167979Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Call ID: sess_f5826248-ed17-4de3-a41e-6cf6a85e8da5
Max-Forwards: 70\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, 43, 4b, 20, 73, 69, 70, 3a, 74, 65, Received command: CancelTimer100 for transaction Key(z9hG4bK-95619-1:INVITE:server)
73, 74, 72[2m2025-06-10T22:09:50.168069Z[0m [32m INFO[0m üé™ Participant from wants to join conference to (audio mixing: true)
, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-95619-1:INVITE:server)
31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50Processing TransitionTo(Terminated) current state: Proceeding
, 2f, 32, 2e, 30, Valid state transition: Proceeding -> Terminated
2f, 55State successfully changed to: Terminated
, 44, 50, Sent StateChanged event result: Success
20, 31, 32, 37, 2e[2m2025-06-10T22:09:50.168469Z[0m [32m INFO[0m üé™ Adding participant from to conference to with session-core MediaManager
, 30Transaction loop ending for Key(z9hG4bK-95619-1:INVITE:server). Final state: Terminated
, 2e, 30, 2e, 31, 3a, [2m2025-06-10T22:09:50.169720Z[0m [32m INFO[0m üéµ Setting up real media session for participant from via session-core
35, 30, 36, 31, 3b, 62, 72, 61, [2m2025-06-10T22:09:50.169807Z[0m [32m INFO[0m Starting media session for dialog: media-sess_a2e7b4dc-373f-4e3c-823c-bd3e19e2a941
6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 36, 31, 39, 2d, 31, 2d, 61, 63, 6b, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 31, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 36, 31, 39, 53, 49, 50, 70, 54, 61, 67, 31, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 66, 61, 39, 38, 38, 64, 64, 61, 66, 63, 35, 36, 34, 62, 62, 37, 39, 62, 31, 63, 63, 38, 37, 31, 34, 31, 64, 37, 64, 30, 30, 34, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 39, 35, 36, 31, 39, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 41, 43, 4b, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 102, 97, 57, 56, 56, 100, 100, 97, 102, 99, 53, 54, 52, 98, 98, 55, 57, 98, 49, 99, 99, 56, 55, 49, 52, 49, 100, 55, 100, 48, 48, 52]
Successfully parsed tag: tag-fa988ddafc564bb79b1cc87141d7d004
=== PARSE SUCCESS ===
Successfully parsed message
=====================
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Participant 1"), "params": Array([Object({"Tag": String("95619SIPpTag1")})]), "uri": Object({"user": String("participant1"), "headers": Object({}), "raw_uri": Null, "password": Null, "port": Number(5061.0), "scheme": String("Sip"), "host": Object({"Address": String("127.0.0.1")}), "parameters": Array([])})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("95619SIPpTag1")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("95619SIPpTag1")})
Final value for path 'headers.From.params[0].Tag': String("95619SIPpTag1")
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Participant 1"), "uri": Object({"raw_uri": Null, "user": String("participant1"), "headers": Object({}), "parameters": Array([]), "password": Null, "port": Number(5061.0), "host": Object({"Address": String("127.0.0.1")}), "scheme": String("Sip")}), "params": Array([Object({"Tag": String("95619SIPpTag1")})])})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("95619SIPpTag1")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("95619SIPpTag1")})
Final value for path 'headers.From.params[0].Tag': String("95619SIPpTag1")
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"uri": Object({"raw_uri": Null, "headers": Object({}), "host": Object({"Address": String("127.0.0.1")}), "password": Null, "scheme": String("Sip"), "parameters": Array([]), "port": Number(5064.0), "user": String("testroom")}), "params": Array([]), "display_name": String("Conference Room")})
Processing segment Index(0) at index 3, current value: Array([])
Index 0 out of bounds for array of length 0
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Conference Room"), "params": Array([Object({"Tag": String("tag-fa988ddafc564bb79b1cc87141d7d004")})]), "uri": Object({"headers": Object({}), "user": String("testroom"), "port": Number(5064.0), "host": Object({"Address": String("127.0.0.1")}), "parameters": Array([]), "password": Null, "raw_uri": Null, "scheme": String("Sip")})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("tag-fa988ddafc564bb79b1cc87141d7d004")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("tag-fa988ddafc564bb79b1cc87141d7d004")})
Final value for path 'headers.To.params[0].Tag': String("tag-fa988ddafc564bb79b1cc87141d7d004")
[2m2025-06-10T22:09:50.173598Z[0m [32m INFO[0m ‚úÖ RFC 3261: ACK received for transaction Key(z9hG4bK-95619-1:INVITE:server) in dialog 50218c89-d9fa-46d9-a455-b8bcbd605244 - time to start media (UAS side)
Received command: Timer("100") for transaction Key(z9hG4bK-95619-3:INVITE:server)
[2m2025-06-10T22:09:50.355090Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:51.172463Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:51.172754Z[0m [32m INFO[0m Started RTP session with SSRC=bb5c2b26
[2m2025-06-10T22:09:51.172885Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_a2e7b4dc-373f-4e3c-823c-bd3e19e2a941 (port: 19960)
[2m2025-06-10T22:09:51.172993Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_a2e7b4dc-373f-4e3c-823c-bd3e19e2a941 for SIP session: sess_a2e7b4dc-373f-4e3c-823c-bd3e19e2a941 with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:51.173066Z[0m [32m INFO[0m ‚úÖ Participant from media session active on RTP port Some(19960) via session-core
[2m2025-06-10T22:09:51.173115Z[0m [32m INFO[0m üéµ Participant from media session established via session-core
[2m2025-06-10T22:09:51.173173Z[0m [32m INFO[0m ‚úÖ Participant from joined conference to (1/5) - Audio participants: 1
[2m2025-06-10T22:09:51.173446Z[0m [32m INFO[0m Answering call e2863798-77e0-43d7-a8d2-5514e7f3d5ad
[2m2025-06-10T22:09:51.173928Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:51.174244Z[0m [32m INFO[0m Dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad local tag set to match response: tag-b7ea55681cb84480ab1dec055e00cd7a
[2m2025-06-10T22:09:51.174300Z[0m [32m INFO[0m Dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad transitioned to Confirmed state
[2m2025-06-10T22:09:51.174370Z[0m [32m INFO[0m Updated dialog lookup for confirmed dialog e2863798-77e0-43d7-a8d2-5514e7f3d5ad
[2m2025-06-10T22:09:51.174437Z[0m [32m INFO[0m Successfully answered call e2863798-77e0-43d7-a8d2-5514e7f3d5ad
[2m2025-06-10T22:09:51.174487Z[0m [32m INFO[0m Successfully answered incoming call for session sess_f5826248-ed17-4de3-a41e-6cf6a85e8da5
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(30f699cd-de24-4149-91cb-820870c73025), transaction_id: z9hG4bK-95619-3:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-95619-3")] }])), From(From(Address { display_name: Some("Participant 3"), uri: Uri { scheme: Sip, user: Some("participant3"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("95619SIPpTag3")] })), To(To(Address { display_name: Some("Conference Room"), uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("3-95619@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("participant3"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("3-Party Conference Test - Participant 3")), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(226))], body: b"v=0\r\no=participant3 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 3\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6259 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant3\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-10T22:09:51.174786Z[0m [32m INFO[0m Incoming call from dialog 30f699cd-de24-4149-91cb-820870c73025: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-10T22:09:51.174907Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Conference INVITE from sip:from@127.0.0.1 to sip:to@local (REAL AUDIO)
[2m2025-06-10T22:09:51.174950Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Call ID: sess_ed728c7d-9294-4285-b5b4-0d07b8c865be
Received command: CancelTimer100 for transaction Key(z9hG4bK-95619-2:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-95619-2:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
[2m2025-06-10T22:09:51.174996Z[0m [32m INFO[0m üé™ Participant from wants to join conference to (audio mixing: true)
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
[2m2025-06-10T22:09:51.175173Z[0m [32m INFO[0m üé™ Adding participant from to conference to with session-core MediaManager
Sent StateChanged event result: Success
[2m2025-06-10T22:09:51.175210Z[0m [32m INFO[0m üéµ Setting up real media session for participant from via session-core
Transaction loop ending for Key(z9hG4bK-95619-2:INVITE:server). Final state: Terminated
[2m2025-06-10T22:09:51.175248Z[0m [32m INFO[0m Starting media session for dialog: media-sess_731d1b9c-73d4-4802-8a79-6d8682833205
[2m2025-06-10T22:09:52.177601Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:52.177940Z[0m [32m INFO[0m Started RTP session with SSRC=cf8282dd
[2m2025-06-10T22:09:52.178182Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_731d1b9c-73d4-4802-8a79-6d8682833205 (port: 32188)
[2m2025-06-10T22:09:52.178340Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_731d1b9c-73d4-4802-8a79-6d8682833205 for SIP session: sess_731d1b9c-73d4-4802-8a79-6d8682833205 with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:52.178427Z[0m [32m INFO[0m ‚úÖ Participant from media session active on RTP port Some(32188) via session-core
[2m2025-06-10T22:09:52.178490Z[0m [32m INFO[0m üéµ Participant from media session established via session-core
[2m2025-06-10T22:09:52.178562Z[0m [32m INFO[0m ‚úÖ Participant from joined conference to (1/5) - Audio participants: 1
[2m2025-06-10T22:09:52.178857Z[0m [32m INFO[0m Answering call 30f699cd-de24-4149-91cb-820870c73025
[2m2025-06-10T22:09:52.179489Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:52.179856Z[0m [32m INFO[0m Dialog 30f699cd-de24-4149-91cb-820870c73025 local tag set to match response: tag-316fd90705564f419f720fd1df134604
[2m2025-06-10T22:09:52.179941Z[0m [32m INFO[0m Dialog 30f699cd-de24-4149-91cb-820870c73025 transitioned to Confirmed state
[2m2025-06-10T22:09:52.180067Z[0m [32m INFO[0m Updated dialog lookup for confirmed dialog 30f699cd-de24-4149-91cb-820870c73025
[2m2025-06-10T22:09:52.180142Z[0m [32m INFO[0m Successfully answered call 30f699cd-de24-4149-91cb-820870c73025
[2m2025-06-10T22:09:52.180201Z[0m [32m INFO[0m Successfully answered incoming call for session sess_ed728c7d-9294-4285-b5b4-0d07b8c865be
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(50218c89-d9fa-46d9-a455-b8bcbd605244), session_answer: "v=0\r\no=conference 123456 654321 IN IP4 127.0.0.1\r\ns=Conference Room to\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\na=tool:rvoip-conference-server\r\na=participants:1\r\na=audio-mixing:true\r\nm=audio 27613 RTP/AVP 0 8\r\na=sendrecv\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\n" }
[2m2025-06-10T22:09:52.180399Z[0m [32m INFO[0m Call answered for session sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e: 50218c89-d9fa-46d9-a455-b8bcbd605244 (awaiting ACK per RFC 3261)
[2m2025-06-10T22:09:52.180496Z[0m [32m INFO[0m üìû Call answered for session sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e - keeping in Initiating state until media ready
[2m2025-06-10T22:09:52.180551Z[0m [32m INFO[0m üö´ RFC 3261: NOT creating media session yet - waiting for ACK
Received command: CancelTimer100 for transaction Key(z9hG4bK-95619-3:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-95619-3:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: AckReceived { dialog_id: DialogId(50218c89-d9fa-46d9-a455-b8bcbd605244), transaction_id: z9hG4bK-95619-1:INVITE:server, negotiated_sdp: None }
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK-95619-3:INVITE:server). Final state: Terminated
[2m2025-06-10T22:09:52.180963Z[0m [32m INFO[0m ‚úÖ RFC 3261: ACK RECEIVED for session sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e - creating media session (UAS side)
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(e2863798-77e0-43d7-a8d2-5514e7f3d5ad), session_answer: "v=0\r\no=conference 123456 654321 IN IP4 127.0.0.1\r\ns=Conference Room to\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\na=tool:rvoip-conference-server\r\na=participants:1\r\na=audio-mixing:true\r\nm=audio 19960 RTP/AVP 0 8\r\na=sendrecv\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\n" }
[2m2025-06-10T22:09:52.181169Z[0m [32m INFO[0m Call answered for session sess_f5826248-ed17-4de3-a41e-6cf6a85e8da5: e2863798-77e0-43d7-a8d2-5514e7f3d5ad (awaiting ACK per RFC 3261)
[2m2025-06-10T22:09:52.181215Z[0m [32m INFO[0m üìû Call answered for session sess_f5826248-ed17-4de3-a41e-6cf6a85e8da5 - keeping in Initiating state until media ready
[2m2025-06-10T22:09:52.181245Z[0m [32m INFO[0m üö´ RFC 3261: NOT creating media session yet - waiting for ACK
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(30f699cd-de24-4149-91cb-820870c73025), session_answer: "v=0\r\no=conference 123456 654321 IN IP4 127.0.0.1\r\ns=Conference Room to\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\na=tool:rvoip-conference-server\r\na=participants:1\r\na=audio-mixing:true\r\nm=audio 32188 RTP/AVP 0 8\r\na=sendrecv\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\n" }
[2m2025-06-10T22:09:52.181304Z[0m [32m INFO[0m Call answered for session sess_ed728c7d-9294-4285-b5b4-0d07b8c865be: 30f699cd-de24-4149-91cb-820870c73025 (awaiting ACK per RFC 3261)
[2m2025-06-10T22:09:52.181337Z[0m [32m INFO[0m üìû Call answered for session sess_ed728c7d-9294-4285-b5b4-0d07b8c865be - keeping in Initiating state until media ready
[2m2025-06-10T22:09:52.181363Z[0m [32m INFO[0m üö´ RFC 3261: NOT creating media session yet - waiting for ACK
[2m2025-06-10T22:09:52.181443Z[0m [32m INFO[0m üìÑ Stored remote SDP answer for session sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e
[2m2025-06-10T22:09:52.181525Z[0m [32m INFO[0m üöÄ RFC 3261: Creating media session after ACK for sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e: rfc_compliant_media_creation_uas
[2m2025-06-10T22:09:52.181573Z[0m [32m INFO[0m Starting media session for dialog: media-sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e
[2m2025-06-10T22:09:53.184247Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:53.184606Z[0m [32m INFO[0m Started RTP session with SSRC=7cd275f5
[2m2025-06-10T22:09:53.184757Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e (port: 23458)
[2m2025-06-10T22:09:53.184856Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e for SIP session: sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:53.184916Z[0m [32m INFO[0m ‚úÖ Successfully created RFC-compliant media session for sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e
[2m2025-06-10T22:09:53.185079Z[0m [32m INFO[0m ‚úÖ Updated media session for SIP session: sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e with remote: 127.0.0.1:27613 and codecs: ["PCMU"]
[2m2025-06-10T22:09:53.185135Z[0m [32m INFO[0m ‚úÖ Applied stored remote SDP to new media session for sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e
[2m2025-06-10T22:09:53.185227Z[0m [32m INFO[0m üéâ Session sess_bfea02cb-fda7-49b5-b1ed-5d6ef050b87e transitioned to Active in registry - media ready and session fully established!
[2m2025-06-10T22:09:53.185348Z[0m [32m INFO[0m üìÑ Stored remote SDP answer for session sess_f5826248-ed17-4de3-a41e-6cf6a85e8da5
[2m2025-06-10T22:09:53.185399Z[0m [32m INFO[0m üìÑ Stored remote SDP answer for session sess_ed728c7d-9294-4285-b5b4-0d07b8c865be
=== PARSING SIP MESSAGE ===
Input length: 662 bytes
Input as string: "INVITE sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95735-1\r\nFrom: Participant 1 <sip:participant1@127.0.0.1:5061>;tag=95735SIPpTag1\r\nTo: Conference Room <sip:testroom@127.0.0.1:5064>\r\nCall-ID: 1-95735@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:participant1@127.0.0.1:5061>\r\nMax-Forwards: 70\r\nSubject: 3-Party Conference Test - Participant 1\r\nContent-Type: application/sdp\r\nContent-Length:   226\r\n\r\nv=0\r\no=participant1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 1\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6998 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant1\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 37, 33, 35, 2d, 31, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 31, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 37, 33, 35, 53, 49, 50, 70, 54, 61, 67, 31, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 39, 35, 37, 33, 35, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 33, 2d, 50, 61, 72, 74, 79, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 54, 65, 73, 74, 20, 2d, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 31, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 32, 36, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 43, 6c, 69, 65, 6e, 74, 20, 31, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 39, 39, 38, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a, 61, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 2d, 69, 64, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-10T22:09:53.523550Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-95735-1:INVITE:server) [3mmethod[0m[2m=[0mINVITE
Transaction loop starting for Key(z9hG4bK-95735-1:INVITE:server)
Initial state: Proceeding
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-95735-1:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
üéØ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
üîç INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
Already in requested state, no transition needed: Proceeding
[2m2025-06-10T22:09:53.523977Z[0m [32m INFO[0m Created early dialog dd617143-619d-4145-ae42-33fd020f2b31 from INVITE request
üîç INVITE HANDLER: Created early dialog dd617143-619d-4145-ae42-33fd020f2b31
üîç INVITE HANDLER: Associated transaction Key(z9hG4bK-95735-1:INVITE:server) with dialog dd617143-619d-4145-ae42-33fd020f2b31
üîç INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog dd617143-619d-4145-ae42-33fd020f2b31
üîç INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog dd617143-619d-4145-ae42-33fd020f2b31
[2m2025-06-10T22:09:53.524129Z[0m [32m INFO[0m Initial INVITE processed, created dialog dd617143-619d-4145-ae42-33fd020f2b31
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(dd617143-619d-4145-ae42-33fd020f2b31), transaction_id: z9hG4bK-95735-1:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-95735-1")] }])), From(From(Address { display_name: Some("Participant 1"), uri: Uri { scheme: Sip, user: Some("participant1"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("95735SIPpTag1")] })), To(To(Address { display_name: Some("Conference Room"), uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("1-95735@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("participant1"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("3-Party Conference Test - Participant 1")), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(226))], body: b"v=0\r\no=participant1 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 1\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6998 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant1\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-10T22:09:53.524342Z[0m [32m INFO[0m Incoming call from dialog dd617143-619d-4145-ae42-33fd020f2b31: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-10T22:09:53.524460Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Conference INVITE from sip:from@127.0.0.1 to sip:to@local (REAL AUDIO)
[2m2025-06-10T22:09:53.524494Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Call ID: sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0
[2m2025-06-10T22:09:53.524524Z[0m [32m INFO[0m üé™ Participant from wants to join conference to (audio mixing: true)
[2m2025-06-10T22:09:53.524566Z[0m [32m INFO[0m üé™ Adding participant from to conference to with session-core MediaManager
[2m2025-06-10T22:09:53.524590Z[0m [32m INFO[0m üéµ Setting up real media session for participant from via session-core
[2m2025-06-10T22:09:53.524611Z[0m [32m INFO[0m Starting media session for dialog: media-sess_abe83c29-8020-4adf-a12d-9c8e1139f824
Received command: Timer("100") for transaction Key(z9hG4bK-95735-1:INVITE:server)
[2m2025-06-10T22:09:53.725319Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
=== PARSING SIP MESSAGE ===
Input length: 662 bytes
Input as string: "INVITE sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95735-2\r\nFrom: Participant 2 <sip:participant2@127.0.0.1:5061>;tag=95735SIPpTag2\r\nTo: Conference Room <sip:testroom@127.0.0.1:5064>\r\nCall-ID: 2-95735@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:participant2@127.0.0.1:5061>\r\nMax-Forwards: 70\r\nSubject: 3-Party Conference Test - Participant 2\r\nContent-Type: application/sdp\r\nContent-Length:   226\r\n\r\nv=0\r\no=participant2 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 2\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 7002 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant2\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 37, 33, 35, 2d, 32, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 32, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 37, 33, 35, 53, 49, 50, 70, 54, 61, 67, 32, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 32, 2d, 39, 35, 37, 33, 35, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 33, 2d, 50, 61, 72, 74, 79, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 54, 65, 73, 74, 20, 2d, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 32, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 32, 36, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 43, 6c, 69, 65, 6e, 74, 20, 32, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 37, 30, 30, 32, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a, 61, 3d, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 2d, 69, 64, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 32, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-10T22:09:54.526471Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-95735-2:INVITE:server) [3mmethod[0m[2m=[0mINVITE
Transaction loop starting for Key(z9hG4bK-95735-2:INVITE:server)
Initial state: Proceeding
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-95735-2:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
üéØ FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5061
üîç INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5061
[2m2025-06-10T22:09:54.527026Z[0m [32m INFO[0m Created early dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440 from INVITE request
üîç INVITE HANDLER: Created early dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440
üîç INVITE HANDLER: Associated transaction Key(z9hG4bK-95735-2:INVITE:server) with dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440
üîç INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440
üîç INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440
[2m2025-06-10T22:09:54.527320Z[0m [32m INFO[0m Initial INVITE processed, created dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440
[2m2025-06-10T22:09:54.528120Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:54.528330Z[0m [32m INFO[0m Started RTP session with SSRC=eec871c1
[2m2025-06-10T22:09:54.528388Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_abe83c29-8020-4adf-a12d-9c8e1139f824 (port: 29809)
[2m2025-06-10T22:09:54.528427Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_abe83c29-8020-4adf-a12d-9c8e1139f824 for SIP session: sess_abe83c29-8020-4adf-a12d-9c8e1139f824 with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:54.528445Z[0m [32m INFO[0m ‚úÖ Participant from media session active on RTP port Some(29809) via session-core
[2m2025-06-10T22:09:54.528459Z[0m [32m INFO[0m üéµ Participant from media session established via session-core
[2m2025-06-10T22:09:54.528483Z[0m [32m INFO[0m ‚úÖ Participant from joined conference to (1/5) - Audio participants: 1
[2m2025-06-10T22:09:54.528638Z[0m [32m INFO[0m Answering call dd617143-619d-4145-ae42-33fd020f2b31
[2m2025-06-10T22:09:54.528844Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:54.528945Z[0m [32m INFO[0m Dialog dd617143-619d-4145-ae42-33fd020f2b31 local tag set to match response: tag-70affc5fba204c37af402a125ff7dff4
[2m2025-06-10T22:09:54.528957Z[0m [32m INFO[0m Dialog dd617143-619d-4145-ae42-33fd020f2b31 transitioned to Confirmed state
[2m2025-06-10T22:09:54.529003Z[0m [32m INFO[0m Updated dialog lookup for confirmed dialog dd617143-619d-4145-ae42-33fd020f2b31
[2m2025-06-10T22:09:54.529021Z[0m [32m INFO[0m Successfully answered call dd617143-619d-4145-ae42-33fd020f2b31
[2m2025-06-10T22:09:54.529036Z[0m [32m INFO[0m Successfully answered incoming call for session sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(1c6b9205-df7d-437e-9177-ec8be4f8a440), transaction_id: z9hG4bK-95735-2:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5061), params: [Branch("z9hG4bK-95735-2")] }])), From(From(Address { display_name: Some("Participant 2"), uri: Uri { scheme: Sip, user: Some("participant2"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [Tag("95735SIPpTag2")] })), To(To(Address { display_name: Some("Conference Room"), uri: Uri { scheme: Sip, user: Some("testroom"), password: None, host: Address(127.0.0.1), port: Some(5064), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("2-95735@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("participant2"), password: None, host: Address(127.0.0.1), port: Some(5061), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("3-Party Conference Test - Participant 2")), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(226))], body: b"v=0\r\no=participant2 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Conference Client 2\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 7002 RTP/AVP 0 8\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=sendrecv\r\na=participant-id:participant2\r\n" }, source: 127.0.0.1:5061 }
[2m2025-06-10T22:09:54.529148Z[0m [32m INFO[0m Incoming call from dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-10T22:09:54.529202Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Conference INVITE from sip:from@127.0.0.1 to sip:to@local (REAL AUDIO)
[2m2025-06-10T22:09:54.529224Z[0m [32m INFO[0m üé™ [SIPp-Conference-Server-SessionCore] Call ID: sess_3d83a9b4-589c-46d2-869d-de97a7e9283f
Received command: CancelTimer100 for transaction Key(z9hG4bK-95735-1:INVITE:server)
[2m2025-06-10T22:09:54.529244Z[0m [32m INFO[0m üé™ Participant from wants to join conference to (audio mixing: true)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-95735-1:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
=== PARSING SIP MESSAGE ===
Input length: State successfully changed to: Terminated
390 bytes
Input as string: "ACK sip:testroom@127.0.0.1:5064 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5061;branch=z9hG4bK-95735-1-ack\r\nFrom: Participant 1 <sip:participant1@127.0.0.1:5061>;tag=95735SIPpTag1[2m2025-06-10T22:09:54.529270Z[0m [32m INFO[0m üé™ Adding participant from to conference to with session-core MediaManager
\r\n[2m2025-06-10T22:09:54.529394Z[0m [32m INFO[0m üéµ Setting up real media session for participant from via session-core
To: Conference Room <sip:testroom@127.0.0.1:5064>;tag=tag-70affc5fba204c37af402a125ff7dff4\r\nCall-ID: 1-95735@127.0.0.1\r\nCSeq: 1 ACK\rSent StateChanged event result: Success
\nContact: <sip:participant1@127.0.0.1:5061>\r\nMax-Forwards: 70\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, Transaction loop ending for Key(z9hG4bK-95735-1:INVITE:server). Final state: Terminated
43, 4b, 20[2m2025-06-10T22:09:54.529425Z[0m [32m INFO[0m Starting media session for dialog: media-sess_a6abb72f-bf7f-4251-a69a-572a2c82f16f
, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 35, 37, 33, 35, 2d, 31, 2d, 61, 63, 6b, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 50, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 20, 31, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 3b, 74, 61, 67, 3d, 39, 35, 37, 33, 35, 53, 49, 50, 70, 54, 61, 67, 31, 0d, 0a, 54, 6f, 3a, 20, 43, 6f, 6e, 66, 65, 72, 65, 6e, 63, 65, 20, 52, 6f, 6f, 6d, 20, 3c, 73, 69, 70, 3a, 74, 65, 73, 74, 72, 6f, 6f, 6d, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 34, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 37, 30, 61, 66, 66, 63, 35, 66, 62, 61, 32, 30, 34, 63, 33, 37, 61, 66, 34, 30, 32, 61, 31, 32, 35, 66, 66, 37, 64, 66, 66, 34, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 39, 35, 37, 33, 35, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 41, 43, 4b, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 70, 61, 72, 74, 69, 63, 69, 70, 61, 6e, 74, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 31, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 55, 48, 97, 102, 102, 99, 53, 102, 98, 97, 50, 48, 52, 99, 51, 55, 97, 102, 52, 48, 50, 97, 49, 50, 53, 102, 102, 55, 100, 102, 102, 52]
Successfully parsed tag: tag-70affc5fba204c37af402a125ff7dff4
=== PARSE SUCCESS ===
Successfully parsed message
=====================
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Participant 1"), "params": Array([Object({"Tag": String("95735SIPpTag1")})]), "uri": Object({"headers": Object({}), "scheme": String("Sip"), "password": Null, "host": Object({"Address": String("127.0.0.1")}), "user": String("participant1"), "parameters": Array([]), "port": Number(5061.0), "raw_uri": Null})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("95735SIPpTag1")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("95735SIPpTag1")})
Final value for path 'headers.From.params[0].Tag': String("95735SIPpTag1")
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([Object({"Tag": String("95735SIPpTag1")})]), "uri": Object({"port": Number(5061.0), "raw_uri": Null, "parameters": Array([]), "scheme": String("Sip"), "host": Object({"Address": String("127.0.0.1")}), "password": Null, "user": String("participant1"), "headers": Object({})}), "display_name": String("Participant 1")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("95735SIPpTag1")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("95735SIPpTag1")})
Final value for path 'headers.From.params[0].Tag': String("95735SIPpTag1")
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Conference Room"), "params": Array([]), "uri": Object({"password": Null, "scheme": String("Sip"), "parameters": Array([]), "host": Object({"Address": String("127.0.0.1")}), "user": String("testroom"), "port": Number(5064.0), "headers": Object({}), "raw_uri": Null})})
Processing segment Index(0) at index 3, current value: Array([])
Index 0 out of bounds for array of length 0
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"display_name": String("Conference Room"), "params": Array([Object({"Tag": String("tag-70affc5fba204c37af402a125ff7dff4")})]), "uri": Object({"scheme": String("Sip"), "headers": Object({}), "raw_uri": Null, "port": Number(5064.0), "host": Object({"Address": String("127.0.0.1")}), "parameters": Array([]), "user": String("testroom"), "password": Null})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("tag-70affc5fba204c37af402a125ff7dff4")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("tag-70affc5fba204c37af402a125ff7dff4")})
Final value for path 'headers.To.params[0].Tag': String("tag-70affc5fba204c37af402a125ff7dff4")
[2m2025-06-10T22:09:54.533578Z[0m [32m INFO[0m ‚úÖ RFC 3261: ACK received for transaction Key(z9hG4bK-95735-1:INVITE:server) in dialog dd617143-619d-4145-ae42-33fd020f2b31 - time to start media (UAS side)
Received command: Timer("100") for transaction Key(z9hG4bK-95735-2:INVITE:server)
[2m2025-06-10T22:09:54.727671Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:55.532385Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-10T22:09:55.532665Z[0m [32m INFO[0m Started RTP session with SSRC=9dd5391d
[2m2025-06-10T22:09:55.532812Z[0m [32m INFO[0m ‚úÖ Created media session with REAL RTP session: media-sess_a6abb72f-bf7f-4251-a69a-572a2c82f16f (port: 24006)
[2m2025-06-10T22:09:55.532925Z[0m [32m INFO[0m ‚úÖ Created media session: media-sess_a6abb72f-bf7f-4251-a69a-572a2c82f16f for SIP session: sess_a6abb72f-bf7f-4251-a69a-572a2c82f16f with real MediaSessionController + zero-copy enabled
[2m2025-06-10T22:09:55.532987Z[0m [32m INFO[0m ‚úÖ Participant from media session active on RTP port Some(24006) via session-core
[2m2025-06-10T22:09:55.533028Z[0m [32m INFO[0m üéµ Participant from media session established via session-core
[2m2025-06-10T22:09:55.533078Z[0m [32m INFO[0m ‚úÖ Participant from joined conference to (1/5) - Audio participants: 1
[2m2025-06-10T22:09:55.533355Z[0m [32m INFO[0m Answering call 1c6b9205-df7d-437e-9177-ec8be4f8a440
[2m2025-06-10T22:09:55.533836Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5061
[2m2025-06-10T22:09:55.534166Z[0m [32m INFO[0m Dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440 local tag set to match response: tag-9a1d56fd4d754b3b86566150ce5ca9f4
[2m2025-06-10T22:09:55.534231Z[0m [32m INFO[0m Dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440 transitioned to Confirmed state
[2m2025-06-10T22:09:55.534304Z[0m [32m INFO[0m Updated dialog lookup for confirmed dialog 1c6b9205-df7d-437e-9177-ec8be4f8a440
[2m2025-06-10T22:09:55.534368Z[0m [32m INFO[0m Successfully answered call 1c6b9205-df7d-437e-9177-ec8be4f8a440
[2m2025-06-10T22:09:55.534415Z[0m [32m INFO[0m Successfully answered incoming call for session sess_3d83a9b4-589c-46d2-869d-de97a7e9283f
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(dd617143-619d-4145-ae42-33fd020f2b31), session_answer: "v=0\r\no=conference 123456 654321 IN IP4 127.0.0.1\r\ns=Conference Room to\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\na=tool:rvoip-conference-server\r\na=participants:1\r\na=audio-mixing:true\r\nm=audio 29809 RTP/AVP 0 8\r\na=sendrecv\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\n" }
[2m2025-06-10T22:09:55.534539Z[0m [32m INFO[0m Call answered for session sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0: dd617143-619d-4145-ae42-33fd020f2b31 (awaiting ACK per RFC 3261)
[2m2025-06-10T22:09:55.534608Z[0m [32m INFO[0m üìû Call answered for session sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0 - keeping in Initiating state until media ready
[2m2025-06-10T22:09:55.534642Z[0m [32m INFO[0m üö´ RFC 3261: NOT creating media session yet - waiting for ACK
Received command: CancelTimer100 for transaction Key(z9hG4bK-95735-2:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-95735-2:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: AckReceived { dialog_id: DialogId(dd617143-619d-4145-ae42-33fd020f2b31), transaction_id: z9hG4bK-95735-1:INVITE:server, negotiated_sdp: None }
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
[2m2025-06-10T22:09:55.534854Z[0m [32m INFO[0m ‚úÖ RFC 3261: ACK RECEIVED for session sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0 - creating media session (UAS side)
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK-95735-2:INVITE:server). Final state: Terminated
üì® EVENT LOOP: Received session coordination event in background task
üé™ SESSION COORDINATION: Received event: CallAnswered { dialog_id: DialogId(1c6b9205-df7d-437e-9177-ec8be4f8a440), session_answer: "v=0\r\no=conference 123456 654321 IN IP4 127.0.0.1\r\ns=Conference Room to\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\na=tool:rvoip-conference-server\r\na=participants:1\r\na=audio-mixing:true\r\nm=audio 24006 RTP/AVP 0 8\r\na=sendrecv\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\n" }
[2m2025-06-10T22:09:55.535086Z[0m [32m INFO[0m Call answered for session sess_3d83a9b4-589c-46d2-869d-de97a7e9283f: 1c6b9205-df7d-437e-9177-ec8be4f8a440 (awaiting ACK per RFC 3261)
[2m2025-06-10T22:09:55.535133Z[0m [32m INFO[0m üìû Call answered for session sess_3d83a9b4-589c-46d2-869d-de97a7e9283f - keeping in Initiating state until media ready
[2m2025-06-10T22:09:55.535167Z[0m [32m INFO[0m üö´ RFC 3261: NOT creating media session yet - waiting for ACK
[2m2025-06-10T22:09:55.535236Z[0m [32m INFO[0m üìÑ Stored remote SDP answer for session sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0
[2m2025-06-10T22:09:55.535328Z[0m [32m INFO[0m üöÄ RFC 3261: Creating media session after ACK for sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0: rfc_compliant_media_creation_uas
[2m2025-06-10T22:09:55.535380Z[0m [32m INFO[0m Starting media session for dialog: media-sess_d9e02b1b-1f42-437c-bf9b-6f9ae48a2cf0
[2m2025-06-10T22:09:55.799809Z[0m [32m INFO[0m üì° Received SIGTERM signal
[2m2025-06-10T22:09:55.799833Z[0m [32m INFO[0m üõë SIP Conference Server shutting down
[2m2025-06-10T22:09:55.799842Z[0m [32m INFO[0m üìä Final Conference Statistics (REAL AUDIO):
[2m2025-06-10T22:09:55.799847Z[0m [32m INFO[0m   ‚è±Ô∏è  Uptime: 10.80 seconds
[2m2025-06-10T22:09:55.799853Z[0m [32m INFO[0m   üé™ Total conference participants: 5
[2m2025-06-10T22:09:55.799857Z[0m [32m INFO[0m   ‚úÖ Successful participants: 0
[2m2025-06-10T22:09:55.799861Z[0m [32m INFO[0m   ‚ùå Failed participants: 0
[2m2025-06-10T22:09:55.799865Z[0m [32m INFO[0m   üîÑ Active participants: 5
[2m2025-06-10T22:09:55.799869Z[0m [32m INFO[0m   üéµ Audio mixing enabled: true
[2m2025-06-10T22:09:55.799874Z[0m [32m INFO[0m   üìà Success rate: 0.0%
[2m2025-06-10T22:09:55.799878Z[0m [32m INFO[0m   üöÄ Average participant rate: 0.46 participants/second
[2m2025-06-10T22:09:55.799883Z[0m [32m INFO[0m üõë SIP Conference Server shutdown complete
