warning: method `handle_auto_options` is never used
   --> crates/dialog-core/src/manager/unified.rs:563:14
    |
197 | impl UnifiedDialogManager {
    | ------------------------- method in this implementation
...
563 |     async fn handle_auto_options(&self, request: Request, source: SocketAddr) -> ApiResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: method `extract_body_string` is never used
   --> crates/dialog-core/src/protocol/invite_handler.rs:177:8
    |
71  | impl DialogManager {
    | ------------------ method in this implementation
...
177 |     fn extract_body_string(&self, request: &Request) -> String {
    |        ^^^^^^^^^^^^^^^^^^^

warning: `rvoip-dialog-core` (lib) generated 2 warnings
warning: unused import: `StaticEvent`
  --> crates/infra-common/src/events/static_path.rs:14:60
   |
14 | use crate::events::types::{Event, EventResult, EventError, StaticEvent, EventFilter};
   |                                                            ^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `EventError` and `StaticEvent`
  --> crates/infra-common/src/events/system.rs:16:48
   |
16 | use crate::events::types::{Event, EventResult, EventError, EventFilter, StaticEvent};
   |                                                ^^^^^^^^^^               ^^^^^^^^^^^

warning: unused imports: `EventSystemBuilder` and `ImplementationType`
  --> crates/infra-common/src/events/system.rs:21:30
   |
21 | use crate::events::builder::{ImplementationType, EventSystemBuilder};
   |                              ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^

warning: variable does not need to be mutable
  --> crates/infra-common/src/lifecycle/manager.rs:87:13
   |
87 |         let mut components = self.components.write().unwrap();
   |             ----^^^^^^^^^^
   |             |
   |             help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:107:13
    |
107 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:127:13
    |
127 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:148:13
    |
148 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:63:20
   |
63 |             config.merge(File::from(base_path.clone()))
   |                    ^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:69:20
   |
69 |             config.merge(File::from(env_path))
   |                    ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:75:16
   |
75 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:97:16
   |
97 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
   --> crates/infra-common/src/config/loader.rs:115:20
    |
115 |             config.merge(File::from(p.clone()))
    |                    ^^^^^

warning: methods `type_name` and `clone_sender` are never used
  --> crates/infra-common/src/events/registry.rs:37:8
   |
35 | trait AnyBroadcastSender: Send + Sync + 'static {
   |       ------------------ methods in this trait
36 |     fn as_any(&self) -> &dyn Any;
37 |     fn type_name(&self) -> &str;
   |        ^^^^^^^^^
38 |     fn clone_sender(&self) -> Box<dyn AnyBroadcastSender>;
   |        ^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `id`, `event_type`, and `priority` are never read
  --> crates/infra-common/src/events/subscriber.rs:11:16
   |
10 | pub struct SubscriberHandle {
   |            ---------------- fields in this struct
11 |     pub(crate) id: u64,
   |                ^^
12 |     pub(crate) event_type: EventType,
   |                ^^^^^^^^^^
13 |     pub(crate) priority: EventPriority,
   |                ^^^^^^^^
   |
   = note: `SubscriberHandle` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `infra-common` (lib) generated 14 warnings (run `cargo fix --lib -p infra-common` to apply 7 suggestions)
warning: unused import: `SessionManagerConfig`
  --> crates/client-core/src/client/manager.rs:11:5
   |
11 |     SessionManagerConfig,
   |     ^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `MediaInfo as SessionMediaInfo`, `QualityMetrics`, `QualityThresholds`, `SessionCoordinator`, and `SessionId`
  --> crates/client-core/src/client/media.rs:15:5
   |
15 |     SessionCoordinator,
   |     ^^^^^^^^^^^^^^^^^^
16 |     SessionId,
   |     ^^^^^^^^^
17 |     MediaInfo as SessionMediaInfo,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
21 |     QualityMetrics,
   |     ^^^^^^^^^^^^^^
22 |     QualityThresholds,
   |     ^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> crates/client-core/src/client/media_builder.rs:5:5
  |
5 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a module
   --> crates/client-core/src/client/mod.rs:238:1
    |
238 | pub mod config;
    | ^^^^^^^^^^^^^^
    |
note: the lint level is defined here
   --> crates/client-core/src/lib.rs:130:9
    |
130 | #![warn(missing_docs)]
    |         ^^^^^^^^^^^^

warning: missing documentation for a module
   --> crates/client-core/src/client/mod.rs:239:1
    |
239 | pub mod controls;
    | ^^^^^^^^^^^^^^^^

warning: missing documentation for a module
   --> crates/client-core/src/client/mod.rs:241:1
    |
241 | pub mod manager;
    | ^^^^^^^^^^^^^^^

warning: missing documentation for a type alias
   --> crates/client-core/src/client/mod.rs:289:1
    |
289 | pub type Client = ClientManager;
    | ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:13:5
   |
13 |     pub echo_cancellation: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:14:5
   |
14 |     pub noise_suppression: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:15:5
   |
15 |     pub auto_gain_control: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:22:5
   |
22 |     pub srtp_profiles: Vec<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:26:5
   |
26 |     pub rtp_port_end: u16,
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:30:5
   |
30 |     pub client_event_handler: Arc<RwLock<Option<Arc<dyn ClientEventHandler>>>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:31:5
   |
31 |     pub call_mapping: Arc<DashMap<SessionId, CallId>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:32:5
   |
32 |     pub session_mapping: Arc<DashMap<CallId, SessionId>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:33:5
   |
33 |     pub call_info: Arc<DashMap<CallId, CallInfo>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:34:5
   |
34 |     pub incoming_calls: Arc<DashMap<CallId, IncomingCall>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:35:5
   |
35 |     pub event_tx: Option<tokio::sync::broadcast::Sender<crate::events::ClientEvent>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for an associated function
  --> crates/client-core/src/client/events.rs:51:5
   |
51 | /     pub fn new(
52 | |         call_mapping: Arc<DashMap<SessionId, CallId>>,
53 | |         session_mapping: Arc<DashMap<CallId, SessionId>>,
54 | |         call_info: Arc<DashMap<CallId, CallInfo>>,
55 | |         incoming_calls: Arc<DashMap<CallId, IncomingCall>>,
56 | |     ) -> Self {
   | |_____________^

warning: missing documentation for a method
  --> crates/client-core/src/client/events.rs:67:5
   |
67 |     pub fn with_event_tx(mut self, event_tx: tokio::sync::broadcast::Sender<crate::events::ClientEvent>) -> Sel...
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a method
  --> crates/client-core/src/client/events.rs:72:5
   |
72 |     pub async fn set_event_handler(&self, handler: Arc<dyn ClientEventHandler>) {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a method
   --> crates/client-core/src/client/events.rs:114:5
    |
114 |     pub fn extract_display_name_from_header(&self, header: &str) -> Option<String> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a method
   --> crates/client-core/src/client/media.rs:205:5
    |
205 |     pub async fn get_available_codecs(&self) -> Vec<AudioCodecInfo> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:14:5
   |
14 |     pub is_running: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:15:5
   |
15 |     pub local_sip_addr: std::net::SocketAddr,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:16:5
   |
16 |     pub local_media_addr: std::net::SocketAddr,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:17:5
   |
17 |     pub total_calls: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:18:5
   |
18 |     pub connected_calls: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:19:5
   |
19 |     pub total_registrations: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:20:5
   |
20 |     pub active_registrations: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:28:5
   |
28 |     pub call_id: CallId,
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:29:5
   |
29 |     pub local_sdp: Option<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:30:5
   |
30 |     pub remote_sdp: Option<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:31:5
   |
31 |     pub local_rtp_port: Option<u16>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:32:5
   |
32 |     pub remote_rtp_port: Option<u16>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:33:5
   |
33 |     pub codec: Option<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:34:5
   |
34 |     pub is_muted: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:35:5
   |
35 |     pub is_on_hold: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:36:5
   |
36 |     pub audio_direction: AudioDirection,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:37:5
   |
37 |     pub quality_metrics: Option<AudioQualityMetrics>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:43:5
   |
43 |     pub name: String,
   |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:44:5
   |
44 |     pub payload_type: u8,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:45:5
   |
45 |     pub clock_rate: u32,
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:46:5
   |
46 |     pub channels: u8,
   |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:47:5
   |
47 |     pub description: String,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:48:5
   |
48 |     pub quality_rating: u8, // 1-5 scale
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:54:5
   |
54 |     SendReceive,
   |     ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:55:5
   |
55 |     SendOnly,
   |     ^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:56:5
   |
56 |     ReceiveOnly,
   |     ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:57:5
   |
57 |     Inactive,
   |     ^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:63:5
   |
63 |     pub mos_score: Option<f32>,      // Mean Opinion Score (1.0-5.0)
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:64:5
   |
64 |     pub jitter_ms: Option<u32>,      // Jitter in milliseconds
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:65:5
   |
65 |     pub packet_loss_percent: Option<f32>, // Packet loss percentage
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:66:5
   |
66 |     pub round_trip_time_ms: Option<u32>,  // RTT in milliseconds
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:67:5
   |
67 |     pub bitrate_kbps: Option<u32>,   // Current bitrate in kbps
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:73:5
   |
73 |     pub supported_codecs: Vec<AudioCodecInfo>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:74:5
   |
74 |     pub can_hold: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:75:5
   |
75 |     pub can_mute_microphone: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:76:5
   |
76 |     pub can_mute_speaker: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:77:5
   |
77 |     pub can_send_dtmf: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:78:5
   |
78 |     pub can_transfer: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:79:5
   |
79 |     pub supports_sdp_offer_answer: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:80:5
   |
80 |     pub supports_rtp: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:81:5
   |
81 |     pub supports_rtcp: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:82:5
   |
82 |     pub max_concurrent_calls: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:83:5
   |
83 |     pub supported_media_types: Vec<String>, // "audio", "video"
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:89:5
   |
89 |     pub can_hold: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:90:5
   |
90 |     pub can_resume: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:91:5
   |
91 |     pub can_transfer: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:92:5
   |
92 |     pub can_send_dtmf: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:93:5
   |
93 |     pub can_mute: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:94:5
   |
94 |     pub can_hangup: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:113:5
    |
113 |     pub call_id: CallId,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:114:5
    |
114 |     pub session_id: rvoip_session_core::api::types::SessionId,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:115:5
    |
115 |     pub media_session_id: String,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:116:5
    |
116 |     pub local_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:117:5
    |
117 |     pub remote_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:118:5
    |
118 |     pub codec: Option<String>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:119:5
    |
119 |     pub media_direction: AudioDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:120:5
    |
120 |     pub quality_metrics: Option<AudioQualityMetrics>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:121:5
    |
121 |     pub is_active: bool,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:122:5
    |
122 |     pub created_at: DateTime<Utc>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:128:5
    |
128 |     pub call_id: CallId,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:129:5
    |
129 |     pub negotiated_codec: Option<String>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:130:5
    |
130 |     pub local_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:131:5
    |
131 |     pub remote_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:132:5
    |
132 |     pub audio_direction: AudioDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:133:5
    |
133 |     pub local_sdp: String,
    |     ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:134:5
    |
134 |     pub remote_sdp: String,
    |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:135:5
    |
135 |     pub negotiated_at: DateTime<Utc>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:136:5
    |
136 |     pub supports_dtmf: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:137:5
    |
137 |     pub supports_hold: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:138:5
    |
138 |     pub bandwidth_kbps: Option<u32>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:139:5
    |
139 |     pub encryption_enabled: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:145:5
    |
145 |     pub basic_capabilities: MediaCapabilities,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:146:5
    |
146 |     pub supports_sdp_offer_answer: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:147:5
    |
147 |     pub supports_media_session_lifecycle: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:148:5
    |
148 |     pub supports_sdp_renegotiation: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:149:5
    |
149 |     pub supports_early_media: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:150:5
    |
150 |     pub supports_media_session_updates: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:151:5
    |
151 |     pub supports_codec_negotiation: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:152:5
    |
152 |     pub supports_bandwidth_management: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:153:5
    |
153 |     pub supports_encryption: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:154:5
    |
154 |     pub supported_sdp_version: String,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:155:5
    |
155 |     pub max_media_sessions: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:156:5
    |
156 |     pub preferred_rtp_port_range: (u16, u16),
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:157:5
    |
157 |     pub supported_transport_protocols: Vec<String>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/call.rs:106:5
    |
106 |     pub total_active_calls: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/call.rs:107:5
    |
107 |     pub connected_calls: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/call.rs:108:5
    |
108 |     pub incoming_pending_calls: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/registration.rs:138:5
    |
138 |     pub total_registrations: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/registration.rs:139:5
    |
139 |     pub active_registrations: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/registration.rs:140:5
    |
140 |     pub failed_registrations: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:75:5
   |
75 |     MicrophoneStateChanged { muted: bool },
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:75:30
   |
75 |     MicrophoneStateChanged { muted: bool },
   |                              ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:76:5
   |
76 |     SpeakerStateChanged { muted: bool },
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:76:27
   |
76 |     SpeakerStateChanged { muted: bool },
   |                           ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:77:5
   |
77 |     AudioStarted,
   |     ^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:78:5
   |
78 |     AudioStopped,
   |     ^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:79:5
   |
79 |     HoldStateChanged { on_hold: bool },
   |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:79:24
   |
79 |     HoldStateChanged { on_hold: bool },
   |                        ^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:80:5
   |
80 |     DtmfSent { digits: String },
   |     ^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:80:16
   |
80 |     DtmfSent { digits: String },
   |                ^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:81:5
   |
81 |     TransferInitiated { target: String, transfer_type: String },
   |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:81:25
   |
81 |     TransferInitiated { target: String, transfer_type: String },
   |                         ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:81:41
   |
81 |     TransferInitiated { target: String, transfer_type: String },
   |                                         ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:84:5
   |
84 |     SdpOfferGenerated { sdp_size: usize },
   |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:84:25
   |
84 |     SdpOfferGenerated { sdp_size: usize },
   |                         ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:85:5
   |
85 |     SdpAnswerProcessed { sdp_size: usize },
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:85:26
   |
85 |     SdpAnswerProcessed { sdp_size: usize },
   |                          ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:86:5
   |
86 |     MediaSessionStarted { media_session_id: String },
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:86:27
   |
86 |     MediaSessionStarted { media_session_id: String },
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:87:5
   |
87 |     MediaSessionStopped,
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:88:5
   |
88 |     MediaSessionUpdated { sdp_size: usize },
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:88:27
   |
88 |     MediaSessionUpdated { sdp_size: usize },
   |                           ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:91:5
   |
91 |     QualityChanged { mos_score_x100: u32 }, // MOS score * 100 (e.g., 425 = 4.25)
   |     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:91:22
   |
91 |     QualityChanged { mos_score_x100: u32 }, // MOS score * 100 (e.g., 425 = 4.25)
   |                      ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:92:5
   |
92 |     PacketLoss { percentage_x100: u32 }, // Percentage * 100 (e.g., 150 = 1.5%)
   |     ^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:92:18
   |
92 |     PacketLoss { percentage_x100: u32 }, // Percentage * 100 (e.g., 150 = 1.5%)
   |                  ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:93:5
   |
93 |     JitterChanged { jitter_ms: u32 },
   |     ^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:93:21
   |
93 |     JitterChanged { jitter_ms: u32 },
   |                     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:142:9
    |
142 |         info: IncomingCallInfo,
    |         ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:143:9
    |
143 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:154:9
    |
154 |         info: MediaEventInfo,
    |         ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:155:9
    |
155 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:159:9
    |
159 |         info: RegistrationStatusInfo,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:160:9
    |
160 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:164:9
    |
164 |         error: crate::ClientError,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:165:9
    |
165 |         call_id: Option<CallId>,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:166:9
    |
166 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:170:9
    |
170 |         connected: bool,
    |         ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:171:9
    |
171 |         reason: Option<String>,
    |         ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:172:9
    |
172 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:263:26
    |
263 |     RegistrationFailed { reason: String },
    |                          ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:266:5
    |
266 |     NotRegistered,
    |     ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:269:5
    |
269 |     RegistrationExpired,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:272:5
    |
272 |     AuthenticationFailed { reason: String },
    |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:272:28
    |
272 |     AuthenticationFailed { reason: String },
    |                            ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:276:20
    |
276 |     CallNotFound { call_id: Uuid },
    |                    ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:279:5
    |
279 |     CallAlreadyExists { call_id: Uuid },
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:279:25
    |
279 |     CallAlreadyExists { call_id: Uuid },
    |                         ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:282:5
    |
282 |     InvalidCallState { 
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:283:9
    |
283 |         call_id: Uuid, 
    |         ^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:284:9
    |
284 |         current_state: crate::call::CallState 
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:288:5
    |
288 |     InvalidCallStateGeneric { expected: String, actual: String },
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:288:31
    |
288 |     InvalidCallStateGeneric { expected: String, actual: String },
    |                               ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:288:49
    |
288 |     InvalidCallStateGeneric { expected: String, actual: String },
    |                                                 ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:291:5
    |
291 |     CallSetupFailed { reason: String },
    |     ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:291:23
    |
291 |     CallSetupFailed { reason: String },
    |                       ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:294:5
    |
294 |     CallTerminated { reason: String },
    |     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:294:22
    |
294 |     CallTerminated { reason: String },
    |                      ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:298:30
    |
298 |     MediaNegotiationFailed { reason: String },
    |                              ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:301:5
    |
301 |     MediaError { details: String },
    |     ^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:301:18
    |
301 |     MediaError { details: String },
    |                  ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:304:5
    |
304 |     NoCompatibleCodecs,
    |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:307:5
    |
307 |     AudioDeviceError { reason: String },
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:307:24
    |
307 |     AudioDeviceError { reason: String },
    |                        ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:311:20
    |
311 |     NetworkError { reason: String },
    |                    ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:314:5
    |
314 |     ConnectionTimeout,
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:317:5
    |
317 |     ServerUnreachable { server: String },
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:317:25
    |
317 |     ServerUnreachable { server: String },
    |                         ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:321:21
    |
321 |     ProtocolError { reason: String },
    |                     ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:324:5
    |
324 |     InvalidSipMessage { reason: String },
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:324:25
    |
324 |     InvalidSipMessage { reason: String },
    |                         ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:327:5
    |
327 |     ProtocolVersionMismatch { expected: String, actual: String },
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:327:31
    |
327 |     ProtocolVersionMismatch { expected: String, actual: String },
    |                               ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:327:49
    |
327 |     ProtocolVersionMismatch { expected: String, actual: String },
    |                                                 ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:331:28
    |
331 |     InvalidConfiguration { field: String, reason: String },
    |                            ^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:331:43
    |
331 |     InvalidConfiguration { field: String, reason: String },
    |                                           ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:334:5
    |
334 |     MissingConfiguration { field: String },
    |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:334:28
    |
334 |     MissingConfiguration { field: String },
    |                            ^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:338:23
    |
338 |     TransportFailed { reason: String },
    |                       ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:341:5
    |
341 |     TransportNotAvailable { transport_type: String },
    |     ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:341:29
    |
341 |     TransportNotAvailable { transport_type: String },
    |                             ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:345:27
    |
345 |     SessionManagerError { reason: String },
    |                           ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:348:5
    |
348 |     TooManySessions { limit: usize },
    |     ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:348:23
    |
348 |     TooManySessions { limit: usize },
    |                       ^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:352:21
    |
352 |     InternalError { message: String },
    |                     ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:355:5
    |
355 |     OperationTimeout { duration_ms: u64 },
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:355:24
    |
355 |     OperationTimeout { duration_ms: u64 },
    |                        ^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:358:5
    |
358 |     NotImplemented { feature: String, reason: String },
    |     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:358:22
    |
358 |     NotImplemented { feature: String, reason: String },
    |                      ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:358:39
    |
358 |     NotImplemented { feature: String, reason: String },
    |                                       ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:361:5
    |
361 |     PermissionDenied { operation: String },
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:361:24
    |
361 |     PermissionDenied { operation: String },
    |                        ^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:364:5
    |
364 |     ResourceUnavailable { resource: String },
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:364:27
    |
364 |     ResourceUnavailable { resource: String },
    |                           ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:368:24
    |
368 |     UnsupportedCodec { codec: String },
    |                        ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:371:5
    |
371 |     CodecError { reason: String },
    |     ^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:371:18
    |
371 |     CodecError { reason: String },
    |                  ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:375:28
    |
375 |     ExternalServiceError { service: String, reason: String },
    |                            ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:375:45
    |
375 |     ExternalServiceError { service: String, reason: String },
    |                                             ^^^^^^^^^^^^^^

warning: `rvoip-client-core` (lib) generated 212 warnings (run `cargo fix --lib -p rvoip-client-core` to apply 3 suggestions)
    Finished `release` profile [optimized] target(s) in 0.18s
     Running `/Users/jonathan/Documents/Work/Rudeless Ventures/rvoip/rvoip/target/release/examples/e2e_test_server`
[2m2025-06-24T05:44:55.789305Z[0m [32m INFO[0m 🚀 Starting Basic Call Center Server
[2m2025-06-24T05:44:55.789387Z[0m [32m INFO[0m 🗄️ Creating in-memory Limbo database
[2m2025-06-24T05:44:55.791059Z[0m [32m INFO[0m ✅ In-memory database created successfully
[2m2025-06-24T05:44:55.791070Z[0m [32m INFO[0m ✅ Database initialized
[2m2025-06-24T05:44:55.791075Z[0m [32m INFO[0m 🚀 Creating CallCenterEngine with session-core CallHandler integration
[2m2025-06-24T05:44:55.791095Z[0m [32m INFO[0m 🚀 Creating CallCenterEngine with session-core CallHandler integration
[2m2025-06-24T05:44:55.791160Z[0m [32m INFO[0m Creating UnifiedDialogApi with automatic transport setup in "Hybrid" mode
[2m2025-06-24T05:44:55.791330Z[0m [32m INFO[0m SIP UDP transport bound to 0.0.0.0:5060
[2m2025-06-24T05:44:55.791361Z[0m [32m INFO[0m Added UDP transport bound to 0.0.0.0:5060
[2m2025-06-24T05:44:55.791442Z[0m [32m INFO[0m Creating UnifiedDialogApi with global events in "Hybrid" mode
[2m2025-06-24T05:44:55.791448Z[0m [32m INFO[0m Creating UnifiedDialogManager with global events in "Hybrid" mode at 0.0.0.0:5060
[2m2025-06-24T05:44:55.791453Z[0m [32m INFO[0m Creating new DialogManager with global transaction events and local address 0.0.0.0:5060
[2m2025-06-24T05:44:55.791516Z[0m [32m INFO[0m 🔄 Starting global transaction event processor for dialog-core
[2m2025-06-24T05:44:55.791615Z[0m [32m INFO[0m Session event processor started
🔗 SETUP: Setting up session coordination with dialog-core
✅ SETUP: Session coordination setup complete
[2m2025-06-24T05:44:55.791626Z[0m [32m INFO[0m SessionCoordinator initialized on port 5060
[2m2025-06-24T05:44:55.791629Z[0m [32m INFO[0m Starting UnifiedDialogApi
[2m2025-06-24T05:44:55.791632Z[0m [32m INFO[0m Starting UnifiedDialogManager in "Hybrid" mode
[2m2025-06-24T05:44:55.791636Z[0m [32m INFO[0m DialogManager starting
[2m2025-06-24T05:44:55.791639Z[0m [32m INFO[0m DialogManager started successfully
🎬 SPAWN: Starting session coordination event loop
[2m2025-06-24T05:44:55.791658Z[0m [32m INFO[0m Starting main coordinator event loop
📡 EVENT LOOP: Session coordination event loop started
[2m2025-06-24T05:44:55.791642Z[0m [32m INFO[0m Hybrid mode active - from_uri: Some("sip:user@localhost"), domain: None, auto_auth: false, auto_options: false
[2m2025-06-24T05:44:55.791697Z[0m [32m INFO[0m UnifiedDialogManager started successfully
[2m2025-06-24T05:44:55.791703Z[0m [32m INFO[0m Cleanup manager started
[2m2025-06-24T05:44:55.791726Z[0m [32m INFO[0m SessionCoordinator started
[2m2025-06-24T05:44:55.791729Z[0m [32m INFO[0m ✅ SessionCoordinator created with CallCenterCallHandler
[2m2025-06-24T05:44:55.791751Z[0m [32m INFO[0m ✅ Call center engine initialized with session-core integration
[2m2025-06-24T05:44:55.791755Z[0m [32m INFO[0m ✅ Call center engine initialized with session-core integration
[2m2025-06-24T05:44:55.791757Z[0m [32m INFO[0m ✅ Call center engine started on 0.0.0.0:5060
[2m2025-06-24T05:44:55.791761Z[0m [32m INFO[0m Starting session event monitoring for REGISTER and other events
[2m2025-06-24T05:44:55.791765Z[0m [32m INFO[0m ✅ Started monitoring for REGISTER and other events
[2m2025-06-24T05:44:55.791829Z[0m [32m INFO[0m 👀 Starting event monitor
[2m2025-06-24T05:44:55.791828Z[0m [32m INFO[0m 👤 Creating new agent: Alice Smith
[2m2025-06-24T05:44:55.791930Z[0m [32m INFO[0m ✅ Agent created successfully: Alice Smith (fde3cceb-caff-4ace-954b-9d5dea35bd59)
[2m2025-06-24T05:44:55.792016Z[0m [32m INFO[0m 👤 Registering agent: Alice Smith (sip:alice@callcenter.example.com)
[2m2025-06-24T05:44:55.792022Z[0m [32m INFO[0m ✅ Agent registered: agent_alice
[2m2025-06-24T05:44:55.792026Z[0m [32m INFO[0m Created agent: Alice Smith (sip:alice@callcenter.example.com)
[2m2025-06-24T05:44:55.792030Z[0m [32m INFO[0m 👤 Creating new agent: Bob Johnson
[2m2025-06-24T05:44:55.792071Z[0m [32m INFO[0m ✅ Agent created successfully: Bob Johnson (f4b95e45-0782-4e6d-a29a-574fce987772)
[2m2025-06-24T05:44:55.792136Z[0m [32m INFO[0m 👤 Registering agent: Bob Johnson (sip:bob@callcenter.example.com)
[2m2025-06-24T05:44:55.792140Z[0m [32m INFO[0m ✅ Agent registered: agent_bob
[2m2025-06-24T05:44:55.792143Z[0m [32m INFO[0m Created agent: Bob Johnson (sip:bob@callcenter.example.com)
[2m2025-06-24T05:44:55.792147Z[0m [32m INFO[0m 👤 Creating new agent: Charlie Brown
[2m2025-06-24T05:44:55.792182Z[0m [32m INFO[0m ✅ Agent created successfully: Charlie Brown (d75111a3-40a1-45ff-9bb2-d634708849d5)
[2m2025-06-24T05:44:55.792242Z[0m [32m INFO[0m 👤 Registering agent: Charlie Brown (sip:charlie@callcenter.example.com)
[2m2025-06-24T05:44:55.792246Z[0m [32m INFO[0m ✅ Agent registered: agent_charlie
[2m2025-06-24T05:44:55.792248Z[0m [32m INFO[0m Created agent: Charlie Brown (sip:charlie@callcenter.example.com)
[2m2025-06-24T05:44:55.792252Z[0m [32m INFO[0m ✅ Default queues created
[2m2025-06-24T05:44:55.792254Z[0m [32m INFO[0m 📞 Call center server is running

📞 CALL CENTER IS READY!
=======================

🔧 Configuration:
  - SIP Address: 0.0.0.0:5060
  - Domain: callcenter.example.com

📋 How to Test:
  1. Configure agent SIP phones to register
  2. Point them to this server (0.0.0.0:5060)
  3. Once registered, they'll show as 'available'
  4. Make test calls to configured queues
  5. Calls will be routed to available agents

🛑 Press Ctrl+C to stop the server

=== PARSING SIP MESSAGE ===
Input length: 428 bytes
Input as string: "REGISTER sip:127.0.0.1:5060 SIP/2.0\r\nFrom: <sip:alice@callcenter.example.com>;tag=tag-0c2da49c71724654a1f3589b927763bb\r\nTo: <sip:alice@callcenter.example.com>\r\nCall-ID: reg-96526-916d6075-2d95-4c3d-8139-d8c8e5cc2946\r\nCSeq: 1 REGISTER\r\nContact: <sip:alice@callcenter.example.com>\r\nExpires: 3600\r\nMax-Forwards: 70\r\nUser-Agent: RVoIP-SessionCore/1.0\r\nVia: SIP/2.0/UDP 0.0.0.0:5071;branch=z9hG4bK04e27b3f09cf453997587c99198e47d8\r\n\r\n"
Input as hex: [52, 45, 47, 49, 53, 54, 45, 52, 20, 73, 69, 70, 3a, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 30, 63, 32, 64, 61, 34, 39, 63, 37, 31, 37, 32, 34, 36, 35, 34, 61, 31, 66, 33, 35, 38, 39, 62, 39, 32, 37, 37, 36, 33, 62, 62, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 72, 65, 67, 2d, 39, 36, 35, 32, 36, 2d, 39, 31, 36, 64, 36, 30, 37, 35, 2d, 32, 64, 39, 35, 2d, 34, 63, 33, 64, 2d, 38, 31, 33, 39, 2d, 64, 38, 63, 38, 65, 35, 63, 63, 32, 39, 34, 36, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 52, 45, 47, 49, 53, 54, 45, 52, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 45, 78, 70, 69, 72, 65, 73, 3a, 20, 33, 36, 30, 30, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 52, 56, 6f, 49, 50, 2d, 53, 65, 73, 73, 69, 6f, 6e, 43, 6f, 72, 65, 2f, 31, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 30, 2e, 30, 2e, 30, 2e, 30, 3a, 35, 30, 37, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 30, 34, 65, 32, 37, 62, 33, 66, 30, 39, 63, 66, 34, 35, 33, 39, 39, 37, 35, 38, 37, 63, 39, 39, 31, 39, 38, 65, 34, 37, 64, 38, 0d, 0a, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T05:44:58.672107Z[0m [32m INFO[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server) [3mmethod[0m[2m=[0mREGISTER
Transaction loop starting for Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Register, uri: Uri { scheme: Sip, user: None, password: None, host: Address(127.0.0.1), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [From(From(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-0c2da49c71724654a1f3589b927763bb")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("reg-96526-916d6075-2d95-4c3d-8139-d8c8e5cc2946")), CSeq(CSeq { seq: 1, method: Register }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), Expires(Expires(3600)), MaxForwards(MaxForwards(70)), UserAgent(["RVoIP-SessionCore/1.0"]), Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(0.0.0.0), sent_by_port: Some(5071), params: [Branch("z9hG4bK04e27b3f09cf453997587c99198e47d8")] }]))], body: b"" })) for transaction Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: RegistrationRequest { transaction_id: z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server, from_uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, contact_uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, expires: 3600 }
[2m2025-06-24T05:44:58.672326Z[0m [32m INFO[0m Registration request: sip:alice@callcenter.example.com -> sip:alice@callcenter.example.com (expires: 3600)
🎯 COORDINATOR: Handling event: RegistrationRequest { transaction_id: "Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)", from_uri: "sip:alice@callcenter.example.com", contact_uri: "sip:alice@callcenter.example.com", expires: 3600 }
[2m2025-06-24T05:44:58.672376Z[0m [32m INFO[0m REGISTER request forwarded to application: sip:alice@callcenter.example.com -> sip:alice@callcenter.example.com (expires: 3600)
[2m2025-06-24T05:44:58.672390Z[0m [32m INFO[0m Received REGISTER request: sip:alice@callcenter.example.com -> sip:alice@callcenter.example.com (expires: 3600)
[2m2025-06-24T05:44:58.672396Z[0m [32m INFO[0m Processing REGISTER: transaction=Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server), from=sip:alice@callcenter.example.com, contact=sip:alice@callcenter.example.com, expires=3600
[2m2025-06-24T05:44:58.672403Z[0m [32m INFO[0m ✅ New registration for sip:alice@callcenter.example.com: expires in 3600s
[2m2025-06-24T05:44:58.672410Z[0m [32m INFO[0m REGISTER processed: Created for sip:alice@callcenter.example.com
[2m2025-06-24T05:44:58.672414Z[0m [32m INFO[0m Sending 200 OK for successful registration
[2m2025-06-24T05:44:58.672449Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5071
[2m2025-06-24T05:44:58.672474Z[0m [32m INFO[0m REGISTER response sent: 200 Registration successful
[2m2025-06-24T05:44:58.672479Z[0m [32m INFO[0m 📱 Updating agent status by SIP URI: sip:alice@callcenter.example.com -> available
[2m2025-06-24T05:44:58.672559Z[0m [32m INFO[0m ✅ Updated agent sip:alice@callcenter.example.com status to available in database
[2m2025-06-24T05:44:58.672641Z[0m [32m INFO[0m ✅ Agent Alice Smith added to available agents pool
Received command: TransitionTo(Completed) for transaction Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)
Processing TransitionTo(Completed) current state: Trying
Valid state transition: Trying -> Completed
State successfully changed to: Completed
Sent StateChanged event result: Success
=== PARSING SIP MESSAGE ===
Input length: 422 bytes
Input as string: "REGISTER sip:127.0.0.1:5060 SIP/2.0\r\nFrom: <sip:bob@callcenter.example.com>;tag=tag-d79d567328a84d34a076855930d8210d\r\nTo: <sip:bob@callcenter.example.com>\r\nCall-ID: reg-96536-e1d67eb8-e5dc-48b4-b941-f5d632a4d646\r\nCSeq: 1 REGISTER\r\nContact: <sip:bob@callcenter.example.com>\r\nExpires: 3600\r\nMax-Forwards: 70\r\nUser-Agent: RVoIP-SessionCore/1.0\r\nVia: SIP/2.0/UDP 0.0.0.0:5072;branch=z9hG4bKdab1558eff424f6eb338414a13d7b6bc\r\n\r\n"
Input as hex: [52, 45, 47, 49, 53, 54, 45, 52, 20, 73, 69, 70, 3a, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 64, 37, 39, 64, 35, 36, 37, 33, 32, 38, 61, 38, 34, 64, 33, 34, 61, 30, 37, 36, 38, 35, 35, 39, 33, 30, 64, 38, 32, 31, 30, 64, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 72, 65, 67, 2d, 39, 36, 35, 33, 36, 2d, 65, 31, 64, 36, 37, 65, 62, 38, 2d, 65, 35, 64, 63, 2d, 34, 38, 62, 34, 2d, 62, 39, 34, 31, 2d, 66, 35, 64, 36, 33, 32, 61, 34, 64, 36, 34, 36, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 52, 45, 47, 49, 53, 54, 45, 52, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 45, 78, 70, 69, 72, 65, 73, 3a, 20, 33, 36, 30, 30, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 52, 56, 6f, 49, 50, 2d, 53, 65, 73, 73, 69, 6f, 6e, 43, 6f, 72, 65, 2f, 31, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 30, 2e, 30, 2e, 30, 2e, 30, 3a, 35, 30, 37, 32, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 64, 61, 62, 31, 35, 35, 38, 65, 66, 66, 34, 32, 34, 66, 36, 65, 62, 33, 33, 38, 34, 31, 34, 61, 31, 33, 64, 37, 62, 36, 62, 63, 0d, 0a, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T05:44:59.676251Z[0m [32m INFO[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server) [3mmethod[0m[2m=[0mREGISTER
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: RegistrationRequest { transaction_id: z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server, from_uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, contact_uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, expires: 3600 }
[2m2025-06-24T05:44:59.676287Z[0m [32m INFO[0m Registration request: sip:bob@callcenter.example.com -> sip:bob@callcenter.example.com (expires: 3600)
Transaction loop starting for Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Register, uri: Uri { scheme: Sip, user: None, password: None, host: Address(127.0.0.1), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [From(From(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-d79d567328a84d34a076855930d8210d")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("reg-96536-e1d67eb8-e5dc-48b4-b941-f5d632a4d646")), CSeq(CSeq { seq: 1, method: Register }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), Expires(Expires(3600)), MaxForwards(MaxForwards(70)), UserAgent(["RVoIP-SessionCore/1.0"]), Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(0.0.0.0), sent_by_port: Some(5072), params: [Branch("z9hG4bKdab1558eff424f6eb338414a13d7b6bc")] }]))], body: b"" })) for transaction Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)
🎯 COORDINATOR: Handling event: RegistrationRequest { transaction_id: "Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)", from_uri: "sip:bob@callcenter.example.com", contact_uri: "sip:bob@callcenter.example.com", expires: 3600 }
[2m2025-06-24T05:44:59.676335Z[0m [32m INFO[0m REGISTER request forwarded to application: sip:bob@callcenter.example.com -> sip:bob@callcenter.example.com (expires: 3600)
[2m2025-06-24T05:44:59.676339Z[0m [32m INFO[0m Received REGISTER request: sip:bob@callcenter.example.com -> sip:bob@callcenter.example.com (expires: 3600)
[2m2025-06-24T05:44:59.676341Z[0m [32m INFO[0m Processing REGISTER: transaction=Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server), from=sip:bob@callcenter.example.com, contact=sip:bob@callcenter.example.com, expires=3600
[2m2025-06-24T05:44:59.676346Z[0m [32m INFO[0m ✅ New registration for sip:bob@callcenter.example.com: expires in 3600s
[2m2025-06-24T05:44:59.676348Z[0m [32m INFO[0m REGISTER processed: Created for sip:bob@callcenter.example.com
[2m2025-06-24T05:44:59.676350Z[0m [32m INFO[0m Sending 200 OK for successful registration
[2m2025-06-24T05:44:59.676380Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5072
[2m2025-06-24T05:44:59.676402Z[0m [32m INFO[0m REGISTER response sent: 200 Registration successful
[2m2025-06-24T05:44:59.676406Z[0m [32m INFO[0m 📱 Updating agent status by SIP URI: sip:bob@callcenter.example.com -> available
[2m2025-06-24T05:44:59.676473Z[0m [32m INFO[0m ✅ Updated agent sip:bob@callcenter.example.com status to available in database
[2m2025-06-24T05:44:59.676521Z[0m [32m INFO[0m ✅ Agent Bob Johnson added to available agents pool
Received command: TransitionTo(Completed) for transaction Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)
Processing TransitionTo(Completed) current state: Trying
Valid state transition: Trying -> Completed
State successfully changed to: Completed
Sent StateChanged event result: Success
=== PARSING SIP MESSAGE ===
Input length: 681 bytes
Input as string: "INVITE sip:support@callcenter.example.com:5060 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5080;branch=z9hG4bK-96557-1-0\r\nFrom: \"Test Customer\" <sip:customer@127.0.0.1:5080>;tag=1\r\nTo: <sip:support@callcenter.example.com:5060>\r\nCall-ID: 1-96557@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:customer@127.0.0.1:5080>\r\nMax-Forwards: 70\r\nSubject: Test Call to Call Center\r\nUser-Agent: SIPp Customer/1.0\r\nContent-Type: application/sdp\r\nContent-Length:   237\r\n\r\nv=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 36, 35, 35, 37, 2d, 31, 2d, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 22, 54, 65, 73, 74, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 22, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 3b, 74, 61, 67, 3d, 31, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 39, 36, 35, 35, 37, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 54, 65, 73, 74, 20, 43, 61, 6c, 6c, 20, 74, 6f, 20, 43, 61, 6c, 6c, 20, 43, 65, 6e, 74, 65, 72, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 2f, 31, 2e, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 33, 37, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 63, 75, 73, 74, 6f, 6d, 65, 72, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 43, 61, 6c, 6c, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 30, 30, 30, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 20, 31, 30, 31, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 31, 30, 31, 20, 74, 65, 6c, 65, 70, 68, 6f, 6e, 65, 2d, 65, 76, 65, 6e, 74, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 66, 6d, 74, 70, 3a, 31, 30, 31, 20, 30, 2d, 31, 35, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T05:45:03.323994Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-96557-1-0:INVITE:server) [3mmethod[0m[2m=[0mINVITE
🎯 FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5080
🔍 INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5080
[2m2025-06-24T05:45:03.324055Z[0m [32m INFO[0m Created early dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29 from INVITE request
🔍 INVITE HANDLER: Created early dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
Transaction loop starting for Key(z9hG4bK-96557-1-0:INVITE:server)
Initial state: Proceeding
🔍 INVITE HANDLER: Associated transaction Key(z9hG4bK-96557-1-0:INVITE:server) with dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
🔍 INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-96557-1-0:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
🔍 INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
[2m2025-06-24T05:45:03.324157Z[0m [32m INFO[0m Initial INVITE processed, created dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(2ce01449-3b6c-4d1a-8d6d-670df4596a29), transaction_id: z9hG4bK-96557-1-0:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("support"), password: None, host: Domain("callcenter.example.com"), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5080), params: [Branch("z9hG4bK-96557-1-0")] }])), From(From(Address { display_name: Some("Test Customer"), uri: Uri { scheme: Sip, user: Some("customer"), password: None, host: Address(127.0.0.1), port: Some(5080), parameters: [], headers: {}, raw_uri: None }, params: [Tag("1")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("support"), password: None, host: Domain("callcenter.example.com"), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("1-96557@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("customer"), password: None, host: Address(127.0.0.1), port: Some(5080), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("Test Call to Call Center")), UserAgent(["SIPp", "Customer/1.0"]), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(237))], body: b"v=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n" }, source: 127.0.0.1:5080 }
[2m2025-06-24T05:45:03.324249Z[0m [32m INFO[0m handle_incoming_call called for dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
[2m2025-06-24T05:45:03.324269Z[0m [32m INFO[0m Incoming call from dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-24T05:45:03.324290Z[0m [32m INFO[0m Created session sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b for incoming call dialog 2ce01449-3b6c-4d1a-8d6d-670df4596a29
[2m2025-06-24T05:45:03.324303Z[0m [32m INFO[0m Calling handler.on_incoming_call for session sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b
[2m2025-06-24T05:45:03.324337Z[0m [33m WARN[0m Call center engine has been dropped
[2m2025-06-24T05:45:03.324344Z[0m [32m INFO[0m Handler decision for session sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b: Reject("Call center not available")
[2m2025-06-24T05:45:03.324351Z[0m [32m INFO[0m Rejecting incoming call for session sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b: Call center not available
[2m2025-06-24T05:45:03.324362Z[0m [32m INFO[0m Rejecting call 2ce01449-3b6c-4d1a-8d6d-670df4596a29 with status 486 Busy Here
🎯 COORDINATOR: Handling event: SessionCreated { session_id: SessionId("sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b"), from: "sip:from@127.0.0.1", to: "sip:to@local", call_state: Ringing }
[2m2025-06-24T05:45:03.324418Z[0m [32m INFO[0m Session sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b created with state Ringing
🎯 COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b"), old_state: Ringing, new_state: Failed("Call center not available") }
[2m2025-06-24T05:45:03.324434Z[0m [32m INFO[0m Session sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b state changed: Ringing -> Failed("Call center not available")
[2m2025-06-24T05:45:03.324438Z[0m [33m WARN[0m No media session found for SIP session: sess_18b1c7c4-d1bd-4eb1-a0dc-491fdf9d295b
Received command: Timer("100") for transaction Key(z9hG4bK-96557-1-0:INVITE:server)
[2m2025-06-24T05:45:03.526298Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5080
=== PARSING SIP MESSAGE ===
Input length: 681 bytes
Input as string: "INVITE sip:support@callcenter.example.com:5060 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5080;branch=z9hG4bK-96557-2-0\r\nFrom: \"Test Customer\" <sip:customer@127.0.0.1:5080>;tag=2\r\nTo: <sip:support@callcenter.example.com:5060>\r\nCall-ID: 2-96557@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:customer@127.0.0.1:5080>\r\nMax-Forwards: 70\r\nSubject: Test Call to Call Center\r\nUser-Agent: SIPp Customer/1.0\r\nContent-Type: application/sdp\r\nContent-Length:   237\r\n\r\nv=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 39, 36, 35, 35, 37, 2d, 32, 2d, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 22, 54, 65, 73, 74, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 22, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 3b, 74, 61, 67, 3d, 32, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 32, 2d, 39, 36, 35, 35, 37, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 54, 65, 73, 74, 20, 43, 61, 6c, 6c, 20, 74, 6f, 20, 43, 61, 6c, 6c, 20, 43, 65, 6e, 74, 65, 72, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 2f, 31, 2e, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 33, 37, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 63, 75, 73, 74, 6f, 6d, 65, 72, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 43, 61, 6c, 6c, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 30, 30, 30, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 20, 31, 30, 31, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 31, 30, 31, 20, 74, 65, 6c, 65, 70, 68, 6f, 6e, 65, 2d, 65, 76, 65, 6e, 74, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 66, 6d, 74, 70, 3a, 31, 30, 31, 20, 30, 2d, 31, 35, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T05:45:04.323038Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-96557-2-0:INVITE:server) [3mmethod[0m[2m=[0mINVITE
🎯 FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5080
🔍 INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5080
Transaction loop starting for Key(z9hG4bK-96557-2-0:INVITE:server)
Initial state: Proceeding
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-96557-2-0:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
[2m2025-06-24T05:45:04.323092Z[0m [32m INFO[0m Created early dialog 5f139e10-aa86-47fe-892a-840df5072575 from INVITE request
🔍 INVITE HANDLER: Created early dialog 5f139e10-aa86-47fe-892a-840df5072575
🔍 INVITE HANDLER: Associated transaction Key(z9hG4bK-96557-2-0:INVITE:server) with dialog 5f139e10-aa86-47fe-892a-840df5072575
🔍 INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 5f139e10-aa86-47fe-892a-840df5072575
🔍 INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 5f139e10-aa86-47fe-892a-840df5072575
[2m2025-06-24T05:45:04.323135Z[0m [32m INFO[0m Initial INVITE processed, created dialog 5f139e10-aa86-47fe-892a-840df5072575
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(5f139e10-aa86-47fe-892a-840df5072575), transaction_id: z9hG4bK-96557-2-0:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("support"), password: None, host: Domain("callcenter.example.com"), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5080), params: [Branch("z9hG4bK-96557-2-0")] }])), From(From(Address { display_name: Some("Test Customer"), uri: Uri { scheme: Sip, user: Some("customer"), password: None, host: Address(127.0.0.1), port: Some(5080), parameters: [], headers: {}, raw_uri: None }, params: [Tag("2")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("support"), password: None, host: Domain("callcenter.example.com"), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("2-96557@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("customer"), password: None, host: Address(127.0.0.1), port: Some(5080), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("Test Call to Call Center")), UserAgent(["SIPp", "Customer/1.0"]), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(237))], body: b"v=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n" }, source: 127.0.0.1:5080 }
[2m2025-06-24T05:45:04.323195Z[0m [32m INFO[0m handle_incoming_call called for dialog 5f139e10-aa86-47fe-892a-840df5072575
[2m2025-06-24T05:45:04.323203Z[0m [32m INFO[0m Incoming call from dialog 5f139e10-aa86-47fe-892a-840df5072575: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-24T05:45:04.323213Z[0m [32m INFO[0m Created session sess_cda70221-c72e-4b47-b004-66a04dded908 for incoming call dialog 5f139e10-aa86-47fe-892a-840df5072575
[2m2025-06-24T05:45:04.323220Z[0m [32m INFO[0m Calling handler.on_incoming_call for session sess_cda70221-c72e-4b47-b004-66a04dded908
[2m2025-06-24T05:45:04.323226Z[0m [33m WARN[0m Call center engine has been dropped
[2m2025-06-24T05:45:04.323229Z[0m [32m INFO[0m Handler decision for session sess_cda70221-c72e-4b47-b004-66a04dded908: Reject("Call center not available")
[2m2025-06-24T05:45:04.323232Z[0m [32m INFO[0m Rejecting incoming call for session sess_cda70221-c72e-4b47-b004-66a04dded908: Call center not available
[2m2025-06-24T05:45:04.323238Z[0m [32m INFO[0m Rejecting call 5f139e10-aa86-47fe-892a-840df5072575 with status 486 Busy Here
🎯 COORDINATOR: Handling event: SessionCreated { session_id: SessionId("sess_cda70221-c72e-4b47-b004-66a04dded908"), from: "sip:from@127.0.0.1", to: "sip:to@local", call_state: Ringing }
[2m2025-06-24T05:45:04.323257Z[0m [32m INFO[0m Session sess_cda70221-c72e-4b47-b004-66a04dded908 created with state Ringing
🎯 COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_cda70221-c72e-4b47-b004-66a04dded908"), old_state: Ringing, new_state: Failed("Call center not available") }
[2m2025-06-24T05:45:04.323265Z[0m [32m INFO[0m Session sess_cda70221-c72e-4b47-b004-66a04dded908 state changed: Ringing -> Failed("Call center not available")
[2m2025-06-24T05:45:04.323269Z[0m [33m WARN[0m No media session found for SIP session: sess_cda70221-c72e-4b47-b004-66a04dded908
Received command: Timer("100") for transaction Key(z9hG4bK-96557-2-0:INVITE:server)
[2m2025-06-24T05:45:04.525262Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5080
[2m2025-06-24T05:45:05.794401Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T05:45:15.793527Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T05:45:25.793598Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
Received command: Timer("J") for transaction Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server)
Processing TransitionTo(Terminated) current state: Completed
Valid state transition: Completed -> Terminated
State successfully changed to: Terminated
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK04e27b3f09cf453997587c99198e47d8:REGISTER:server). Final state: Terminated
Received command: Timer("J") for transaction Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server)
Processing TransitionTo(Terminated) current state: Completed
Valid state transition: Completed -> Terminated
State successfully changed to: Terminated
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bKdab1558eff424f6eb338414a13d7b6bc:REGISTER:server). Final state: Terminated
[2m2025-06-24T05:45:35.792829Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T05:45:45.792845Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T05:45:55.792958Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T05:45:55.792958Z[0m [32m INFO[0m 📊 Stats - Active Calls: 0, Queued: 0, Agents Available: 2
[2m2025-06-24T05:46:05.794133Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T05:46:15.792784Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
