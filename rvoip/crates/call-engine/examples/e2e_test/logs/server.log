warning: method `handle_auto_options` is never used
   --> crates/dialog-core/src/manager/unified.rs:563:14
    |
197 | impl UnifiedDialogManager {
    | ------------------------- method in this implementation
...
563 |     async fn handle_auto_options(&self, request: Request, source: SocketAddr) -> ApiResult<()> {
    |              ^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: method `extract_body_string` is never used
   --> crates/dialog-core/src/protocol/invite_handler.rs:177:8
    |
71  | impl DialogManager {
    | ------------------ method in this implementation
...
177 |     fn extract_body_string(&self, request: &Request) -> String {
    |        ^^^^^^^^^^^^^^^^^^^

warning: unused import: `StaticEvent`
  --> crates/infra-common/src/events/static_path.rs:14:60
   |
14 | use crate::events::types::{Event, EventResult, EventError, StaticEvent, EventFilter};
   |                                                            ^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `EventError` and `StaticEvent`
  --> crates/infra-common/src/events/system.rs:16:48
   |
16 | use crate::events::types::{Event, EventResult, EventError, EventFilter, StaticEvent};
   |                                                ^^^^^^^^^^               ^^^^^^^^^^^

warning: unused imports: `EventSystemBuilder` and `ImplementationType`
  --> crates/infra-common/src/events/system.rs:21:30
   |
21 | use crate::events::builder::{ImplementationType, EventSystemBuilder};
   |                              ^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^^^^^^

warning: variable does not need to be mutable
  --> crates/infra-common/src/lifecycle/manager.rs:87:13
   |
87 |         let mut components = self.components.write().unwrap();
   |             ----^^^^^^^^^^
   |             |
   |             help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:107:13
    |
107 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:127:13
    |
127 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/infra-common/src/lifecycle/manager.rs:148:13
    |
148 |         let mut components = self.components.write().unwrap();
    |             ----^^^^^^^^^^
    |             |
    |             help: remove this `mut`

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:63:20
   |
63 |             config.merge(File::from(base_path.clone()))
   |                    ^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:69:20
   |
69 |             config.merge(File::from(env_path))
   |                    ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:75:16
   |
75 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
  --> crates/infra-common/src/config/loader.rs:97:16
   |
97 |         config.merge(Environment::with_prefix(&env_prefix).separator("__"))
   |                ^^^^^

warning: use of deprecated method `config::Config::merge`: please use 'ConfigBuilder' instead
   --> crates/infra-common/src/config/loader.rs:115:20
    |
115 |             config.merge(File::from(p.clone()))
    |                    ^^^^^

warning: methods `type_name` and `clone_sender` are never used
  --> crates/infra-common/src/events/registry.rs:37:8
   |
35 | trait AnyBroadcastSender: Send + Sync + 'static {
   |       ------------------ methods in this trait
36 |     fn as_any(&self) -> &dyn Any;
37 |     fn type_name(&self) -> &str;
   |        ^^^^^^^^^
38 |     fn clone_sender(&self) -> Box<dyn AnyBroadcastSender>;
   |        ^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `id`, `event_type`, and `priority` are never read
  --> crates/infra-common/src/events/subscriber.rs:11:16
   |
10 | pub struct SubscriberHandle {
   |            ---------------- fields in this struct
11 |     pub(crate) id: u64,
   |                ^^
12 |     pub(crate) event_type: EventType,
   |                ^^^^^^^^^^
13 |     pub(crate) priority: EventPriority,
   |                ^^^^^^^^
   |
   = note: `SubscriberHandle` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `rvoip-dialog-core` (lib) generated 2 warnings
warning: `infra-common` (lib) generated 14 warnings (run `cargo fix --lib -p infra-common` to apply 7 suggestions)
warning: unused import: `SessionManagerConfig`
  --> crates/client-core/src/client/manager.rs:11:5
   |
11 |     SessionManagerConfig,
   |     ^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `MediaInfo as SessionMediaInfo`, `QualityMetrics`, `QualityThresholds`, `SessionCoordinator`, and `SessionId`
  --> crates/client-core/src/client/media.rs:15:5
   |
15 |     SessionCoordinator,
   |     ^^^^^^^^^^^^^^^^^^
16 |     SessionId,
   |     ^^^^^^^^^
17 |     MediaInfo as SessionMediaInfo,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
21 |     QualityMetrics,
   |     ^^^^^^^^^^^^^^
22 |     QualityThresholds,
   |     ^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> crates/client-core/src/client/media_builder.rs:5:5
  |
5 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a module
   --> crates/client-core/src/client/mod.rs:238:1
    |
238 | pub mod config;
    | ^^^^^^^^^^^^^^
    |
note: the lint level is defined here
   --> crates/client-core/src/lib.rs:130:9
    |
130 | #![warn(missing_docs)]
    |         ^^^^^^^^^^^^

warning: missing documentation for a module
   --> crates/client-core/src/client/mod.rs:239:1
    |
239 | pub mod controls;
    | ^^^^^^^^^^^^^^^^

warning: missing documentation for a module
   --> crates/client-core/src/client/mod.rs:241:1
    |
241 | pub mod manager;
    | ^^^^^^^^^^^^^^^

warning: missing documentation for a type alias
   --> crates/client-core/src/client/mod.rs:289:1
    |
289 | pub type Client = ClientManager;
    | ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:13:5
   |
13 |     pub echo_cancellation: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:14:5
   |
14 |     pub noise_suppression: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:15:5
   |
15 |     pub auto_gain_control: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:22:5
   |
22 |     pub srtp_profiles: Vec<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/config.rs:26:5
   |
26 |     pub rtp_port_end: u16,
   |     ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:30:5
   |
30 |     pub client_event_handler: Arc<RwLock<Option<Arc<dyn ClientEventHandler>>>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:31:5
   |
31 |     pub call_mapping: Arc<DashMap<SessionId, CallId>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:32:5
   |
32 |     pub session_mapping: Arc<DashMap<CallId, SessionId>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:33:5
   |
33 |     pub call_info: Arc<DashMap<CallId, CallInfo>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:34:5
   |
34 |     pub incoming_calls: Arc<DashMap<CallId, IncomingCall>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/events.rs:35:5
   |
35 |     pub event_tx: Option<tokio::sync::broadcast::Sender<crate::events::ClientEvent>>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for an associated function
  --> crates/client-core/src/client/events.rs:51:5
   |
51 | /     pub fn new(
52 | |         call_mapping: Arc<DashMap<SessionId, CallId>>,
53 | |         session_mapping: Arc<DashMap<CallId, SessionId>>,
54 | |         call_info: Arc<DashMap<CallId, CallInfo>>,
55 | |         incoming_calls: Arc<DashMap<CallId, IncomingCall>>,
56 | |     ) -> Self {
   | |_____________^

warning: missing documentation for a method
  --> crates/client-core/src/client/events.rs:67:5
   |
67 |     pub fn with_event_tx(mut self, event_tx: tokio::sync::broadcast::Sender<crate::events::ClientEvent>) -> Sel...
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a method
  --> crates/client-core/src/client/events.rs:72:5
   |
72 |     pub async fn set_event_handler(&self, handler: Arc<dyn ClientEventHandler>) {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a method
   --> crates/client-core/src/client/events.rs:114:5
    |
114 |     pub fn extract_display_name_from_header(&self, header: &str) -> Option<String> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a method
   --> crates/client-core/src/client/media.rs:205:5
    |
205 |     pub async fn get_available_codecs(&self) -> Vec<AudioCodecInfo> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:14:5
   |
14 |     pub is_running: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:15:5
   |
15 |     pub local_sip_addr: std::net::SocketAddr,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:16:5
   |
16 |     pub local_media_addr: std::net::SocketAddr,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:17:5
   |
17 |     pub total_calls: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:18:5
   |
18 |     pub connected_calls: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:19:5
   |
19 |     pub total_registrations: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:20:5
   |
20 |     pub active_registrations: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:28:5
   |
28 |     pub call_id: CallId,
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:29:5
   |
29 |     pub local_sdp: Option<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:30:5
   |
30 |     pub remote_sdp: Option<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:31:5
   |
31 |     pub local_rtp_port: Option<u16>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:32:5
   |
32 |     pub remote_rtp_port: Option<u16>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:33:5
   |
33 |     pub codec: Option<String>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:34:5
   |
34 |     pub is_muted: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:35:5
   |
35 |     pub is_on_hold: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:36:5
   |
36 |     pub audio_direction: AudioDirection,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:37:5
   |
37 |     pub quality_metrics: Option<AudioQualityMetrics>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:43:5
   |
43 |     pub name: String,
   |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:44:5
   |
44 |     pub payload_type: u8,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:45:5
   |
45 |     pub clock_rate: u32,
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:46:5
   |
46 |     pub channels: u8,
   |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:47:5
   |
47 |     pub description: String,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:48:5
   |
48 |     pub quality_rating: u8, // 1-5 scale
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:54:5
   |
54 |     SendReceive,
   |     ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:55:5
   |
55 |     SendOnly,
   |     ^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:56:5
   |
56 |     ReceiveOnly,
   |     ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/client/types.rs:57:5
   |
57 |     Inactive,
   |     ^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:63:5
   |
63 |     pub mos_score: Option<f32>,      // Mean Opinion Score (1.0-5.0)
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:64:5
   |
64 |     pub jitter_ms: Option<u32>,      // Jitter in milliseconds
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:65:5
   |
65 |     pub packet_loss_percent: Option<f32>, // Packet loss percentage
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:66:5
   |
66 |     pub round_trip_time_ms: Option<u32>,  // RTT in milliseconds
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:67:5
   |
67 |     pub bitrate_kbps: Option<u32>,   // Current bitrate in kbps
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:73:5
   |
73 |     pub supported_codecs: Vec<AudioCodecInfo>,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:74:5
   |
74 |     pub can_hold: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:75:5
   |
75 |     pub can_mute_microphone: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:76:5
   |
76 |     pub can_mute_speaker: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:77:5
   |
77 |     pub can_send_dtmf: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:78:5
   |
78 |     pub can_transfer: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:79:5
   |
79 |     pub supports_sdp_offer_answer: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:80:5
   |
80 |     pub supports_rtp: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:81:5
   |
81 |     pub supports_rtcp: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:82:5
   |
82 |     pub max_concurrent_calls: usize,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:83:5
   |
83 |     pub supported_media_types: Vec<String>, // "audio", "video"
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:89:5
   |
89 |     pub can_hold: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:90:5
   |
90 |     pub can_resume: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:91:5
   |
91 |     pub can_transfer: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:92:5
   |
92 |     pub can_send_dtmf: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:93:5
   |
93 |     pub can_mute: bool,
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/client/types.rs:94:5
   |
94 |     pub can_hangup: bool,
   |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:113:5
    |
113 |     pub call_id: CallId,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:114:5
    |
114 |     pub session_id: rvoip_session_core::api::types::SessionId,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:115:5
    |
115 |     pub media_session_id: String,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:116:5
    |
116 |     pub local_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:117:5
    |
117 |     pub remote_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:118:5
    |
118 |     pub codec: Option<String>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:119:5
    |
119 |     pub media_direction: AudioDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:120:5
    |
120 |     pub quality_metrics: Option<AudioQualityMetrics>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:121:5
    |
121 |     pub is_active: bool,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:122:5
    |
122 |     pub created_at: DateTime<Utc>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:128:5
    |
128 |     pub call_id: CallId,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:129:5
    |
129 |     pub negotiated_codec: Option<String>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:130:5
    |
130 |     pub local_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:131:5
    |
131 |     pub remote_rtp_port: Option<u16>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:132:5
    |
132 |     pub audio_direction: AudioDirection,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:133:5
    |
133 |     pub local_sdp: String,
    |     ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:134:5
    |
134 |     pub remote_sdp: String,
    |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:135:5
    |
135 |     pub negotiated_at: DateTime<Utc>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:136:5
    |
136 |     pub supports_dtmf: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:137:5
    |
137 |     pub supports_hold: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:138:5
    |
138 |     pub bandwidth_kbps: Option<u32>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:139:5
    |
139 |     pub encryption_enabled: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:145:5
    |
145 |     pub basic_capabilities: MediaCapabilities,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:146:5
    |
146 |     pub supports_sdp_offer_answer: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:147:5
    |
147 |     pub supports_media_session_lifecycle: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:148:5
    |
148 |     pub supports_sdp_renegotiation: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:149:5
    |
149 |     pub supports_early_media: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:150:5
    |
150 |     pub supports_media_session_updates: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:151:5
    |
151 |     pub supports_codec_negotiation: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:152:5
    |
152 |     pub supports_bandwidth_management: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:153:5
    |
153 |     pub supports_encryption: bool,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:154:5
    |
154 |     pub supported_sdp_version: String,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:155:5
    |
155 |     pub max_media_sessions: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:156:5
    |
156 |     pub preferred_rtp_port_range: (u16, u16),
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/client/types.rs:157:5
    |
157 |     pub supported_transport_protocols: Vec<String>,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/call.rs:106:5
    |
106 |     pub total_active_calls: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/call.rs:107:5
    |
107 |     pub connected_calls: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/call.rs:108:5
    |
108 |     pub incoming_pending_calls: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/registration.rs:138:5
    |
138 |     pub total_registrations: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/registration.rs:139:5
    |
139 |     pub active_registrations: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/registration.rs:140:5
    |
140 |     pub failed_registrations: usize,
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:75:5
   |
75 |     MicrophoneStateChanged { muted: bool },
   |     ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:75:30
   |
75 |     MicrophoneStateChanged { muted: bool },
   |                              ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:76:5
   |
76 |     SpeakerStateChanged { muted: bool },
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:76:27
   |
76 |     SpeakerStateChanged { muted: bool },
   |                           ^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:77:5
   |
77 |     AudioStarted,
   |     ^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:78:5
   |
78 |     AudioStopped,
   |     ^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:79:5
   |
79 |     HoldStateChanged { on_hold: bool },
   |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:79:24
   |
79 |     HoldStateChanged { on_hold: bool },
   |                        ^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:80:5
   |
80 |     DtmfSent { digits: String },
   |     ^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:80:16
   |
80 |     DtmfSent { digits: String },
   |                ^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:81:5
   |
81 |     TransferInitiated { target: String, transfer_type: String },
   |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:81:25
   |
81 |     TransferInitiated { target: String, transfer_type: String },
   |                         ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:81:41
   |
81 |     TransferInitiated { target: String, transfer_type: String },
   |                                         ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:84:5
   |
84 |     SdpOfferGenerated { sdp_size: usize },
   |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:84:25
   |
84 |     SdpOfferGenerated { sdp_size: usize },
   |                         ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:85:5
   |
85 |     SdpAnswerProcessed { sdp_size: usize },
   |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:85:26
   |
85 |     SdpAnswerProcessed { sdp_size: usize },
   |                          ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:86:5
   |
86 |     MediaSessionStarted { media_session_id: String },
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:86:27
   |
86 |     MediaSessionStarted { media_session_id: String },
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:87:5
   |
87 |     MediaSessionStopped,
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:88:5
   |
88 |     MediaSessionUpdated { sdp_size: usize },
   |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:88:27
   |
88 |     MediaSessionUpdated { sdp_size: usize },
   |                           ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:91:5
   |
91 |     QualityChanged { mos_score_x100: u32 }, // MOS score * 100 (e.g., 425 = 4.25)
   |     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:91:22
   |
91 |     QualityChanged { mos_score_x100: u32 }, // MOS score * 100 (e.g., 425 = 4.25)
   |                      ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:92:5
   |
92 |     PacketLoss { percentage_x100: u32 }, // Percentage * 100 (e.g., 150 = 1.5%)
   |     ^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:92:18
   |
92 |     PacketLoss { percentage_x100: u32 }, // Percentage * 100 (e.g., 150 = 1.5%)
   |                  ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
  --> crates/client-core/src/events.rs:93:5
   |
93 |     JitterChanged { jitter_ms: u32 },
   |     ^^^^^^^^^^^^^

warning: missing documentation for a struct field
  --> crates/client-core/src/events.rs:93:21
   |
93 |     JitterChanged { jitter_ms: u32 },
   |                     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:142:9
    |
142 |         info: IncomingCallInfo,
    |         ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:143:9
    |
143 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:154:9
    |
154 |         info: MediaEventInfo,
    |         ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:155:9
    |
155 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:159:9
    |
159 |         info: RegistrationStatusInfo,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:160:9
    |
160 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:164:9
    |
164 |         error: crate::ClientError,
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:165:9
    |
165 |         call_id: Option<CallId>,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:166:9
    |
166 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:170:9
    |
170 |         connected: bool,
    |         ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:171:9
    |
171 |         reason: Option<String>,
    |         ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/events.rs:172:9
    |
172 |         priority: EventPriority,
    |         ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:263:26
    |
263 |     RegistrationFailed { reason: String },
    |                          ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:266:5
    |
266 |     NotRegistered,
    |     ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:269:5
    |
269 |     RegistrationExpired,
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:272:5
    |
272 |     AuthenticationFailed { reason: String },
    |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:272:28
    |
272 |     AuthenticationFailed { reason: String },
    |                            ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:276:20
    |
276 |     CallNotFound { call_id: Uuid },
    |                    ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:279:5
    |
279 |     CallAlreadyExists { call_id: Uuid },
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:279:25
    |
279 |     CallAlreadyExists { call_id: Uuid },
    |                         ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:282:5
    |
282 |     InvalidCallState { 
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:283:9
    |
283 |         call_id: Uuid, 
    |         ^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:284:9
    |
284 |         current_state: crate::call::CallState 
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:288:5
    |
288 |     InvalidCallStateGeneric { expected: String, actual: String },
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:288:31
    |
288 |     InvalidCallStateGeneric { expected: String, actual: String },
    |                               ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:288:49
    |
288 |     InvalidCallStateGeneric { expected: String, actual: String },
    |                                                 ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:291:5
    |
291 |     CallSetupFailed { reason: String },
    |     ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:291:23
    |
291 |     CallSetupFailed { reason: String },
    |                       ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:294:5
    |
294 |     CallTerminated { reason: String },
    |     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:294:22
    |
294 |     CallTerminated { reason: String },
    |                      ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:298:30
    |
298 |     MediaNegotiationFailed { reason: String },
    |                              ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:301:5
    |
301 |     MediaError { details: String },
    |     ^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:301:18
    |
301 |     MediaError { details: String },
    |                  ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:304:5
    |
304 |     NoCompatibleCodecs,
    |     ^^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:307:5
    |
307 |     AudioDeviceError { reason: String },
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:307:24
    |
307 |     AudioDeviceError { reason: String },
    |                        ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:311:20
    |
311 |     NetworkError { reason: String },
    |                    ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:314:5
    |
314 |     ConnectionTimeout,
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:317:5
    |
317 |     ServerUnreachable { server: String },
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:317:25
    |
317 |     ServerUnreachable { server: String },
    |                         ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:321:21
    |
321 |     ProtocolError { reason: String },
    |                     ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:324:5
    |
324 |     InvalidSipMessage { reason: String },
    |     ^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:324:25
    |
324 |     InvalidSipMessage { reason: String },
    |                         ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:327:5
    |
327 |     ProtocolVersionMismatch { expected: String, actual: String },
    |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:327:31
    |
327 |     ProtocolVersionMismatch { expected: String, actual: String },
    |                               ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:327:49
    |
327 |     ProtocolVersionMismatch { expected: String, actual: String },
    |                                                 ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:331:28
    |
331 |     InvalidConfiguration { field: String, reason: String },
    |                            ^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:331:43
    |
331 |     InvalidConfiguration { field: String, reason: String },
    |                                           ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:334:5
    |
334 |     MissingConfiguration { field: String },
    |     ^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:334:28
    |
334 |     MissingConfiguration { field: String },
    |                            ^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:338:23
    |
338 |     TransportFailed { reason: String },
    |                       ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:341:5
    |
341 |     TransportNotAvailable { transport_type: String },
    |     ^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:341:29
    |
341 |     TransportNotAvailable { transport_type: String },
    |                             ^^^^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:345:27
    |
345 |     SessionManagerError { reason: String },
    |                           ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:348:5
    |
348 |     TooManySessions { limit: usize },
    |     ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:348:23
    |
348 |     TooManySessions { limit: usize },
    |                       ^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:352:21
    |
352 |     InternalError { message: String },
    |                     ^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:355:5
    |
355 |     OperationTimeout { duration_ms: u64 },
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:355:24
    |
355 |     OperationTimeout { duration_ms: u64 },
    |                        ^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:358:5
    |
358 |     NotImplemented { feature: String, reason: String },
    |     ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:358:22
    |
358 |     NotImplemented { feature: String, reason: String },
    |                      ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:358:39
    |
358 |     NotImplemented { feature: String, reason: String },
    |                                       ^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:361:5
    |
361 |     PermissionDenied { operation: String },
    |     ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:361:24
    |
361 |     PermissionDenied { operation: String },
    |                        ^^^^^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:364:5
    |
364 |     ResourceUnavailable { resource: String },
    |     ^^^^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:364:27
    |
364 |     ResourceUnavailable { resource: String },
    |                           ^^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:368:24
    |
368 |     UnsupportedCodec { codec: String },
    |                        ^^^^^^^^^^^^^

warning: missing documentation for a variant
   --> crates/client-core/src/error.rs:371:5
    |
371 |     CodecError { reason: String },
    |     ^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:371:18
    |
371 |     CodecError { reason: String },
    |                  ^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:375:28
    |
375 |     ExternalServiceError { service: String, reason: String },
    |                            ^^^^^^^^^^^^^^^

warning: missing documentation for a struct field
   --> crates/client-core/src/error.rs:375:45
    |
375 |     ExternalServiceError { service: String, reason: String },
    |                                             ^^^^^^^^^^^^^^

warning: `rvoip-client-core` (lib) generated 212 warnings (run `cargo fix --lib -p rvoip-client-core` to apply 3 suggestions)
    Finished `release` profile [optimized] target(s) in 0.17s
     Running `/Users/jonathan/Documents/Work/Rudeless Ventures/rvoip/rvoip/target/release/examples/e2e_test_server`
[2m2025-06-24T17:18:56.268569Z[0m [32m INFO[0m 🚀 Starting Basic Call Center Server
[2m2025-06-24T17:18:56.268667Z[0m [32m INFO[0m 🗄️ Creating in-memory Limbo database
[2m2025-06-24T17:18:56.270782Z[0m [32m INFO[0m ✅ In-memory database created successfully
[2m2025-06-24T17:18:56.270791Z[0m [32m INFO[0m ✅ Database initialized
[2m2025-06-24T17:18:56.270797Z[0m [32m INFO[0m 🚀 Creating CallCenterEngine with session-core CallHandler integration
[2m2025-06-24T17:18:56.270817Z[0m [32m INFO[0m 🚀 Creating CallCenterEngine with session-core CallHandler integration
[2m2025-06-24T17:18:56.270903Z[0m [32m INFO[0m Creating UnifiedDialogApi with automatic transport setup in "Hybrid" mode
[2m2025-06-24T17:18:56.271010Z[0m [32m INFO[0m SIP UDP transport bound to 0.0.0.0:5060
[2m2025-06-24T17:18:56.271045Z[0m [32m INFO[0m Added UDP transport bound to 0.0.0.0:5060
[2m2025-06-24T17:18:56.271190Z[0m [32m INFO[0m Creating UnifiedDialogApi with global events in "Hybrid" mode
[2m2025-06-24T17:18:56.271201Z[0m [32m INFO[0m Creating UnifiedDialogManager with global events in "Hybrid" mode at 0.0.0.0:5060
[2m2025-06-24T17:18:56.271209Z[0m [32m INFO[0m Creating new DialogManager with global transaction events and local address 0.0.0.0:5060
[2m2025-06-24T17:18:56.271260Z[0m [32m INFO[0m 🔄 Starting global transaction event processor for dialog-core
[2m2025-06-24T17:18:56.271395Z[0m [32m INFO[0m Session event processor started
🔗 SETUP: Setting up session coordination with dialog-core
✅ SETUP: Session coordination setup complete
[2m2025-06-24T17:18:56.271411Z[0m [32m INFO[0m SessionCoordinator initialized on port 5060
[2m2025-06-24T17:18:56.271416Z[0m [32m INFO[0m Starting UnifiedDialogApi
[2m2025-06-24T17:18:56.271419Z[0m [32m INFO[0m Starting UnifiedDialogManager in "Hybrid" mode
[2m2025-06-24T17:18:56.271423Z[0m [32m INFO[0m DialogManager starting
[2m2025-06-24T17:18:56.271427Z[0m [32m INFO[0m DialogManager started successfully
🎬 SPAWN: Starting session coordination event loop
[2m2025-06-24T17:18:56.271445Z[0m [32m INFO[0m Starting main coordinator event loop
📡 EVENT LOOP: Session coordination event loop started
[2m2025-06-24T17:18:56.271431Z[0m [32m INFO[0m Hybrid mode active - from_uri: Some("sip:user@localhost"), domain: None, auto_auth: false, auto_options: false
[2m2025-06-24T17:18:56.271493Z[0m [32m INFO[0m UnifiedDialogManager started successfully
[2m2025-06-24T17:18:56.271501Z[0m [32m INFO[0m Cleanup manager started
[2m2025-06-24T17:18:56.271522Z[0m [32m INFO[0m SessionCoordinator started
[2m2025-06-24T17:18:56.271527Z[0m [32m INFO[0m ✅ SessionCoordinator created with CallCenterCallHandler
[2m2025-06-24T17:18:56.271533Z[0m [32m INFO[0m ✅ Call center engine initialized with session-core integration
[2m2025-06-24T17:18:56.271538Z[0m [32m INFO[0m ✅ Call center engine initialized with session-core integration
[2m2025-06-24T17:18:56.271543Z[0m [32m INFO[0m ✅ Call center engine started on 0.0.0.0:5060
[2m2025-06-24T17:18:56.271549Z[0m [32m INFO[0m Starting session event monitoring for REGISTER and other events
[2m2025-06-24T17:18:56.271555Z[0m [32m INFO[0m ✅ Started monitoring for REGISTER and other events
[2m2025-06-24T17:18:56.271598Z[0m [32m INFO[0m 👀 Starting event monitor
[2m2025-06-24T17:18:56.271626Z[0m [32m INFO[0m 👤 Creating new agent: Alice Smith
[2m2025-06-24T17:18:56.271720Z[0m [32m INFO[0m ✅ Agent created successfully: Alice Smith (ab415c84-e36f-41c6-901b-41235410471d)
[2m2025-06-24T17:18:56.271819Z[0m [32m INFO[0m 👤 Registering agent: Alice Smith (sip:alice@callcenter.example.com)
[2m2025-06-24T17:18:56.271826Z[0m [32m INFO[0m ✅ Agent registered: agent_alice
[2m2025-06-24T17:18:56.271830Z[0m [32m INFO[0m Created agent: Alice Smith (sip:alice@callcenter.example.com)
[2m2025-06-24T17:18:56.271834Z[0m [32m INFO[0m 👤 Creating new agent: Bob Johnson
[2m2025-06-24T17:18:56.271882Z[0m [32m INFO[0m ✅ Agent created successfully: Bob Johnson (6982b28b-1acd-47d5-8f62-5638b94247a6)
[2m2025-06-24T17:18:56.271959Z[0m [32m INFO[0m 👤 Registering agent: Bob Johnson (sip:bob@callcenter.example.com)
[2m2025-06-24T17:18:56.271964Z[0m [32m INFO[0m ✅ Agent registered: agent_bob
[2m2025-06-24T17:18:56.271968Z[0m [32m INFO[0m Created agent: Bob Johnson (sip:bob@callcenter.example.com)
[2m2025-06-24T17:18:56.271972Z[0m [32m INFO[0m 👤 Creating new agent: Charlie Brown
[2m2025-06-24T17:18:56.272015Z[0m [32m INFO[0m ✅ Agent created successfully: Charlie Brown (2f6525c2-e8ec-4f3b-83eb-0c6330acfeb7)
[2m2025-06-24T17:18:56.272089Z[0m [32m INFO[0m 👤 Registering agent: Charlie Brown (sip:charlie@callcenter.example.com)
[2m2025-06-24T17:18:56.272094Z[0m [32m INFO[0m ✅ Agent registered: agent_charlie
[2m2025-06-24T17:18:56.272097Z[0m [32m INFO[0m Created agent: Charlie Brown (sip:charlie@callcenter.example.com)
[2m2025-06-24T17:18:56.272101Z[0m [32m INFO[0m ✅ Default queues created
[2m2025-06-24T17:18:56.272105Z[0m [32m INFO[0m 📞 Call center server is running

📞 CALL CENTER IS READY!
=======================

🔧 Configuration:
  - SIP Address: 0.0.0.0:5060
  - Domain: callcenter.example.com

📋 How to Test:
  1. Configure agent SIP phones to register
  2. Point them to this server (0.0.0.0:5060)
  3. Once registered, they'll show as 'available'
  4. Make test calls to configured queues
  5. Calls will be routed to available agents

🛑 Press Ctrl+C to stop the server

=== PARSING SIP MESSAGE ===
Input length: 427 bytes
Input as string: "REGISTER sip:127.0.0.1:5060 SIP/2.0\r\nFrom: <sip:alice@callcenter.example.com>;tag=tag-d3e14c4bc90f49729e8b69804a9c48bb\r\nTo: <sip:alice@callcenter.example.com>\r\nCall-ID: reg-3535-b45d09d2-8654-4c12-931c-4b6b8e48b58f\r\nCSeq: 1 REGISTER\r\nContact: <sip:alice@callcenter.example.com>\r\nExpires: 3600\r\nMax-Forwards: 70\r\nUser-Agent: RVoIP-SessionCore/1.0\r\nVia: SIP/2.0/UDP 0.0.0.0:5071;branch=z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c\r\n\r\n"
Input as hex: [52, 45, 47, 49, 53, 54, 45, 52, 20, 73, 69, 70, 3a, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 64, 33, 65, 31, 34, 63, 34, 62, 63, 39, 30, 66, 34, 39, 37, 32, 39, 65, 38, 62, 36, 39, 38, 30, 34, 61, 39, 63, 34, 38, 62, 62, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 72, 65, 67, 2d, 33, 35, 33, 35, 2d, 62, 34, 35, 64, 30, 39, 64, 32, 2d, 38, 36, 35, 34, 2d, 34, 63, 31, 32, 2d, 39, 33, 31, 63, 2d, 34, 62, 36, 62, 38, 65, 34, 38, 62, 35, 38, 66, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 52, 45, 47, 49, 53, 54, 45, 52, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 61, 6c, 69, 63, 65, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 45, 78, 70, 69, 72, 65, 73, 3a, 20, 33, 36, 30, 30, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 52, 56, 6f, 49, 50, 2d, 53, 65, 73, 73, 69, 6f, 6e, 43, 6f, 72, 65, 2f, 31, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 30, 2e, 30, 2e, 30, 2e, 30, 3a, 35, 30, 37, 31, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 35, 66, 61, 30, 31, 64, 30, 30, 31, 66, 65, 31, 34, 63, 66, 32, 61, 66, 36, 31, 37, 66, 61, 37, 35, 65, 30, 65, 61, 37, 33, 63, 0d, 0a, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T17:18:59.297035Z[0m [32m INFO[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server) [3mmethod[0m[2m=[0mREGISTER
Transaction loop starting for Key(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Register, uri: Uri { scheme: Sip, user: None, password: None, host: Address(127.0.0.1), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [From(From(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-d3e14c4bc90f49729e8b69804a9c48bb")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("reg-3535-b45d09d2-8654-4c12-931c-4b6b8e48b58f")), CSeq(CSeq { seq: 1, method: Register }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), Expires(Expires(3600)), MaxForwards(MaxForwards(70)), UserAgent(["RVoIP-SessionCore/1.0"]), Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(0.0.0.0), sent_by_port: Some(5071), params: [Branch("z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c")] }]))], body: b"" })) for transaction Key(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server)
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: RegistrationRequest { transaction_id: z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server, from_uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, contact_uri: Uri { scheme: Sip, user: Some("alice"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, expires: 3600 }
[2m2025-06-24T17:18:59.297402Z[0m [32m INFO[0m Registration request: sip:alice@callcenter.example.com -> sip:alice@callcenter.example.com (expires: 3600)
🎯 COORDINATOR: Handling event: RegistrationRequest { transaction_id: "Key(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server)", from_uri: "sip:alice@callcenter.example.com", contact_uri: "sip:alice@callcenter.example.com", expires: 3600 }
[2m2025-06-24T17:18:59.297477Z[0m [32m INFO[0m REGISTER request forwarded to application: sip:alice@callcenter.example.com -> sip:alice@callcenter.example.com (expires: 3600)
[2m2025-06-24T17:18:59.297504Z[0m [32m INFO[0m Received REGISTER request: sip:alice@callcenter.example.com -> sip:alice@callcenter.example.com (expires: 3600)
[2m2025-06-24T17:18:59.297511Z[0m [32m INFO[0m Processing REGISTER: transaction=Key(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server), from=sip:alice@callcenter.example.com, contact=sip:alice@callcenter.example.com, expires=3600
[2m2025-06-24T17:18:59.297523Z[0m [32m INFO[0m ✅ New registration for sip:alice@callcenter.example.com: expires in 3600s
[2m2025-06-24T17:18:59.297529Z[0m [32m INFO[0m REGISTER processed: Created for sip:alice@callcenter.example.com
[2m2025-06-24T17:18:59.297533Z[0m [32m INFO[0m Sending 200 OK for successful registration
[2m2025-06-24T17:18:59.297606Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5071
[2m2025-06-24T17:18:59.297663Z[0m [32m INFO[0m REGISTER response sent: 200 Registration successful
[2m2025-06-24T17:18:59.297673Z[0m [32m INFO[0m 📱 Updating agent status by SIP URI: sip:alice@callcenter.example.com -> available
[2m2025-06-24T17:18:59.297792Z[0m [32m INFO[0m ✅ Updated agent sip:alice@callcenter.example.com status to available in database
[2m2025-06-24T17:18:59.297917Z[0m [32m INFO[0m ✅ Agent Alice Smith added to available agents pool
Received command: TransitionTo(Completed) for transaction Key(z9hG4bK5fa01d001fe14cf2af617fa75e0ea73c:REGISTER:server)
Processing TransitionTo(Completed) current state: Trying
Valid state transition: Trying -> Completed
State successfully changed to: Completed
Sent StateChanged event result: Success
=== PARSING SIP MESSAGE ===
Input length: 421 bytes
Input as string: "REGISTER sip:127.0.0.1:5060 SIP/2.0\r\nFrom: <sip:bob@callcenter.example.com>;tag=tag-abea3661df9040cc87371479a99016d0\r\nTo: <sip:bob@callcenter.example.com>\r\nCall-ID: reg-3545-fe312ae7-cd9b-4b4c-a193-ffd89cccdb14\r\nCSeq: 1 REGISTER\r\nContact: <sip:bob@callcenter.example.com>\r\nExpires: 3600\r\nMax-Forwards: 70\r\nUser-Agent: RVoIP-SessionCore/1.0\r\nVia: SIP/2.0/UDP 0.0.0.0:5072;branch=z9hG4bK35805ebf7e094d7cae9e8309774d1292\r\n\r\n"
Input as hex: [52, 45, 47, 49, 53, 54, 45, 52, 20, 73, 69, 70, 3a, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 61, 62, 65, 61, 33, 36, 36, 31, 64, 66, 39, 30, 34, 30, 63, 63, 38, 37, 33, 37, 31, 34, 37, 39, 61, 39, 39, 30, 31, 36, 64, 30, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 72, 65, 67, 2d, 33, 35, 34, 35, 2d, 66, 65, 33, 31, 32, 61, 65, 37, 2d, 63, 64, 39, 62, 2d, 34, 62, 34, 63, 2d, 61, 31, 39, 33, 2d, 66, 66, 64, 38, 39, 63, 63, 63, 64, 62, 31, 34, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 52, 45, 47, 49, 53, 54, 45, 52, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 62, 6f, 62, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3e, 0d, 0a, 45, 78, 70, 69, 72, 65, 73, 3a, 20, 33, 36, 30, 30, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 52, 56, 6f, 49, 50, 2d, 53, 65, 73, 73, 69, 6f, 6e, 43, 6f, 72, 65, 2f, 31, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 30, 2e, 30, 2e, 30, 2e, 30, 3a, 35, 30, 37, 32, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 33, 35, 38, 30, 35, 65, 62, 66, 37, 65, 30, 39, 34, 64, 37, 63, 61, 65, 39, 65, 38, 33, 30, 39, 37, 37, 34, 64, 31, 32, 39, 32, 0d, 0a, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T17:19:00.299645Z[0m [32m INFO[0m Created new ServerNonInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server) [3mmethod[0m[2m=[0mREGISTER
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: RegistrationRequest { transaction_id: z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server, from_uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, contact_uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, expires: 3600 }
[2m2025-06-24T17:19:00.299689Z[0m [32m INFO[0m Registration request: sip:bob@callcenter.example.com -> sip:bob@callcenter.example.com (expires: 3600)
Transaction loop starting for Key(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server)
Initial state: Trying
Received command: TransitionTo(Trying) for transaction Key(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server)
Processing TransitionTo(Trying) current state: Trying
Already in requested state, no transition needed: Trying
Received command: ProcessMessage(Request(Request { method: Register, uri: Uri { scheme: Sip, user: None, password: None, host: Address(127.0.0.1), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [From(From(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [Tag("tag-abea3661df9040cc87371479a99016d0")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("reg-3545-fe312ae7-cd9b-4b4c-a193-ffd89cccdb14")), CSeq(CSeq { seq: 1, method: Register }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("bob"), password: None, host: Domain("callcenter.example.com"), port: None, parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), Expires(Expires(3600)), MaxForwards(MaxForwards(70)), UserAgent(["RVoIP-SessionCore/1.0"]), Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(0.0.0.0), sent_by_port: Some(5072), params: [Branch("z9hG4bK35805ebf7e094d7cae9e8309774d1292")] }]))], body: b"" })) for transaction Key(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server)
🎯 COORDINATOR: Handling event: RegistrationRequest { transaction_id: "Key(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server)", from_uri: "sip:bob@callcenter.example.com", contact_uri: "sip:bob@callcenter.example.com", expires: 3600 }
[2m2025-06-24T17:19:00.299778Z[0m [32m INFO[0m REGISTER request forwarded to application: sip:bob@callcenter.example.com -> sip:bob@callcenter.example.com (expires: 3600)
[2m2025-06-24T17:19:00.299787Z[0m [32m INFO[0m Received REGISTER request: sip:bob@callcenter.example.com -> sip:bob@callcenter.example.com (expires: 3600)
[2m2025-06-24T17:19:00.299793Z[0m [32m INFO[0m Processing REGISTER: transaction=Key(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server), from=sip:bob@callcenter.example.com, contact=sip:bob@callcenter.example.com, expires=3600
[2m2025-06-24T17:19:00.299803Z[0m [32m INFO[0m ✅ New registration for sip:bob@callcenter.example.com: expires in 3600s
[2m2025-06-24T17:19:00.299810Z[0m [32m INFO[0m REGISTER processed: Created for sip:bob@callcenter.example.com
[2m2025-06-24T17:19:00.299816Z[0m [32m INFO[0m Sending 200 OK for successful registration
[2m2025-06-24T17:19:00.299872Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5072
[2m2025-06-24T17:19:00.299923Z[0m [32m INFO[0m REGISTER response sent: 200 Registration successful
[2m2025-06-24T17:19:00.299931Z[0m [32m INFO[0m 📱 Updating agent status by SIP URI: sip:bob@callcenter.example.com -> available
[2m2025-06-24T17:19:00.300043Z[0m [32m INFO[0m ✅ Updated agent sip:bob@callcenter.example.com status to available in database
[2m2025-06-24T17:19:00.300134Z[0m [32m INFO[0m ✅ Agent Bob Johnson added to available agents pool
Received command: TransitionTo(Completed) for transaction Key(z9hG4bK35805ebf7e094d7cae9e8309774d1292:REGISTER:server)
Processing TransitionTo(Completed) current state: Trying
Valid state transition: Trying -> Completed
State successfully changed to: Completed
Sent StateChanged event result: Success
=== PARSING SIP MESSAGE ===
Input length: 679 bytes
Input as string: "INVITE sip:support@callcenter.example.com:5060 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5080;branch=z9hG4bK-3561-1-0\r\nFrom: \"Test Customer\" <sip:customer@127.0.0.1:5080>;tag=1\r\nTo: <sip:support@callcenter.example.com:5060>\r\nCall-ID: 1-3561@127.0.0.1\r\nCSeq: 1 INVITE\r\nContact: <sip:customer@127.0.0.1:5080>\r\nMax-Forwards: 70\r\nSubject: Test Call to Call Center\r\nUser-Agent: SIPp Customer/1.0\r\nContent-Type: application/sdp\r\nContent-Length:   237\r\n\r\nv=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n"
Input as hex: [49, 4e, 56, 49, 54, 45, 20, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 33, 35, 36, 31, 2d, 31, 2d, 30, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 22, 54, 65, 73, 74, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 22, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 3b, 74, 61, 67, 3d, 31, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 3e, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 33, 35, 36, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 49, 4e, 56, 49, 54, 45, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 53, 75, 62, 6a, 65, 63, 74, 3a, 20, 54, 65, 73, 74, 20, 43, 61, 6c, 6c, 20, 74, 6f, 20, 43, 61, 6c, 6c, 20, 43, 65, 6e, 74, 65, 72, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 2f, 31, 2e, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 54, 79, 70, 65, 3a, 20, 61, 70, 70, 6c, 69, 63, 61, 74, 69, 6f, 6e, 2f, 73, 64, 70, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 20, 20, 32, 33, 37, 0d, 0a, 0d, 0a, 76, 3d, 30, 0d, 0a, 6f, 3d, 63, 75, 73, 74, 6f, 6d, 65, 72, 20, 35, 33, 36, 35, 35, 37, 36, 35, 20, 32, 33, 35, 33, 36, 38, 37, 36, 33, 37, 20, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 73, 3d, 53, 49, 50, 70, 20, 54, 65, 73, 74, 20, 43, 61, 6c, 6c, 0d, 0a, 63, 3d, 49, 4e, 20, 49, 50, 34, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 74, 3d, 30, 20, 30, 0d, 0a, 6d, 3d, 61, 75, 64, 69, 6f, 20, 36, 30, 30, 30, 20, 52, 54, 50, 2f, 41, 56, 50, 20, 30, 20, 38, 20, 31, 30, 31, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 30, 20, 50, 43, 4d, 55, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 38, 20, 50, 43, 4d, 41, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 72, 74, 70, 6d, 61, 70, 3a, 31, 30, 31, 20, 74, 65, 6c, 65, 70, 68, 6f, 6e, 65, 2d, 65, 76, 65, 6e, 74, 2f, 38, 30, 30, 30, 0d, 0a, 61, 3d, 66, 6d, 74, 70, 3a, 31, 30, 31, 20, 30, 2d, 31, 35, 0d, 0a, 61, 3d, 73, 65, 6e, 64, 72, 65, 63, 76, 0d, 0a]
===========================
=== PARSE SUCCESS ===
Successfully parsed message
=====================
[2m2025-06-24T17:19:03.985369Z[0m [32m INFO[0m Created new ServerInviteTransaction [3mid[0m[2m=[0mKey(z9hG4bK-3561-1-0:INVITE:server) [3mmethod[0m[2m=[0mINVITE
🎯 FOUND UNASSOCIATED INVITE: Processing new incoming INVITE from 127.0.0.1:5080
🔍 INVITE HANDLER: Processing initial INVITE request from 127.0.0.1:5080
[2m2025-06-24T17:19:03.985416Z[0m [32m INFO[0m Created early dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9 from INVITE request
🔍 INVITE HANDLER: Created early dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
Transaction loop starting for Key(z9hG4bK-3561-1-0:INVITE:server)
Initial state: Proceeding
Received command: TransitionTo(Proceeding) for transaction Key(z9hG4bK-3561-1-0:INVITE:server)
Processing TransitionTo(Proceeding) current state: Proceeding
Already in requested state, no transition needed: Proceeding
🔍 INVITE HANDLER: Associated transaction Key(z9hG4bK-3561-1-0:INVITE:server) with dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
🔍 INVITE HANDLER: About to send SessionCoordinationEvent::IncomingCall for dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
🔍 INVITE HANDLER: Successfully sent SessionCoordinationEvent::IncomingCall for dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: IncomingCall { dialog_id: DialogId(1a366a05-3a0b-4c45-8756-cbe03d23ceb9), transaction_id: z9hG4bK-3561-1-0:INVITE:server, request: Request { method: Invite, uri: Uri { scheme: Sip, user: Some("support"), password: None, host: Domain("callcenter.example.com"), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, version: Version { major: 2, minor: 0 }, headers: [Via(Via([ViaHeader { sent_protocol: SentProtocol { name: "SIP", version: "2.0", transport: "UDP" }, sent_by_host: Address(127.0.0.1), sent_by_port: Some(5080), params: [Branch("z9hG4bK-3561-1-0")] }])), From(From(Address { display_name: Some("Test Customer"), uri: Uri { scheme: Sip, user: Some("customer"), password: None, host: Address(127.0.0.1), port: Some(5080), parameters: [], headers: {}, raw_uri: None }, params: [Tag("1")] })), To(To(Address { display_name: None, uri: Uri { scheme: Sip, user: Some("support"), password: None, host: Domain("callcenter.example.com"), port: Some(5060), parameters: [], headers: {}, raw_uri: None }, params: [] })), CallId(CallId("1-3561@127.0.0.1")), CSeq(CSeq { seq: 1, method: Invite }), Contact(Contact([Params([ContactParamInfo { address: Address { display_name: None, uri: Uri { scheme: Sip, user: Some("customer"), password: None, host: Address(127.0.0.1), port: Some(5080), parameters: [], headers: {}, raw_uri: None }, params: [] } }])])), MaxForwards(MaxForwards(70)), Subject(Subject("Test Call to Call Center")), UserAgent(["SIPp", "Customer/1.0"]), ContentType(ContentType(ContentTypeValue { m_type: "application", m_subtype: "sdp", parameters: {} })), ContentLength(ContentLength(237))], body: b"v=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n" }, source: 127.0.0.1:5080 }
[2m2025-06-24T17:19:03.985542Z[0m [32m INFO[0m handle_incoming_call called for dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
[2m2025-06-24T17:19:03.985493Z[0m [32m INFO[0m Initial INVITE processed, created dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
[2m2025-06-24T17:19:03.985548Z[0m [32m INFO[0m Incoming call from dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9: sip:from@127.0.0.1 -> sip:to@local
[2m2025-06-24T17:19:03.985568Z[0m [32m INFO[0m Created session sess_89583652-8d12-4e75-a862-f5be9c2e727f for incoming call dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
[2m2025-06-24T17:19:03.985577Z[0m [32m INFO[0m Calling handler.on_incoming_call for session sess_89583652-8d12-4e75-a862-f5be9c2e727f
[2m2025-06-24T17:19:03.985603Z[0m [32m INFO[0m 📞 Processing incoming call: sess_89583652-8d12-4e75-a862-f5be9c2e727f from sip:from@127.0.0.1
[2m2025-06-24T17:19:03.985623Z[0m [32m INFO[0m 🎯 Routing decision for call sess_89583652-8d12-4e75-a862-f5be9c2e727f: Queue { queue_id: "general", priority: 50, reason: "Queue selected for standard customer with skills [\"general\"]" }
[2m2025-06-24T17:19:03.985630Z[0m [32m INFO[0m 📋 Queueing call sess_89583652-8d12-4e75-a862-f5be9c2e727f in queue general with priority 50 (Queue selected for standard customer with skills ["general"])
[2m2025-06-24T17:19:03.985635Z[0m [32m INFO[0m 📋 Creating queue: General Support (general)
[2m2025-06-24T17:19:03.985641Z[0m [32m INFO[0m 📞 Enqueuing call sess_89583652-8d12-4e75-a862-f5be9c2e727f to queue general
[2m2025-06-24T17:19:03.985651Z[0m [32m INFO[0m ✅ Call sess_89583652-8d12-4e75-a862-f5be9c2e727f routing completed in 0ms
[2m2025-06-24T17:19:03.985685Z[0m [32m INFO[0m Handler decision for session sess_89583652-8d12-4e75-a862-f5be9c2e727f: Accept(None)
🎯 COORDINATOR: Handling event: SessionCreated { session_id: SessionId("sess_89583652-8d12-4e75-a862-f5be9c2e727f"), from: "sip:from@127.0.0.1", to: "sip:to@local", call_state: Ringing }
[2m2025-06-24T17:19:03.985726Z[0m [32m INFO[0m Session sess_89583652-8d12-4e75-a862-f5be9c2e727f created with state Ringing
[2m2025-06-24T17:19:03.985694Z[0m [32m INFO[0m Requesting SDP negotiation for session sess_89583652-8d12-4e75-a862-f5be9c2e727f as UAS
[2m2025-06-24T17:19:03.985752Z[0m [33m WARN[0m Waiting for SDP negotiation to complete
[2m2025-06-24T17:19:03.985758Z[0m [32m INFO[0m Answering call 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
🎯 COORDINATOR: Handling event: SdpNegotiationRequested { session_id: SessionId("sess_89583652-8d12-4e75-a862-f5be9c2e727f"), role: "uas", local_sdp: None, remote_sdp: Some("v=0\r\no=customer 53655765 2353687637 IN IP4 127.0.0.1\r\ns=SIPp Test Call\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0 8 101\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=sendrecv\r\n") }
[2m2025-06-24T17:19:03.985807Z[0m [32m INFO[0m Sending response message to 127.0.0.1:5080
[2m2025-06-24T17:19:03.985839Z[0m [32m INFO[0m SDP negotiation requested for session sess_89583652-8d12-4e75-a862-f5be9c2e727f as uas
[2m2025-06-24T17:19:03.985855Z[0m [32m INFO[0m Negotiating SDP as UAS for session sess_89583652-8d12-4e75-a862-f5be9c2e727f
[2m2025-06-24T17:19:03.985862Z[0m [32m INFO[0m Starting media session for dialog: media-sess_89583652-8d12-4e75-a862-f5be9c2e727f
[2m2025-06-24T17:19:03.985875Z[0m [32m INFO[0m Created global port allocator with range 16384-32767
[2m2025-06-24T17:19:03.985902Z[0m [32m INFO[0m Dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9 local tag set to match response: tag-f17ae27f58974951a2e826e2588d8e51
[2m2025-06-24T17:19:03.985911Z[0m [32m INFO[0m Dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9 transitioned to Confirmed state
[2m2025-06-24T17:19:03.985919Z[0m [32m INFO[0m Updated dialog lookup for confirmed dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
[2m2025-06-24T17:19:03.985923Z[0m [32m INFO[0m Successfully answered call 1a366a05-3a0b-4c45-8756-cbe03d23ceb9
Received command: CancelTimer100 for transaction Key(z9hG4bK-3561-1-0:INVITE:server)
Received command: TransitionTo(Terminated) for transaction Key(z9hG4bK-3561-1-0:INVITE:server)
Processing TransitionTo(Terminated) current state: Proceeding
Valid state transition: Proceeding -> Terminated
State successfully changed to: Terminated
Sent StateChanged event result: Success
Transaction loop ending for Key(z9hG4bK-3561-1-0:INVITE:server). Final state: Terminated
=== PARSING SIP MESSAGE ===
Input length: 391 bytes
Input as string: "ACK sip:server@0.0.0.0:5060 SIP/2.0\r\nVia: SIP/2.0/UDP 127.0.0.1:5080;branch=z9hG4bK-3561-1-4\r\nFrom: \"Test Customer\" <sip:customer@127.0.0.1:5080>;tag=1\r\nTo: <sip:support@callcenter.example.com:5060>;tag=tag-f17ae27f58974951a2e826e2588d8e51\r\nCall-ID: 1-3561@127.0.0.1\r\nCSeq: 1 ACK\r\nContact: <sip:customer@127.0.0.1:5080>\r\nMax-Forwards: 70\r\nUser-Agent: SIPp Customer/1.0\r\nContent-Length: 0\r\n\r\n"
Input as hex: [41, 43, 4b, 20, 73, 69, 70, 3a, 73, 65, 72, 76, 65, 72, 40, 30, 2e, 30, 2e, 30, 2e, 30, 3a, 35, 30, 36, 30, 20, 53, 49, 50, 2f, 32, 2e, 30, 0d, 0a, 56, 69, 61, 3a, 20, 53, 49, 50, 2f, 32, 2e, 30, 2f, 55, 44, 50, 20, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3b, 62, 72, 61, 6e, 63, 68, 3d, 7a, 39, 68, 47, 34, 62, 4b, 2d, 33, 35, 36, 31, 2d, 31, 2d, 34, 0d, 0a, 46, 72, 6f, 6d, 3a, 20, 22, 54, 65, 73, 74, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 22, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 3b, 74, 61, 67, 3d, 31, 0d, 0a, 54, 6f, 3a, 20, 3c, 73, 69, 70, 3a, 73, 75, 70, 70, 6f, 72, 74, 40, 63, 61, 6c, 6c, 63, 65, 6e, 74, 65, 72, 2e, 65, 78, 61, 6d, 70, 6c, 65, 2e, 63, 6f, 6d, 3a, 35, 30, 36, 30, 3e, 3b, 74, 61, 67, 3d, 74, 61, 67, 2d, 66, 31, 37, 61, 65, 32, 37, 66, 35, 38, 39, 37, 34, 39, 35, 31, 61, 32, 65, 38, 32, 36, 65, 32, 35, 38, 38, 64, 38, 65, 35, 31, 0d, 0a, 43, 61, 6c, 6c, 2d, 49, 44, 3a, 20, 31, 2d, 33, 35, 36, 31, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 0d, 0a, 43, 53, 65, 71, 3a, 20, 31, 20, 41, 43, 4b, 0d, 0a, 43, 6f, 6e, 74, 61, 63, 74, 3a, 20, 3c, 73, 69, 70, 3a, 63, 75, 73, 74, 6f, 6d, 65, 72, 40, 31, 32, 37, 2e, 30, 2e, 30, 2e, 31, 3a, 35, 30, 38, 30, 3e, 0d, 0a, 4d, 61, 78, 2d, 46, 6f, 72, 77, 61, 72, 64, 73, 3a, 20, 37, 30, 0d, 0a, 55, 73, 65, 72, 2d, 41, 67, 65, 6e, 74, 3a, 20, 53, 49, 50, 70, 20, 43, 75, 73, 74, 6f, 6d, 65, 72, 2f, 31, 2e, 30, 0d, 0a, 43, 6f, 6e, 74, 65, 6e, 74, 2d, 4c, 65, 6e, 67, 74, 68, 3a, 20, 30, 0d, 0a, 0d, 0a]
===========================
Attempting to parse tag from: [116, 97, 103, 61, 116, 97, 103, 45, 102, 49, 55, 97, 101, 50, 55, 102, 53, 56, 57, 55, 52, 57, 53, 49, 97, 50, 101, 56, 50, 54, 101, 50, 53, 56, 56, 100, 56, 101, 53, 49]
Successfully parsed tag: tag-f17ae27f58974951a2e826e2588d8e51
=== PARSE SUCCESS ===
Successfully parsed message
=====================
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"uri": Object({"user": String("customer"), "headers": Object({}), "scheme": String("Sip"), "port": Number(5080.0), "raw_uri": Null, "host": Object({"Address": String("127.0.0.1")}), "password": Null, "parameters": Array([])}), "params": Array([Object({"Tag": String("1")})]), "display_name": String("Test Customer")})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("1")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("1")})
Final value for path 'headers.From.params[0].Tag': String("1")
Parsed path: [Field("headers"), Field("From"), Field("params"), Index(0), Field("Tag")] from 'headers.From.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"uri": Object({"host": Object({"Address": String("127.0.0.1")}), "parameters": Array([]), "password": Null, "port": Number(5080.0), "raw_uri": Null, "headers": Object({}), "user": String("customer"), "scheme": String("Sip")}), "display_name": String("Test Customer"), "params": Array([Object({"Tag": String("1")})])})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("1")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("1")})
Final value for path 'headers.From.params[0].Tag': String("1")
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"uri": Object({"headers": Object({}), "scheme": String("Sip"), "password": Null, "host": Object({"Domain": String("callcenter.example.com")}), "raw_uri": Null, "parameters": Array([]), "port": Number(5060.0), "user": String("support")}), "display_name": Null, "params": Array([])})
Processing segment Index(0) at index 3, current value: Array([])
Index 0 out of bounds for array of length 0
Parsed path: [Field("headers"), Field("To"), Field("params"), Index(0), Field("Tag")] from 'headers.To.params[0].Tag'
Processing segment Field("params") at index 2, current value: Object({"params": Array([Object({"Tag": String("tag-f17ae27f58974951a2e826e2588d8e51")})]), "display_name": Null, "uri": Object({"scheme": String("Sip"), "raw_uri": Null, "user": String("support"), "password": Null, "port": Number(5060.0), "host": Object({"Domain": String("callcenter.example.com")}), "parameters": Array([]), "headers": Object({})})})
Processing segment Index(0) at index 3, current value: Array([Object({"Tag": String("tag-f17ae27f58974951a2e826e2588d8e51")})])
Processing segment Field("Tag") at index 4, current value: Object({"Tag": String("tag-f17ae27f58974951a2e826e2588d8e51")})
Final value for path 'headers.To.params[0].Tag': String("tag-f17ae27f58974951a2e826e2588d8e51")
[2m2025-06-24T17:19:03.990877Z[0m [32m INFO[0m ✅ RFC 3261: ACK received for transaction Key(z9hG4bK-3561-1-0:INVITE:server) in dialog 1a366a05-3a0b-4c45-8756-cbe03d23ceb9 - time to start media (UAS side)
📨 EVENT LOOP: Received session coordination event in background task
🎪 SESSION COORDINATION: Received event: AckReceived { dialog_id: DialogId(1a366a05-3a0b-4c45-8756-cbe03d23ceb9), transaction_id: z9hG4bK-3561-1-0:INVITE:server, negotiated_sdp: None }
[2m2025-06-24T17:19:03.990936Z[0m [32m INFO[0m ✅ RFC 3261: ACK RECEIVED for session sess_89583652-8d12-4e75-a862-f5be9c2e727f - creating media session (UAS side)
[2m2025-06-24T17:19:04.488207Z[0m [32m INFO[0m Started UDP transport receiver tasks
[2m2025-06-24T17:19:04.488274Z[0m [32m INFO[0m Started RTP session with SSRC=5504f274
[2m2025-06-24T17:19:04.488285Z[0m [32m INFO[0m ✅ Created media session with REAL RTP session: media-sess_89583652-8d12-4e75-a862-f5be9c2e727f (port: 17844)
[2m2025-06-24T17:19:04.488295Z[0m [32m INFO[0m ✅ Created media session: media-sess_89583652-8d12-4e75-a862-f5be9c2e727f for SIP session: sess_89583652-8d12-4e75-a862-f5be9c2e727f with real MediaSessionController + zero-copy enabled
[2m2025-06-24T17:19:04.488338Z[0m [32m INFO[0m Applying negotiated config: codec=PCMU, remote=127.0.0.1:6000
[2m2025-06-24T17:19:04.488348Z[0m [32m INFO[0m ✅ Updated RTP session remote address for dialog media-sess_89583652-8d12-4e75-a862-f5be9c2e727f: 127.0.0.1:6000
[2m2025-06-24T17:19:04.488359Z[0m [32m INFO[0m SDP negotiation as UAS successful: codec=PCMU, local=127.0.0.1:17844, remote=127.0.0.1:6000
[2m2025-06-24T17:19:04.488368Z[0m [32m INFO[0m ✅ Updated media session for SIP session: sess_89583652-8d12-4e75-a862-f5be9c2e727f with remote: 127.0.0.1:6000 and codecs: ["PCMU"]
[2m2025-06-24T17:19:04.488373Z[0m [32m INFO[0m Updated media session with remote SDP (offer) for session sess_89583652-8d12-4e75-a862-f5be9c2e727f
🎯 COORDINATOR: Handling event: MediaEvent { session_id: SessionId("sess_89583652-8d12-4e75-a862-f5be9c2e727f"), event: "rfc_compliant_media_creation_uas" }
[2m2025-06-24T17:19:04.488390Z[0m [32m INFO[0m Media creation event for sess_89583652-8d12-4e75-a862-f5be9c2e727f: rfc_compliant_media_creation_uas
🎯 COORDINATOR: Handling event: MediaNegotiated { session_id: SessionId("sess_89583652-8d12-4e75-a862-f5be9c2e727f"), local_addr: 127.0.0.1:17844, remote_addr: 127.0.0.1:6000, codec: "PCMU" }
🎯 COORDINATOR: Handling event: SdpEvent { session_id: SessionId("sess_89583652-8d12-4e75-a862-f5be9c2e727f"), event_type: "generated_sdp_answer", sdp: "v=0\r\no=rvoip 1750785544 1750785544 IN IP4 127.0.0.1\r\ns=RVOIP Session\r\nc=IN IP4 127.0.0.1\r\nt=0 0\r\nm=audio 17844 RTP/AVP 0\r\na=rtpmap:0 PCMU/8000\r\na=sendrecv\r\n" }
🎯 COORDINATOR: Handling event: StateChanged { session_id: SessionId("sess_89583652-8d12-4e75-a862-f5be9c2e727f"), old_state: Ringing, new_state: Active }
[2m2025-06-24T17:19:04.488417Z[0m [32m INFO[0m Session sess_89583652-8d12-4e75-a862-f5be9c2e727f state changed: Ringing -> Active
[2m2025-06-24T17:19:04.488425Z[0m [32m INFO[0m Media info available: true
[2m2025-06-24T17:19:04.488430Z[0m [32m INFO[0m Local SDP length: Some(156)
[2m2025-06-24T17:19:04.488451Z[0m [32m INFO[0m Remote SDP length: Some(237)
[2m2025-06-24T17:19:04.488456Z[0m [32m INFO[0m Notifying handler about call sess_89583652-8d12-4e75-a862-f5be9c2e727f establishment
[2m2025-06-24T17:19:04.488460Z[0m [32m INFO[0m CallCenterCallHandler: Call sess_89583652-8d12-4e75-a862-f5be9c2e727f established
[2m2025-06-24T17:19:04.488466Z[0m [32m INFO[0m 📞 Call sess_89583652-8d12-4e75-a862-f5be9c2e727f marked as established/bridged
[2m2025-06-24T17:19:06.272756Z[0m [32m INFO[0m 📊 Queue 'general' - Waiting: 1, Avg Wait: 2s
[2m2025-06-24T17:19:06.272906Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
[2m2025-06-24T17:19:16.273327Z[0m [32m INFO[0m 📊 Queue 'general' - Waiting: 1, Avg Wait: 12s
[2m2025-06-24T17:19:16.273748Z[0m [32m INFO[0m 👥 Agents - Available: 2, Busy: 0
